//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!WIDTH LUMA.w 3 *
//!HEIGHT LUMA.h 3 *
//!COMPONENTS 1
//!BIND LUMA
//!SAVE LANCZOS3
//!DESC [AiUpscale_Fast_3x_LineArt_RT] lanczos3

#define FIX(c)		max(abs(c), 1e-5)
#define PI		3.141592653

vec3 weight3(float x)
{
    vec3 s = FIX(2.0 * PI * vec3(x - 1.5, x - 0.5, x + 0.5));
    return sin(s) * sin(s / 3.0) / (s * s);
}

float line_run(float ypos, vec3 xpos1, vec3 xpos2, vec3 linetaps1, vec3 linetaps2)
{
    return float(LUMA_tex(vec2(xpos1.r, ypos))) * linetaps1.r + float(LUMA_tex(vec2(xpos1.g, ypos))) * linetaps2.r + float(LUMA_tex(vec2(xpos1.b, ypos))) * linetaps1.g + float(LUMA_tex(vec2(xpos2.r, ypos))) * linetaps2.g + float(LUMA_tex(vec2(xpos2.g, ypos))) * linetaps1.b + float(LUMA_tex(vec2(xpos2.b, ypos))) * linetaps2.b;
}

vec4 hook()
{
    vec2 pos = LUMA_pos + LUMA_pt * 0.5;
    vec2 f = fract(pos / LUMA_pt);

    vec3 linetaps1 = weight3(0.5 - f.x * 0.5);
    vec3 linetaps2 = weight3(1.0 - f.x * 0.5);
    vec3 columntaps1 = weight3(0.5 - f.y * 0.5);
    vec3 columntaps2 = weight3(1.0 - f.y * 0.5);

    float suml = dot(linetaps1, vec3(1.0)) + dot(linetaps2, vec3(1.0));
    float sumc = dot(columntaps1, vec3(1.0)) + dot(columntaps2, vec3(1.0));
    linetaps1 /= suml;
    linetaps2 /= suml;
    columntaps1 /= sumc;
    columntaps2 /= sumc;

    vec2 xystart = (-2.5 - f) * LUMA_pt + pos;
    vec3 xpos1 = vec3(xystart.x, xystart.x + LUMA_pt.x, xystart.x + LUMA_pt.x * 2.0);
    vec3 xpos2 = vec3(xystart.x + LUMA_pt.x * 3.0, xystart.x + LUMA_pt.x * 4.0, xystart.x + LUMA_pt.x * 5.0);

    return vec4(line_run(xystart.y, xpos1, xpos2, linetaps1, linetaps2) * columntaps1.r + line_run(xystart.y + LUMA_pt.y, xpos1, xpos2, linetaps1, linetaps2) * columntaps2.r + line_run(xystart.y + LUMA_pt.y * 2.0 , xpos1, xpos2, linetaps1, linetaps2) * columntaps1.g + line_run(xystart.y + LUMA_pt.y * 3.0 , xpos1, xpos2, linetaps1, linetaps2) * columntaps2.g + line_run(xystart.y + LUMA_pt.y * 4.0 , xpos1, xpos2, linetaps1, linetaps2) * columntaps1.b + line_run(xystart.y + LUMA_pt.y * 5.0 , xpos1, xpos2, linetaps1, linetaps2) * columntaps2.b, 0, 0, 0);
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND LUMA
//!SAVE FEATURE1
//!DESC [AiUpscale_Fast_3x_LineArt_RT] feature map 1

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.816254198551178,0.415314882993698,-0.076006092131138,0.121086947619915);
res += vec4(-0.003016950795427,-0.003698014421389,0.014965131878853,-0.023035103455186) * float(LUMA_texOff(vec2(-2,-2)));
res += vec4(0.016026144847274,0.035688243806362,-0.026114074513316,-0.023181982338428) * float(LUMA_texOff(vec2(-2,-1)));
res += vec4(-0.022730326279998,-0.070953749120235,-0.006723124068230,0.112686038017273) * float(LUMA_texOff(vec2(-2,0)));
res += vec4(0.015557316131890,0.016981175169349,0.024299563840032,-0.006780521944165) * float(LUMA_texOff(vec2(-2,1)));
res += vec4(-0.012573654763401,-0.004116414114833,0.014906750991940,-0.004482933785766) * float(LUMA_texOff(vec2(-2,2)));
res += vec4(-0.000284725014353,0.039680331945419,-0.008762628771365,0.068216934800148) * float(LUMA_texOff(vec2(-1,-2)));
res += vec4(0.001623753574677,-0.060573276132345,0.152317762374878,-0.024296665564179) * float(LUMA_texOff(vec2(-1,-1)));
res += vec4(0.019765781238675,0.240303292870522,-0.213153094053268,-0.084855034947395) * float(LUMA_texOff(vec2(-1,0)));
res += vec4(-0.056804716587067,-0.062383223325014,-0.010404384694993,0.017568213865161) * float(LUMA_texOff(vec2(-1,1)));
res += vec4(0.029500579461455,0.029330296441913,0.092497393488884,0.017567932605743) * float(LUMA_texOff(vec2(-1,2)));
res += vec4(-0.007935043424368,-0.082843586802483,-0.079684160649776,0.002079139463603) * float(LUMA_texOff(vec2(0,-2)));
res += vec4(-0.075003825128078,0.358655929565430,0.044677823781967,0.176840156316757) * float(LUMA_texOff(vec2(0,-1)));
res += vec4(1.000372290611267,-1.093930602073669,0.274570226669312,-1.426817178726196) * float(LUMA_texOff(vec2(0,0)));
res += vec4(0.070052519440651,0.031375966966152,-0.645614027976990,-0.017774954438210) * float(LUMA_texOff(vec2(0,1)));
res += vec4(-0.025723520666361,-0.085521332919598,-0.002705588005483,-0.040936078876257) * float(LUMA_texOff(vec2(0,2)));
res += vec4(0.010902539826930,0.043859858065844,0.017757587134838,-0.027161296457052) * float(LUMA_texOff(vec2(1,-2)));
res += vec4(-0.024214325472713,-0.099566608667374,-0.127951458096504,0.209237784147263) * float(LUMA_texOff(vec2(1,-1)));
res += vec4(0.023721655830741,0.100142009556293,0.813079297542572,0.416141271591187) * float(LUMA_texOff(vec2(1,0)));
res += vec4(-0.031544931232929,-0.010635792277753,-0.243165105581284,0.058420613408089) * float(LUMA_texOff(vec2(1,1)));
res += vec4(0.031337283551693,0.036881521344185,-0.083381138741970,0.027512731030583) * float(LUMA_texOff(vec2(1,2)));
res += vec4(-0.012996848672628,-0.002192536601797,0.050656467676163,0.021886765956879) * float(LUMA_texOff(vec2(2,-2)));
res += vec4(0.009044957347214,0.068709984421730,-0.054921891540289,-0.028947802260518) * float(LUMA_texOff(vec2(2,-1)));
res += vec4(-0.022571999579668,-0.049871027469635,-0.036857653409243,-0.055392563343048) * float(LUMA_texOff(vec2(2,0)));
res += vec4(0.047984421253204,-0.014767200686038,0.058682333678007,-0.011716894805431) * float(LUMA_texOff(vec2(2,1)));
res += vec4(-0.021656993776560,0.003636869834736,-0.007831317372620,0.010033215396106) * float(LUMA_texOff(vec2(2,2)));
res = max(res, vec4(0.0)) + vec4(-0.071199782192707,1.195798993110657,0.021902719512582,-0.031599231064320) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.117989875376225,0.250113576650620,0.021381832659245,-0.117658317089081);
res += vec4(-0.013757111504674,0.040468379855156,-0.007468787953258,0.063709802925587) * float(LUMA_texOff(vec2(-2,-2)));
res += vec4(0.017181305214763,0.016682052984834,0.040754932910204,-0.068507298827171) * float(LUMA_texOff(vec2(-2,-1)));
res += vec4(-0.016661856323481,-0.015307065099478,0.026367641985416,0.064874559640884) * float(LUMA_texOff(vec2(-2,0)));
res += vec4(-0.012585868127644,0.009302346035838,-0.040660880506039,-0.056952256709337) * float(LUMA_texOff(vec2(-2,1)));
res += vec4(-0.001348111545667,0.083459071815014,-0.005908687133342,0.014529948122799) * float(LUMA_texOff(vec2(-2,2)));
res += vec4(-0.001001951168291,-0.038509059697390,0.017734743654728,0.031117992475629) * float(LUMA_texOff(vec2(-1,-2)));
res += vec4(-0.056666355580091,0.044453024864197,-0.129133477807045,-0.118203185498714) * float(LUMA_texOff(vec2(-1,-1)));
res += vec4(-0.243491262197495,-0.445515751838684,0.155954375863075,0.237036705017090) * float(LUMA_texOff(vec2(-1,0)));
res += vec4(0.153003618121147,-0.111277170479298,-0.366405308246613,-0.075835473835468) * float(LUMA_texOff(vec2(-1,1)));
res += vec4(-0.052856776863337,-0.021078623831272,0.425482869148254,-0.022069366648793) * float(LUMA_texOff(vec2(-1,2)));
res += vec4(-0.177771195769310,-0.048717547208071,0.031895872205496,0.157706201076508) * float(LUMA_texOff(vec2(0,-2)));
res += vec4(0.261742502450943,-0.143624871969223,0.093441680073738,0.454586207866669) * float(LUMA_texOff(vec2(0,-1)));
res += vec4(-1.094534993171692,-0.583141267299652,-0.127814322710037,-0.052637159824371) * float(LUMA_texOff(vec2(0,0)));
res += vec4(0.367208093404770,0.056283768266439,-0.364833980798721,-0.356061130762100) * float(LUMA_texOff(vec2(0,1)));
res += vec4(0.025340888649225,-0.022260209545493,0.239772230386734,-0.067440442740917) * float(LUMA_texOff(vec2(0,2)));
res += vec4(0.059613611549139,-0.067109212279320,-0.052092857658863,0.082621961832047) * float(LUMA_texOff(vec2(1,-2)));
res += vec4(0.092324897646904,-0.070764698088169,-0.025670476257801,-0.238276496529579) * float(LUMA_texOff(vec2(1,-1)));
res += vec4(0.688194036483765,-0.405388057231903,0.133279219269753,0.211501136422157) * float(LUMA_texOff(vec2(1,0)));
res += vec4(-0.225872263312340,-0.277223855257034,-0.025735612958670,-0.037937335669994) * float(LUMA_texOff(vec2(1,1)));
res += vec4(0.085420012474060,0.018155196681619,-0.006130486726761,0.029564986005425) * float(LUMA_texOff(vec2(1,2)));
res += vec4(-0.007497872225940,-0.021691270172596,0.050054565072060,-0.035658601671457) * float(LUMA_texOff(vec2(2,-2)));
res += vec4(-0.006774828769267,0.112106680870056,-0.051209136843681,0.065708622336388) * float(LUMA_texOff(vec2(2,-1)));
res += vec4(-0.049815807491541,0.011503789573908,-0.029140420258045,0.024655690416694) * float(LUMA_texOff(vec2(2,0)));
res += vec4(-0.003936733584851,0.104031294584274,0.031625524163246,-0.045202210545540) * float(LUMA_texOff(vec2(2,1)));
res += vec4(-0.008303463459015,0.035692416131496,0.004008104559034,-0.057941794395447) * float(LUMA_texOff(vec2(2,2)));
res = max(res, vec4(0.0)) + vec4(0.982648670673370,0.223985731601715,-0.028199851512909,0.778321266174316) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND LUMA
//!SAVE FEATURE2
//!DESC [AiUpscale_Fast_3x_LineArt_RT] feature map 2

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(0.242257237434387,-0.016276009380817,-0.119837164878845,0.088183991611004);
res += vec4(0.026871012523770,0.009022180922329,-0.008436695672572,0.004476165398955) * float(LUMA_texOff(vec2(-2,-2)));
res += vec4(-0.017558719962835,0.031192535534501,0.091624140739441,-0.001961749978364) * float(LUMA_texOff(vec2(-2,-1)));
res += vec4(-0.036730866879225,-0.029006289318204,0.503230988979340,0.009075970388949) * float(LUMA_texOff(vec2(-2,0)));
res += vec4(0.045872688293457,0.034334242343903,0.037530653178692,0.010168248787522) * float(LUMA_texOff(vec2(-2,1)));
res += vec4(-0.021405218169093,-0.018116747960448,-0.001514316420071,-0.022523570805788) * float(LUMA_texOff(vec2(-2,2)));
res += vec4(0.087977662682533,-0.017489859834313,-0.118600808084011,0.052130002528429) * float(LUMA_texOff(vec2(-1,-2)));
res += vec4(-0.108542047441006,-0.323325902223587,0.346974700689316,-0.068050660192966) * float(LUMA_texOff(vec2(-1,-1)));
res += vec4(0.171284049749374,-0.063271231949329,-0.040338329970837,-0.101565904915333) * float(LUMA_texOff(vec2(-1,0)));
res += vec4(-0.025848481804132,-0.037671666592360,-0.310809016227722,0.047295335680246) * float(LUMA_texOff(vec2(-1,1)));
res += vec4(0.011105658486485,-0.014698361046612,-0.011500634253025,0.027282662689686) * float(LUMA_texOff(vec2(-1,2)));
res += vec4(0.048459004610777,-0.074541918933392,0.143680244684219,0.059185154736042) * float(LUMA_texOff(vec2(0,-2)));
res += vec4(-0.590480983257294,0.406917124986649,-0.118790127336979,0.262878179550171) * float(LUMA_texOff(vec2(0,-1)));
res += vec4(-0.827013552188873,0.512089788913727,-0.689428269863129,-0.719825863838196) * float(LUMA_texOff(vec2(0,0)));
res += vec4(-0.000071267655585,-0.249108880758286,0.171268865466118,-0.130191579461098) * float(LUMA_texOff(vec2(0,1)));
res += vec4(0.005243705585599,0.033208742737770,0.057350918650627,-0.048000015318394) * float(LUMA_texOff(vec2(0,2)));
res += vec4(0.040894739329815,-0.042238425463438,-0.025497965514660,-0.086684510111809) * float(LUMA_texOff(vec2(1,-2)));
res += vec4(-0.153750225901604,0.025309689342976,-0.013368434272707,0.507722675800323) * float(LUMA_texOff(vec2(1,-1)));
res += vec4(-0.111279502511024,0.145204737782478,0.044727344065905,0.115363515913486) * float(LUMA_texOff(vec2(1,0)));
res += vec4(-0.012248862534761,-0.146728709340096,0.094661124050617,-0.025957144796848) * float(LUMA_texOff(vec2(1,1)));
res += vec4(0.048420514911413,-0.029149293899536,-0.065599925816059,0.035944636911154) * float(LUMA_texOff(vec2(1,2)));
res += vec4(-0.015530611388385,0.020088462159038,0.007136450614780,-0.014507074840367) * float(LUMA_texOff(vec2(2,-2)));
res += vec4(-0.008289270102978,-0.039820723235607,-0.026878334581852,0.014299449510872) * float(LUMA_texOff(vec2(2,-1)));
res += vec4(-0.015274154022336,-0.084898978471756,-0.045176777988672,-0.056984409689903) * float(LUMA_texOff(vec2(2,0)));
res += vec4(0.019008172675967,0.047665856778622,0.038823571056128,0.048502471297979) * float(LUMA_texOff(vec2(2,1)));
res += vec4(-0.012655046768486,0.018520502373576,0.019163208082318,-0.005711034871638) * float(LUMA_texOff(vec2(2,2)));
res = max(res, vec4(0.0)) + vec4(0.354819208383560,0.048918038606644,-0.140898302197456,0.101054064929485) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.230283051729202,-0.716818749904633,0.025786755606532,0.052773311734200);
res += vec4(-0.024751899763942,-0.031142037361860,0.001294328249060,-0.001579074072652) * float(LUMA_texOff(vec2(-2,-2)));
res += vec4(-0.065633364021778,0.068814218044281,-0.005640272516757,-0.027038212865591) * float(LUMA_texOff(vec2(-2,-1)));
res += vec4(0.136904239654541,-0.061594080179930,0.003120015142485,0.000396077375626) * float(LUMA_texOff(vec2(-2,0)));
res += vec4(-0.063540980219841,0.051082793623209,0.004443012177944,0.041948903352022) * float(LUMA_texOff(vec2(-2,1)));
res += vec4(0.015242728404701,-0.021036770194769,-0.005407192744315,-0.022972116246819) * float(LUMA_texOff(vec2(-2,2)));
res += vec4(0.041924487799406,0.059268340468407,-0.001545578474179,0.012143913656473) * float(LUMA_texOff(vec2(-1,-2)));
res += vec4(0.046518854796886,-0.091748423874378,-0.013287114910781,0.069233484566212) * float(LUMA_texOff(vec2(-1,-1)));
res += vec4(-2.017004489898682,0.053140200674534,0.048313967883587,-0.005019629374146) * float(LUMA_texOff(vec2(-1,0)));
res += vec4(0.411840200424194,-0.092033579945564,0.005742197390646,-0.056533169001341) * float(LUMA_texOff(vec2(-1,1)));
res += vec4(-0.062367953360081,0.055286537855864,-0.005957162939012,0.005275995004922) * float(LUMA_texOff(vec2(-1,2)));
res += vec4(-0.085396982729435,-0.049515511840582,-0.017686234787107,-0.112863034009933) * float(LUMA_texOff(vec2(0,-2)));
res += vec4(0.069380529224873,0.006326091475785,0.029904384166002,-0.386205911636353) * float(LUMA_texOff(vec2(0,-1)));
res += vec4(0.283288747072220,0.929403841495514,0.832274258136749,-0.477980017662048) * float(LUMA_texOff(vec2(0,0)));
res += vec4(-0.068979397416115,0.008417145349085,0.011834626086056,0.025182986631989) * float(LUMA_texOff(vec2(0,1)));
res += vec4(0.010300735011697,-0.036446891725063,0.001163125387393,-0.013660910539329) * float(LUMA_texOff(vec2(0,2)));
res += vec4(0.050761297345161,0.042514488101006,0.012667196802795,0.121308326721191) * float(LUMA_texOff(vec2(1,-2)));
res += vec4(-0.096445329487324,-0.008415217511356,-0.008932823315263,0.079922400414944) * float(LUMA_texOff(vec2(1,-1)));
res += vec4(-0.051601801067591,-0.086362451314926,-0.886308491230011,0.696781814098358) * float(LUMA_texOff(vec2(1,0)));
res += vec4(-0.030907195061445,0.013124193064868,-0.003453676356003,-0.024703724309802) * float(LUMA_texOff(vec2(1,1)));
res += vec4(0.039525844156742,0.037172242999077,-0.010604506358504,0.027810614556074) * float(LUMA_texOff(vec2(1,2)));
res += vec4(-0.011944672092795,-0.014527200721204,-0.000466901343316,-0.004328344482929) * float(LUMA_texOff(vec2(2,-2)));
res += vec4(0.053247444331646,0.019662646576762,-0.007942761294544,0.050908070057631) * float(LUMA_texOff(vec2(2,-1)));
res += vec4(0.037069234997034,0.015632051974535,0.038103338330984,-0.017446093261242) * float(LUMA_texOff(vec2(2,0)));
res += vec4(-0.009644431993365,0.020256569609046,-0.039525371044874,0.029679300263524) * float(LUMA_texOff(vec2(2,1)));
res += vec4(-0.018683874979615,-0.027213066816330,0.016639243811369,-0.004058385733515) * float(LUMA_texOff(vec2(2,2)));
res = max(res, vec4(0.0)) + vec4(-0.003089463338256,-0.245556429028511,-0.255319595336914,0.237912595272064) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND LUMA
//!SAVE FEATURE3
//!DESC [AiUpscale_Fast_3x_LineArt_RT] feature map 3

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(0.300305575132370,-0.154844313859940,0.043263088911772,0.063425682485104);
res += vec4(0.001565372571349,0.015560852363706,0.012834480032325,0.006730441469699) * float(LUMA_texOff(vec2(-2,-2)));
res += vec4(0.061788130551577,0.091154515743256,-0.051617234945297,0.046159032732248) * float(LUMA_texOff(vec2(-2,-1)));
res += vec4(0.083571001887321,-0.179035708308220,0.029396118596196,-0.008897735737264) * float(LUMA_texOff(vec2(-2,0)));
res += vec4(0.049269769340754,-0.010779893957078,0.036324005573988,-0.057825639843941) * float(LUMA_texOff(vec2(-2,1)));
res += vec4(0.007403599098325,-0.030694231390953,0.012871215119958,0.022002357989550) * float(LUMA_texOff(vec2(-2,2)));
res += vec4(-0.015827646479011,-0.036382503807545,0.014255288057029,-0.035663791000843) * float(LUMA_texOff(vec2(-1,-2)));
res += vec4(-0.186379283666611,-0.123953312635422,-0.028922779485583,-0.062538303434849) * float(LUMA_texOff(vec2(-1,-1)));
res += vec4(-0.247300893068314,0.086311161518097,0.688871860504150,0.156279787421227) * float(LUMA_texOff(vec2(-1,0)));
res += vec4(-0.173991784453392,0.096218682825565,0.321414083242416,0.117759078741074) * float(LUMA_texOff(vec2(-1,1)));
res += vec4(0.023538054898381,0.021193766966462,-0.034947592765093,0.017284700646996) * float(LUMA_texOff(vec2(-1,2)));
res += vec4(-0.066229477524757,0.134884268045425,0.006473402958363,-0.012894518673420) * float(LUMA_texOff(vec2(0,-2)));
res += vec4(0.074140399694443,-0.001345087541267,0.007278002798557,-0.069610945880413) * float(LUMA_texOff(vec2(0,-1)));
res += vec4(-0.129179418087006,0.397110521793365,-0.580588638782501,-0.761001050472260) * float(LUMA_texOff(vec2(0,0)));
res += vec4(-0.127559408545494,-0.119571365416050,-0.432346135377884,0.635773837566376) * float(LUMA_texOff(vec2(0,1)));
res += vec4(-0.047134783118963,-0.057711295783520,-0.002420792588964,-0.002789863385260) * float(LUMA_texOff(vec2(0,2)));
res += vec4(0.030995797365904,-0.036482188850641,-0.034576769918203,-0.008343663066626) * float(LUMA_texOff(vec2(1,-2)));
res += vec4(-0.206895083189011,-0.272060483694077,0.041713234037161,0.052410479635000) * float(LUMA_texOff(vec2(1,-1)));
res += vec4(0.374843388795853,0.230986922979355,-0.053511410951614,-0.114394396543503) * float(LUMA_texOff(vec2(1,0)));
res += vec4(-0.112127892673016,0.092272095382214,0.043125849217176,0.069568045437336) * float(LUMA_texOff(vec2(1,1)));
res += vec4(0.020898958668113,0.008479946292937,0.005846147425473,-0.044849690049887) * float(LUMA_texOff(vec2(1,2)));
res += vec4(0.018962902948260,0.055137611925602,0.000222466085688,0.012590290978551) * float(LUMA_texOff(vec2(2,-2)));
res += vec4(0.041694935411215,0.096102371811867,0.023894736543298,0.026507481932640) * float(LUMA_texOff(vec2(2,-1)));
res += vec4(-0.083780057728291,-0.017382198944688,-0.037111323326826,-0.065026186406612) * float(LUMA_texOff(vec2(2,0)));
res += vec4(0.027488557621837,-0.126584306359291,0.002595207421109,0.030256779864430) * float(LUMA_texOff(vec2(2,1)));
res += vec4(0.017779011279345,0.009322978556156,0.003723928006366,0.007457864936441) * float(LUMA_texOff(vec2(2,2)));
res = max(res, vec4(0.0)) + vec4(0.408250123262405,0.752122163772583,-0.364000499248505,0.419556677341461) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.043202605098486,0.149686262011528,-0.097993396222591,-0.526596009731293);
res += vec4(-0.020025279372931,0.043034605681896,0.049201097339392,-0.004735501483083) * float(LUMA_texOff(vec2(-2,-2)));
res += vec4(-0.062554784119129,0.064148560166359,-0.076815113425255,-0.016904026269913) * float(LUMA_texOff(vec2(-2,-1)));
res += vec4(0.044120922684669,-0.175560727715492,0.181999534368515,0.008990436792374) * float(LUMA_texOff(vec2(-2,0)));
res += vec4(0.047223404049873,0.015579842031002,-0.143412724137306,0.025992792099714) * float(LUMA_texOff(vec2(-2,1)));
res += vec4(-0.019475502893329,0.001055370550603,-0.018071597442031,-0.007220332976431) * float(LUMA_texOff(vec2(-2,2)));
res += vec4(0.086639873683453,-0.039849128574133,0.004747684579343,-0.022997837513685) * float(LUMA_texOff(vec2(-1,-2)));
res += vec4(0.147315666079521,0.006002441514283,0.035342276096344,0.069706656038761) * float(LUMA_texOff(vec2(-1,-1)));
res += vec4(-0.381650507450104,0.381883710622787,-0.301030606031418,-0.218072250485420) * float(LUMA_texOff(vec2(-1,0)));
res += vec4(0.043715637177229,0.205998227000237,0.436258852481842,-0.023311572149396) * float(LUMA_texOff(vec2(-1,1)));
res += vec4(0.027281945571303,-0.008410940878093,-0.101628169417381,-0.000947556458414) * float(LUMA_texOff(vec2(-1,2)));
res += vec4(-0.022359807044268,0.175866857171059,0.200811222195625,0.019244844093919) * float(LUMA_texOff(vec2(0,-2)));
res += vec4(0.818266570568085,-0.017603272572160,-0.532467663288116,-0.163003057241440) * float(LUMA_texOff(vec2(0,-1)));
res += vec4(-0.482083112001419,-0.574883162975311,0.355303525924683,1.049446582794189) * float(LUMA_texOff(vec2(0,0)));
res += vec4(-0.148223176598549,0.028067110106349,-0.167479678988457,0.065469436347485) * float(LUMA_texOff(vec2(0,1)));
res += vec4(-0.037294402718544,-0.067133359611034,0.131124585866928,0.042899321764708) * float(LUMA_texOff(vec2(0,2)));
res += vec4(-0.032557006925344,0.033733610063791,-0.013859241269529,0.008620757609606) * float(LUMA_texOff(vec2(1,-2)));
res += vec4(0.104007817804813,-0.094772540032864,0.151552677154541,-0.116301372647285) * float(LUMA_texOff(vec2(1,-1)));
res += vec4(-0.171263545751572,0.097909078001976,-0.191693767905235,0.205931887030602) * float(LUMA_texOff(vec2(1,0)));
res += vec4(0.019856957718730,-0.184548661112785,0.051885198801756,-0.143062263727188) * float(LUMA_texOff(vec2(1,1)));
res += vec4(0.024515174329281,-0.016280563548207,0.024326978251338,-0.031145192682743) * float(LUMA_texOff(vec2(1,2)));
res += vec4(0.004599560052156,0.068150587379932,-0.016657235100865,0.001707298215479) * float(LUMA_texOff(vec2(2,-2)));
res += vec4(-0.019250879064202,-0.093002736568451,-0.089922718703747,0.009053294546902) * float(LUMA_texOff(vec2(2,-1)));
res += vec4(0.026458634063601,-0.160876154899597,0.291988581418991,-0.060724176466465) * float(LUMA_texOff(vec2(2,0)));
res += vec4(0.007203645538539,0.125074282288551,-0.126691743731499,0.040724337100983) * float(LUMA_texOff(vec2(2,1)));
res += vec4(-0.007138338871300,-0.036140471696854,-0.017336271703243,0.001293787849136) * float(LUMA_texOff(vec2(2,2)));
res = max(res, vec4(0.0)) + vec4(-0.417301505804062,0.976239085197449,0.982427656650543,0.377231955528259) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND FEATURE1
//!BIND FEATURE2
//!BIND FEATURE3
//!SAVE MODEL1
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 1_1

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(0.086110927164555,0.029540879651904,-0.475845187902451,0.001037384965457);
res += mat4(-0.942496716976166,-0.231897115707397,0.527773499488831,0.125120744109154,-0.048440281301737,0.420601576566696,0.105729959905148,-0.101225584745407,-0.367931306362152,0.377593815326691,-0.353410601615906,-0.028267068788409,0.247519850730896,-0.027705663815141,0.098981834948063,-0.321293503046036) * FEATURE1_texOff(vec2(-1,-1));
res += mat4(-0.660892784595490,0.048824220895767,-0.323625892400742,0.564725577831268,-0.265149563550949,0.148305296897888,0.106212541460991,0.025009647011757,-0.027121637016535,0.067244648933411,0.092284515500069,0.070695810019970,-0.021624701097608,-0.348068296909332,0.102834284305573,0.132466584444046) * FEATURE1_texOff(vec2(-1,0));
res += mat4(0.060453180223703,-0.477545857429504,-0.330807358026505,-0.459831357002258,0.026967277750373,-0.246934846043587,0.107546217739582,0.111917912960052,0.007271534763277,0.117567665874958,-0.002269886201248,-0.104950077831745,-0.121620982885361,-0.403010815382004,0.016015373170376,0.140181064605713) * FEATURE1_texOff(vec2(-1,1));
res += mat4(0.317922800779343,0.526918649673462,1.327004313468933,0.306106060743332,-0.407424330711365,0.066909007728100,-0.709036588668823,0.500207126140594,0.049052331596613,-0.582510173320770,-0.099960952997208,0.862086713314056,-0.211464703083038,0.243381112813950,-0.862194001674652,-0.290616422891617) * FEATURE1_texOff(vec2(0,-1));
res += mat4(0.927738845348358,1.011370182037354,-0.193269312381744,0.672500610351563,0.287067353725433,-0.405094176530838,0.246944934129715,-0.799779415130615,-0.102882653474808,-0.237395152449608,0.032240986824036,0.175413683056831,0.191128060221672,-0.161938562989235,0.114577859640121,-0.131837457418442) * FEATURE1_texOff(vec2(0,0));
res += mat4(0.638397574424744,-0.268338501453400,-0.163308352231979,-0.597253799438477,-0.119067847728729,-0.197326034307480,0.027408331632614,0.083933196961880,-0.002909397007897,-0.033285129815340,-0.053393471986055,-0.020307632163167,-0.171818077564240,-0.010034368373454,0.027212036773562,0.379882127046585) * FEATURE1_texOff(vec2(0,1));
res += mat4(-0.366655886173248,-0.069601632654667,-0.594027817249298,-0.312904000282288,0.321923911571503,-0.277419388294220,0.448682039976120,-0.041392792016268,-0.015910588204861,-0.149801105260849,0.000120661512483,-0.087115056812763,-0.266944050788879,-0.252706825733185,0.062179870903492,0.064370527863503) * FEATURE1_texOff(vec2(1,-1));
res += mat4(0.342172145843506,-0.096027508378029,-0.414526998996735,-0.114344194531441,-0.330632090568542,-0.047016419470310,-0.153471812605858,0.350716531276703,-0.001375974272378,-0.073224313557148,-0.012473961338401,0.079818397760391,0.110015854239464,0.076879471540451,0.046130955219269,-0.187313124537468) * FEATURE1_texOff(vec2(1,0));
res += mat4(0.119102157652378,-0.047791827470064,-0.280489712953568,0.108208045363426,0.020966818556190,0.180023819208145,-0.018504362553358,-0.114872150123119,-0.008658166043460,0.099655583500862,-0.026451608166099,0.049581777304411,0.031917169690132,-0.212015330791473,0.057534202933311,0.186954408884048) * FEATURE1_texOff(vec2(1,1));
res += mat4(0.159829154610634,0.088721543550491,-0.166387602686882,0.249738216400146,0.030446313321590,0.125874683260918,-0.002240762347355,-0.115588448941708,-0.026306984946132,-0.019967054948211,-0.052391808480024,0.080283656716347,-0.151247471570969,0.020724413916469,-0.262127727270126,0.038827441632748) * FEATURE2_texOff(vec2(-1,-1));
res += mat4(-0.162817582488060,0.342714011669159,-0.140267312526703,0.002393394475803,0.018332574516535,0.341101944446564,0.169202655553818,0.260510563850403,0.057040624320507,0.139546558260918,-0.057518452405930,-0.049687467515469,0.076544292271137,0.006532964762300,0.266680896282196,-0.468833416700363) * FEATURE2_texOff(vec2(-1,0));
res += mat4(0.174806937575340,-0.139812499284744,-0.024723401293159,-0.310760617256165,0.056503619998693,-0.077883794903755,0.074405670166016,-0.072539128363132,0.063763976097107,0.258679091930389,0.024488670751452,-0.011061058379710,-0.080940820276737,0.001386051764712,-0.233652800321579,0.024889122694731) * FEATURE2_texOff(vec2(-1,1));
res += mat4(0.008575312793255,0.106368742883205,-0.513777732849121,0.307586371898651,0.080399528145790,-0.140266612172127,0.048585884273052,-0.375780016183853,0.168575853109360,0.166707962751389,-0.237495854496956,-0.046952702105045,0.009619386866689,-0.181675791740417,-0.863513350486755,0.175055056810379) * FEATURE2_texOff(vec2(0,-1));
res += mat4(0.299804180860519,0.681350588798523,-0.411429762840271,-0.009916268289089,0.180555969476700,0.235172808170319,-0.039869457483292,-0.097666196525097,0.020186876878142,0.018526930361986,-0.132725745439529,-0.068752527236938,-0.349657833576202,0.288997679948807,0.146323099732399,-0.386331021785736) * FEATURE2_texOff(vec2(0,0));
res += mat4(0.196001335978508,-0.239545419812202,-0.185845479369164,-0.441089838743210,0.005859510973096,-0.172767534852028,-0.008510414510965,0.245336115360260,0.302687019109726,0.187974080443382,0.000876699690707,-0.023424897342920,0.105888172984123,0.004048785660416,0.089418709278107,-0.102339878678322) * FEATURE2_texOff(vec2(0,1));
res += mat4(-0.000805544084869,-0.230121269822121,0.031414762139320,0.079929776489735,0.151928752660751,0.139310210943222,0.077652707695961,0.157756239175797,-0.125295385718346,0.382234483957291,0.069828696548939,0.301462292671204,0.176555454730988,-0.049941886216402,0.127222865819931,-0.019405912607908) * FEATURE2_texOff(vec2(1,-1));
res += mat4(-0.171931236982346,-0.011116222478449,-0.053492367267609,0.315233826637268,-0.088459350168705,0.424098551273346,-0.194933354854584,0.080188460648060,-0.156244754791260,-0.104618676006794,0.033771049231291,-0.176774188876152,-0.018443223088980,0.208068072795868,0.054149810224771,0.234106197953224) * FEATURE2_texOff(vec2(1,0));
res += mat4(0.117710620164871,0.012390411458910,0.149916008114815,-0.213331907987595,0.090290382504463,-0.027470933273435,0.149291649460793,-0.078474469482899,0.266689628362656,0.218679994344711,0.085284896194935,-0.301564186811447,-0.006597497034818,0.206505388021469,0.087786115705967,-0.128394886851311) * FEATURE2_texOff(vec2(1,1));
res += mat4(-0.017424790188670,-0.162026911973953,-0.231547400355339,0.015577477402985,0.067914500832558,-0.163886472582817,0.035131044685841,-0.172309234738350,-0.107504293322563,-0.071504607796669,0.052971791476011,-0.010908519849181,-0.073762647807598,0.240185156464577,0.024718798696995,0.133157253265381) * FEATURE3_texOff(vec2(-1,-1));
res += mat4(0.077818073332310,0.199701219797134,-0.032550334930420,-0.009838033467531,-0.113984994590282,-0.124087773263454,-0.107274226844311,-0.122077547013760,-0.103103138506413,-0.021309698000550,-0.007096905261278,-0.018583159893751,0.265995323657990,-0.052124075591564,0.127614006400108,-0.188560113310814) * FEATURE3_texOff(vec2(-1,0));
res += mat4(0.048566132783890,-0.065589003264904,0.044128742069006,0.098948128521442,-0.043026123195887,-0.023412000387907,0.023388477042317,0.257848143577576,-0.055610235780478,-0.037795267999172,0.009219273924828,0.013227999210358,0.271582990884781,0.038051877170801,0.002821403089911,0.102176748216152) * FEATURE3_texOff(vec2(-1,1));
res += mat4(-0.010218264535069,-0.010632356628776,-0.150729775428772,-0.014927635900676,0.050872493535280,-0.017241882160306,0.202881351113319,-0.271862894296646,-0.130481198430061,0.160307362675667,-0.077181920409203,0.061426099389791,-0.131640434265137,-0.300128251314163,-0.783593952655792,0.574201762676239) * FEATURE3_texOff(vec2(0,-1));
res += mat4(0.016073467209935,-0.189354047179222,-0.225974723696709,0.021219868212938,0.241053789854050,-0.015324565581977,0.039310272783041,0.373925626277924,-0.114614821970463,-0.341923058032990,0.218297734856606,0.035060644149780,-0.126771360635757,0.240507245063782,0.054291937500238,-0.405370533466339) * FEATURE3_texOff(vec2(0,0));
res += mat4(-0.065623521804810,0.112612470984459,0.023253239691257,0.126521900296211,-0.118925474584103,0.008904379792511,-0.049278590828180,-0.099011071026325,-0.101492650806904,0.059597745537758,-0.117117173969746,0.085210293531418,-0.126656293869019,-0.041590031236410,0.026029713451862,0.038798380643129) * FEATURE3_texOff(vec2(0,1));
res += mat4(0.262010127305984,-0.012886755168438,-0.437300860881805,0.055655501782894,-0.216279059648514,-0.100337766110897,0.113196834921837,0.250336259603500,-0.033406756818295,0.017626401036978,0.025758316740394,-0.416027933359146,-0.039362844079733,0.051289018243551,0.196412727236748,0.201888531446457) * FEATURE3_texOff(vec2(1,-1));
res += mat4(0.362337231636047,0.079050354659557,0.187271744012833,-0.334742307662964,0.128132164478302,0.205634206533432,-0.178977087140083,-0.070074513554573,-0.286292016506195,0.045275215059519,0.014036329463124,0.399707227945328,0.447263389825821,0.127808958292007,0.136767432093620,0.082453675568104) * FEATURE3_texOff(vec2(1,0));
res += mat4(0.168761372566223,0.149827152490616,-0.011724737472832,0.051933746784925,0.158943995833397,0.246782124042511,-0.052784014493227,-0.072689436376095,0.131153717637062,0.084260843694210,0.018711781129241,-0.070124611258507,0.047134503722191,0.182186499238014,0.049581475555897,0.029319448396564) * FEATURE3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(1.131739258766174,0.639409601688385,-0.149689957499504,-0.929695904254913) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.369174182415009,-0.015024775639176,-0.001368978177197,-0.116559483110905);
res += mat4(0.001124813570641,-0.026750490069389,-0.124594904482365,-0.083203494548798,0.048890076577663,-0.190376147627831,0.032203532755375,-0.094622246921062,-0.181373119354248,0.071988672018051,-0.062076136469841,0.080550581216812,-0.066276937723160,0.014179183170199,0.092959389090538,0.007089198566973) * FEATURE1_texOff(vec2(-1,-1));
res += mat4(-0.813755750656128,0.388143420219421,0.439634948968887,0.254542559385300,0.263315379619598,-0.230885088443756,-0.225553706288338,-0.270672559738159,-0.088605605065823,0.167200401425362,-0.062057062983513,0.056998908519745,-0.183529481291771,0.227881804108620,0.012280607596040,0.259828895330429) * FEATURE1_texOff(vec2(-1,0));
res += mat4(-0.176962718367577,0.167711153626442,0.074509069323540,-0.105816930532455,0.184906110167503,-0.246459752321243,-0.089956626296043,-0.209999397397041,0.141729429364204,0.003450589021668,-0.055041134357452,-0.081863105297089,-0.018443059176207,-0.083621934056282,-0.074741676449776,-0.260631829500198) * FEATURE1_texOff(vec2(-1,1));
res += mat4(-0.137101322412491,0.309520095586777,0.232922077178955,0.115103796124458,0.063546784222126,0.279121458530426,-0.066381789743900,-0.072879739105701,0.165767297148705,-0.064027756452560,0.151850670576096,-0.191672310233116,0.405596762895584,-0.319521158933640,-0.280608832836151,-0.327015817165375) * FEATURE1_texOff(vec2(0,-1));
res += mat4(1.083984375000000,-0.590496361255646,-0.565532505512238,-0.044560749083757,0.573528826236725,-0.189252123236656,-0.170641243457794,-0.054354622960091,-0.031881932169199,-0.189261108636856,0.159184545278549,0.010205581784248,-0.182891130447388,-0.173043400049210,0.251813769340515,0.072695672512054) * FEATURE1_texOff(vec2(0,0));
res += mat4(-0.336214810609818,-0.375935316085815,0.036859199404716,0.215029925107956,0.226578593254089,-0.194107353687286,-0.223277240991592,-0.366246312856674,0.029110828414559,0.082275792956352,0.025297513231635,0.039527688175440,-0.387784749269485,0.258296519517899,0.176473274827003,0.258163958787918) * FEATURE1_texOff(vec2(0,1));
res += mat4(0.199019953608513,0.103298813104630,0.044066917151213,-0.104232758283615,0.164481833577156,-0.080605141818523,-0.001926919678226,-0.078974701464176,0.085862979292870,-0.323291301727295,0.279791593551636,0.055438864976168,0.101043030619621,-0.218900382518768,-0.064679212868214,-0.167792335152626) * FEATURE1_texOff(vec2(1,-1));
res += mat4(0.282840698957443,-0.065276317298412,-0.038431610912085,-0.048531416803598,0.053650002926588,-0.006450297310948,-0.291330635547638,0.066481374204159,0.007578173652291,0.153286784887314,-0.023498004302382,-0.056677021086216,-0.150839552283287,0.078048832714558,0.159993767738342,-0.019264196977019) * FEATURE1_texOff(vec2(1,0));
res += mat4(-0.300618827342987,-0.057368200272322,0.040795635432005,-0.266053587198257,0.082854680716991,-0.160997152328491,-0.044976375997066,-0.020210815593600,0.180663645267487,0.081297054886818,-0.069889023900032,0.045378740876913,0.141952738165855,-0.125010073184967,-0.084492743015289,-0.120246976613998) * FEATURE1_texOff(vec2(1,1));
res += mat4(0.021658159792423,-0.003580039832741,-0.029229590669274,0.032666724175215,-0.171724379062653,-0.178913906216621,0.004575229715556,0.100736424326897,0.039755746722221,0.047349955886602,-0.302391529083252,-0.285745322704315,-0.019064508378506,-0.089104965329170,-0.044973429292440,-0.050036977976561) * FEATURE2_texOff(vec2(-1,-1));
res += mat4(-0.007969105616212,-0.060230944305658,-0.123186334967613,0.052315853536129,0.312304824590683,0.154109627008438,0.401409029960632,0.075818680226803,-0.107470542192459,-0.953135907649994,-0.299461007118225,-1.030683755874634,0.149968981742859,0.167839080095291,0.390575230121613,0.272863060235977) * FEATURE2_texOff(vec2(-1,0));
res += mat4(-0.038394778966904,0.034261960536242,0.167456224560738,0.059863325208426,0.323686391115189,-0.198559939861298,-0.005631272215396,-0.224269703030586,0.110375873744488,-0.143868088722229,-0.239118903875351,-0.318011343479156,0.222076758742332,-0.210687607526779,0.276155233383179,0.034617628902197) * FEATURE2_texOff(vec2(-1,1));
res += mat4(-0.203643649816513,0.138635709881783,-0.279996305704117,-0.044776540249586,-0.088861376047134,0.138930544257164,0.114296413958073,0.331292688846588,0.026524050161242,-0.407898992300034,-0.101875960826874,-0.103522315621376,-0.058356486260891,-0.118654690682888,0.067068032920361,-0.333283931016922) * FEATURE2_texOff(vec2(0,-1));
res += mat4(0.144076734781265,0.053054306656122,0.195265188813210,-0.094697386026382,0.360714167356491,1.483657121658325,0.489615619182587,0.810670375823975,0.128766179084778,0.099058687686920,0.072403907775879,0.327326416969299,0.294155567884445,-0.107014782726765,0.099035628139973,-0.604629933834076) * FEATURE2_texOff(vec2(0,0));
res += mat4(0.076815880835056,0.004422781988978,0.090081483125687,-0.246257856488228,0.139138296246529,0.064219057559967,0.109971277415752,-0.101441055536270,0.034381870180368,-0.241572111845016,0.048677671700716,0.001789764733985,0.196982994675636,0.068424753844738,0.033077362924814,-0.542840778827667) * FEATURE2_texOff(vec2(0,1));
res += mat4(-0.586903035640717,0.323291718959808,0.103274881839752,0.307204335927963,0.017694171518087,-0.607816398143768,-0.241013273596764,-0.426594227552414,0.019057022407651,-0.067205935716629,-0.031671121716499,-0.208239510655403,-0.090003669261932,-0.083968192338943,0.084637589752674,0.004174676723778) * FEATURE2_texOff(vec2(1,-1));
res += mat4(-0.196691736578941,0.393033087253571,-0.985698819160461,-0.425688385963440,-0.177461028099060,0.133483171463013,-0.006091315764934,0.352774947881699,0.016466159373522,0.123461872339249,0.186256602406502,0.013438143767416,-0.023647282272577,0.035101186484098,-0.159361645579338,0.509012162685394) * FEATURE2_texOff(vec2(1,0));
res += mat4(-0.012597764842212,-0.338010162115097,-0.130100801587105,-0.342424184083939,0.053906656801701,-0.040856406092644,-0.088153734803200,-0.129149407148361,0.040271252393723,0.103733666241169,0.011630279012024,-0.086832895874977,-0.087076328694820,0.049867540597916,-0.136695235967636,0.079568274319172) * FEATURE2_texOff(vec2(1,1));
res += mat4(-0.024706117808819,0.062401410192251,-0.070106081664562,-0.056736640632153,-0.055523846298456,0.115916438400745,0.008672570809722,-0.119251817464828,-0.289266765117645,0.053751025348902,-0.005811776965857,0.247316241264343,0.088519558310509,-0.235266059637070,-0.056428223848343,0.014727053232491) * FEATURE3_texOff(vec2(-1,-1));
res += mat4(-0.074543602764606,0.079913869500160,-0.251963675022125,0.108532756567001,-0.192076757550240,-0.161980688571930,0.169920131564140,0.210937872529030,0.071115747094154,-0.298923730850220,0.110388979315758,-0.223104894161224,0.100147597491741,0.292533487081528,0.312504053115845,0.559272766113281) * FEATURE3_texOff(vec2(-1,0));
res += mat4(0.036275107413530,-0.132511317729950,0.026346882805228,-0.008302764035761,0.095929138362408,0.013852297328413,-0.027343640103936,0.130537927150726,0.247001305222511,-0.003065569093451,0.002215125132352,-0.109974533319473,0.364916980266571,-0.117099791765213,-0.287262916564941,-0.169118091464043) * FEATURE3_texOff(vec2(-1,1));
res += mat4(-0.071988537907600,-0.085245162248611,0.071616366505623,-0.004889189731330,0.126522049307823,0.013752344064415,0.085271663963795,0.077977083623409,0.078885219991207,0.043220825493336,0.054234262555838,0.097152307629585,-0.025841012597084,0.093903198838234,0.245819941163063,0.327816635370255) * FEATURE3_texOff(vec2(0,-1));
res += mat4(-0.308179616928101,-0.576455533504486,0.002304248511791,0.016428377479315,0.298831075429916,-0.046132847666740,-0.055891349911690,-0.336059838533401,-0.161420449614525,0.265881210565567,-0.278557270765305,0.192727074027061,-0.205825433135033,0.849918484687805,0.641817629337311,0.687977612018585) * FEATURE3_texOff(vec2(0,0));
res += mat4(-0.107904061675072,-0.208536624908447,0.066350370645523,-0.005070852115750,0.074738740921021,-0.043157067149878,0.009600803256035,-0.175241202116013,0.580026805400848,-0.192587971687317,-0.093989670276642,-0.102215796709061,0.557914555072784,-0.054473195225000,-0.043170817196369,-0.429159611463547) * FEATURE3_texOff(vec2(0,1));
res += mat4(-0.054309092462063,0.047955736517906,-0.093492634594440,0.003198062069714,-0.019633637741208,0.268199771642685,-0.032441809773445,0.141976177692413,-0.143738225102425,0.161486670374870,0.218546807765961,-0.026316536590457,-0.169391617178917,-0.274029463529587,-0.138171941041946,-0.465801775455475) * FEATURE3_texOff(vec2(1,-1));
res += mat4(-0.187706574797630,-0.141579002141953,0.086820706725121,-0.315608620643616,-0.379530251026154,-0.161694839596748,-0.086106285452843,0.450766295194626,0.013010149821639,-0.044839814305305,-0.011401890777051,-0.035208482295275,0.286193549633026,-0.377686351537704,-0.040864534676075,-0.385788470506668) * FEATURE3_texOff(vec2(1,0));
res += mat4(-0.112614765763283,-0.028055636212230,-0.029216038063169,-0.286567926406860,-0.025289842858911,0.080466993153095,-0.126036614179611,-0.031180443242192,0.140474587678909,0.059267319738865,-0.049604639410973,-0.043279729783535,-0.026778133586049,-0.229463562369347,-0.341983854770660,-0.178266003727913) * FEATURE3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.798700749874115,-0.696154415607452,-0.677395343780518,-0.156475275754929) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND FEATURE1
//!BIND FEATURE2
//!BIND FEATURE3
//!SAVE MODEL2
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 1_2

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.051733918488026,-0.046007566154003,-0.011951656080782,0.022633939981461);
res += mat4(0.284666419029236,0.343388199806213,0.035188917070627,-0.247892886400223,0.000870619085617,-0.290231883525848,0.013408084399998,0.219106644392014,-0.501186430454254,-0.475786685943604,-0.206969425082207,0.138757213950157,0.291479796171188,0.010382439941168,0.071911931037903,-0.018179342150688) * FEATURE1_texOff(vec2(-1,-1));
res += mat4(0.255798876285553,-0.002869028132409,0.142618671059608,0.089039631187916,0.718919217586517,-0.006437976378947,0.129651352763176,-0.079154424369335,0.108203478157520,-0.133489429950714,0.014873773790896,0.458673328161240,0.015945836901665,-0.140865862369537,-0.262629836797714,-0.173245504498482) * FEATURE1_texOff(vec2(-1,0));
res += mat4(-0.028250545263290,-0.104255020618439,0.733088731765747,0.311018407344818,-0.271075397729874,0.375950425863266,-0.416752845048904,0.079331547021866,-0.086641423404217,0.000308654707624,0.020374707877636,-0.020991198718548,-0.172338619828224,0.094663158059120,-0.202518045902252,-0.150029480457306) * FEATURE1_texOff(vec2(-1,1));
res += mat4(-0.264565736055374,-0.071056224405766,-0.127255573868752,0.116033367812634,-0.085728608071804,-0.501627147197723,-0.114885233342648,-0.018115658313036,-0.060926176607609,-0.448145598173141,-0.314433097839355,-0.359071612358093,0.440024673938751,0.254513949155807,-0.067562744021416,0.013051306828856) * FEATURE1_texOff(vec2(0,-1));
res += mat4(0.026697065681219,-0.985661864280701,-0.176349520683289,0.717948913574219,-0.287221521139145,0.454164922237396,0.032734282314777,-0.907492578029633,0.203257098793983,0.176210567355156,-0.494812697172165,0.108746968209743,-0.341421395540237,-0.092010170221329,-0.547516644001007,0.289110630750656) * FEATURE1_texOff(vec2(0,0));
res += mat4(0.201884835958481,0.650406658649445,-0.718877375125885,-0.114039905369282,-0.314579486846924,-0.094182468950748,0.497273534536362,0.188168928027153,0.010789795778692,0.062793977558613,0.181818678975105,-0.011432375758886,-0.207059606909752,-0.255469828844070,-0.062147539108992,-0.168409690260887) * FEATURE1_texOff(vec2(0,1));
res += mat4(-0.242990359663963,-0.119051121175289,-0.150998830795288,-0.056480798870325,0.279279410839081,0.422095626592636,0.120228439569473,0.106381885707378,-0.088552273809910,0.013363020494580,0.278561711311340,-0.081234164535999,-0.159137994050980,-0.169579759240150,0.379050701856613,0.232630759477615) * FEATURE1_texOff(vec2(1,-1));
res += mat4(0.035240914672613,-0.092374600470066,0.129159435629845,0.236638948321342,0.261890113353729,0.058062754571438,-0.315436989068985,0.248077079653740,0.004035620018840,0.112368412315845,-0.316165477037430,-0.088612914085388,0.027811212465167,0.217648074030876,-0.006616281345487,-0.278606563806534) * FEATURE1_texOff(vec2(1,0));
res += mat4(-0.070811241865158,0.309859156608582,-0.544543862342834,-0.017412608489394,0.092024244368076,-0.313884735107422,0.244808226823807,0.026206769049168,0.063560448586941,0.024283368140459,-0.126115322113037,-0.072720907628536,-0.159686848521233,-0.157470226287842,-0.351881295442581,-0.093617916107178) * FEATURE1_texOff(vec2(1,1));
res += mat4(0.081140510737896,-0.206273123621941,-0.008313199505210,0.073929958045483,-0.078280672430992,-0.084434412419796,0.023366583511233,-0.076696269214153,-0.037405766546726,0.033655498176813,-0.003610190469772,-0.037504415959120,-0.189584419131279,-0.101880230009556,-0.083940945565701,-0.122418560087681) * FEATURE2_texOff(vec2(-1,-1));
res += mat4(0.199130296707153,-0.275062114000320,0.091951712965965,-0.190328344702721,-0.118125788867474,0.472093760967255,-0.246032983064651,-0.120388530194759,-0.153360828757286,0.144832551479340,-0.024938317015767,-0.028224375098944,0.552722990512848,0.180328443646431,0.298381179571152,0.165430933237076) * FEATURE2_texOff(vec2(-1,0));
res += mat4(-0.022399213165045,0.070302963256836,0.114216312766075,-0.441940486431122,-0.080519720911980,-0.038632456213236,0.057949393987656,-0.054770130664110,0.094244673848152,-0.062096692621708,0.118319645524025,-0.073573529720306,-0.258710980415344,-0.152499452233315,-0.333702653646469,0.194008335471153) * FEATURE2_texOff(vec2(-1,1));
res += mat4(-0.102194935083389,-0.388006001710892,-0.033925648778677,-0.182171612977982,-0.155929490923882,0.495817810297012,0.050576243549585,-0.223429754376411,-0.029176667332649,-0.216977193951607,-0.040902134031057,-0.076643742620945,-0.333618670701981,-0.139749422669411,0.100083760917187,-0.145052045583725) * FEATURE2_texOff(vec2(0,-1));
res += mat4(-0.603444159030914,0.017971066758037,-0.088020280003548,-0.294803917407990,-0.248399779200554,-0.704496383666992,0.319830805063248,0.163055837154388,0.111748039722443,-0.076188437640667,0.115960173308849,0.268000155687332,-0.012133499607444,0.394165962934494,-0.010774296708405,0.511937797069550) * FEATURE2_texOff(vec2(0,0));
res += mat4(-0.428072482347488,0.376247733831406,-0.077691301703453,-0.212377488613129,-0.198801204562187,-0.218869432806969,-0.559051334857941,0.142354354262352,0.139519050717354,-0.079647250473499,-0.118400573730469,-0.123572848737240,-0.145716741681099,0.103244714438915,0.384939908981323,-0.043440233916044) * FEATURE2_texOff(vec2(0,1));
res += mat4(0.153175920248032,0.096555024385452,0.108918890357018,-0.023339211940765,0.076028570532799,0.190591588616371,0.000907814188395,-0.006546949502081,-0.064819715917110,-0.406605392694473,-0.062880992889404,-0.059205099940300,0.101228818297386,0.163511022925377,-0.032497692853212,-0.166448414325714) * FEATURE2_texOff(vec2(1,-1));
res += mat4(0.176888018846512,0.008203671313822,-0.360062241554260,0.095604300498962,0.169033542275429,-0.511000692844391,0.379156500101089,-0.057483717799187,-0.048351734876633,-0.540511131286621,0.700256943702698,0.109339252114296,0.150725737214088,-0.141021981835365,-0.486510664224625,0.085941866040230) * FEATURE2_texOff(vec2(1,0));
res += mat4(-0.301755249500275,0.047952875494957,0.059441193938255,-0.129204988479614,-0.099471181631088,0.100649416446686,0.230811506509781,-0.017449984326959,0.065192773938179,0.363257974386215,-0.012434709817171,0.091531828045845,0.016261238604784,0.042932309210300,0.408011555671692,0.105057343840599) * FEATURE2_texOff(vec2(1,1));
res += mat4(-0.176952108740807,-0.033866692334414,-0.017784887924790,0.238862186670303,0.063965983688831,-0.059501644223928,0.049609992653131,0.025675171986222,0.022424887865782,-0.222542732954025,0.124166160821915,0.055173121392727,0.141265034675598,-0.126180514693260,0.045451607555151,-0.111379712820053) * FEATURE3_texOff(vec2(-1,-1));
res += mat4(0.024794865399599,-0.066017903387547,0.014844580553472,-0.146728739142418,0.010417037643492,-0.199382334947586,0.225249528884888,0.118417575955391,0.091139331459999,0.087454557418823,-0.176764711737633,-0.014433002099395,0.214833542704582,0.216893121600151,-0.069395884871483,0.109614208340645) * FEATURE3_texOff(vec2(-1,0));
res += mat4(0.033233892172575,0.052642919123173,0.188585981726646,-0.027869042009115,-0.092720985412598,0.220774650573730,-0.313971668481827,-0.277411907911301,-0.036821816116571,-0.001123785041273,0.050822068005800,0.028720539063215,-0.466708213090897,0.066841579973698,0.084023155272007,-0.053192809224129) * FEATURE3_texOff(vec2(-1,1));
res += mat4(0.105255827307701,0.145500794053078,-0.120774492621422,-0.012268529273570,0.042715445160866,0.192616671323776,0.114468127489090,-0.328278869390488,-0.209877923130989,0.533117115497589,-0.092186167836189,-0.181959316134453,-0.414153426885605,-1.008786439895630,-0.098414100706577,0.293584048748016) * FEATURE3_texOff(vec2(0,-1));
res += mat4(0.202879443764687,0.238250330090523,0.084550030529499,-0.205739155411720,0.140851765871048,-0.288225024938583,-0.020765909925103,0.271836012601852,-0.171901673078537,0.170736879110336,-0.043384380638599,-0.094627551734447,-0.305084496736526,0.270844459533691,-0.128462508320808,-0.220295384526253) * FEATURE3_texOff(vec2(0,0));
res += mat4(-0.384256064891815,-0.058917079120874,-0.087047934532166,-0.036746844649315,-0.101835899055004,0.071525938808918,-0.489991515874863,0.070080175995827,0.000217693828745,-0.051749378442764,0.193537384271622,-0.066357061266899,-0.182472050189972,-0.094881646335125,0.301849037408829,0.070989437401295) * FEATURE3_texOff(vec2(0,1));
res += mat4(-0.018974486738443,-0.097242981195450,0.040639795362949,0.107868596911430,-0.246479421854019,0.241361945867538,-0.175673156976700,0.080730587244034,-0.202981680631638,0.331528961658478,-0.219466567039490,-0.007327246479690,0.122403874993324,-0.006853430066258,0.050244789570570,-0.022027092054486) * FEATURE3_texOff(vec2(1,-1));
res += mat4(-0.330641865730286,0.016420826315880,-0.038368768990040,-0.232845291495323,0.063485071063042,-0.064047664403915,0.170161619782448,0.005378536880016,-0.181209504604340,-0.070687152445316,-0.974789500236511,0.447541952133179,0.095723085105419,-0.211252018809319,-0.467985898256302,0.013996337540448) * FEATURE3_texOff(vec2(1,0));
res += mat4(-0.140129923820496,-0.181620299816132,-0.003612751141191,0.183942392468452,-0.333900481462479,-0.294755637645721,0.442745268344879,-0.097467750310898,0.003683217335492,-0.030070802196860,0.040997236967087,-0.194035112857819,-0.111750438809395,-0.108848065137863,-0.329126656055450,0.067980743944645) * FEATURE3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.636123895645142,-0.650747239589691,-0.341637998819351,-0.267437696456909) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.121443822979927,0.057219836860895,0.007943672128022,0.119231939315796);
res += mat4(-0.033457580953836,0.144444853067398,0.070562019944191,0.088922247290611,-0.092334158718586,0.367375493049622,-0.068537019193172,0.169214010238647,0.348850667476654,-0.182574167847633,0.104813441634178,-0.010524922981858,0.297648072242737,0.079313263297081,0.098168708384037,0.216727703809738) * FEATURE1_texOff(vec2(-1,-1));
res += mat4(0.231571972370148,-0.320803672075272,0.266288876533508,-0.296639561653137,-0.166257441043854,-0.071979016065598,0.053074028342962,-0.018973968923092,0.032751679420471,-0.011486643925309,-0.065214142203331,0.127563625574112,-0.138817727565765,0.049920849502087,0.339570432901382,0.016829790547490) * FEATURE1_texOff(vec2(-1,0));
res += mat4(-0.039024949073792,0.083373904228210,-0.025785133242607,-0.252272486686707,0.100817941129208,-0.461909323930740,-0.051451079547405,0.105382665991783,-0.028342232108116,0.015295568853617,0.001301449956372,-0.044410880655050,0.020281530916691,-0.069014154374599,-0.188584879040718,-0.178115814924240) * FEATURE1_texOff(vec2(-1,1));
res += mat4(0.498234808444977,-0.107124909758568,0.222720071673393,-0.024905333295465,0.014611482620239,0.198534741997719,-0.130285218358040,0.027381516993046,-0.406554639339447,0.193665727972984,0.007717104628682,-0.300460427999496,-0.164228305220604,0.110524006187916,0.118494503200054,-0.021215105429292) * FEATURE1_texOff(vec2(0,-1));
res += mat4(-0.641840577125549,0.649823725223541,0.106533348560333,0.268394529819489,-0.080322057008743,0.098853260278702,-0.033465269953012,0.015981096774340,-0.185928672552109,-0.200384959578514,0.408008217811584,0.059636391699314,-0.159238070249557,-0.291793793439865,-0.333180546760559,-0.041067242622375) * FEATURE1_texOff(vec2(0,0));
res += mat4(-0.162974283099174,-0.727544486522675,0.100229173898697,-0.060310728847980,0.110851839184761,-0.373484164476395,-0.199327498674393,0.322035759687424,0.087773285806179,-0.080430872738361,-0.264883518218994,0.087490685284138,-0.219980925321579,-0.040240813046694,-0.027494285255671,0.135564401745796) * FEATURE1_texOff(vec2(0,1));
res += mat4(0.171488344669342,0.019406458362937,-0.123065471649170,0.020899808034301,0.117019794881344,0.344173938035965,0.181867152452469,0.111221186816692,-0.366211116313934,0.272630035877228,0.002738522831351,0.093411155045033,-0.334416478872299,0.096967794001102,-0.009823844768107,0.040384199470282) * FEATURE1_texOff(vec2(1,-1));
res += mat4(-0.283179074525833,0.473791271448135,-0.271534502506256,0.183269515633583,-0.183430865406990,0.106947578489780,0.061485331505537,-0.219745114445686,0.293962687253952,-0.116144761443138,-0.185555607080460,0.057345826178789,-0.217975825071335,0.020557375624776,-0.138638332486153,-0.113180756568909) * FEATURE1_texOff(vec2(1,0));
res += mat4(0.162474021315575,-0.247575998306274,0.032011371105909,0.060474731028080,0.126448556780815,-0.243848815560341,0.146826222538948,-0.058029152452946,-0.128270179033279,0.142468780279160,-0.297219961881638,-0.063888885080814,0.274076312780380,-0.252804666757584,0.194934576749802,0.026667667552829) * FEATURE1_texOff(vec2(1,1));
res += mat4(0.177961692214012,-0.058244384825230,0.121891528367996,-0.093138501048088,-0.403065562248230,0.021676454693079,0.152066439390182,-0.363021463155746,-0.485563576221466,-0.006545147858560,-0.064634144306183,-0.070793040096760,-0.040931209921837,0.066629059612751,0.081495635211468,0.049269597977400) * FEATURE2_texOff(vec2(-1,-1));
res += mat4(-0.106162033975124,0.112846501171589,-0.063078075647354,-0.043156299740076,-0.057521387934685,0.232715278863907,-0.730871260166168,-0.064345076680183,-0.240836888551712,0.022026365622878,-0.377663344144821,0.601210117340088,0.140396639704704,-0.337971597909927,0.027171129360795,0.041853006929159) * FEATURE2_texOff(vec2(-1,0));
res += mat4(0.015748878940940,-0.156796291470528,-0.028164250776172,0.000856992613990,0.216010004281998,0.392972707748413,-0.177670449018478,-0.261929452419281,0.022059924900532,0.234907403588295,0.197266951203346,0.040843084454536,0.160871997475624,0.188104540109634,-0.247418180108070,0.211424186825752) * FEATURE2_texOff(vec2(-1,1));
res += mat4(0.072806231677532,-0.031774651259184,-0.302036911249161,0.161278322339058,-0.197135403752327,-0.200762599706650,0.389202505350113,-0.082457840442657,-0.580782115459442,-0.030293624848127,-0.132744327187538,-0.311590522527695,0.641501426696777,0.121946908533573,0.114960342645645,0.110647507011890) * FEATURE2_texOff(vec2(0,-1));
res += mat4(0.101658165454865,-0.295907109975815,-0.241686910390854,-0.516077876091003,-0.458525717258453,-0.058528162539005,0.373166263103485,-0.350380212068558,0.324605882167816,-0.438353866338730,-0.183606639504433,-0.067873589694500,0.279771775007248,-0.180040106177330,0.206718862056732,0.173244878649712) * FEATURE2_texOff(vec2(0,0));
res += mat4(0.035254251211882,0.672691404819489,0.026467150077224,0.020788056775928,-0.158594965934753,-0.121094606816769,-0.304549902677536,-0.241623580455780,0.136688873171806,0.231120154261589,0.149231493473053,-0.120219051837921,-0.304815471172333,-0.244692102074623,-0.470944344997406,-0.181126177310944) * FEATURE2_texOff(vec2(0,1));
res += mat4(-0.128657117486000,-0.726424038410187,0.003718022722751,0.325581252574921,0.041650470346212,-0.208328932523727,0.077026680111885,0.359603375196457,-0.025241557508707,-0.001172174816020,-0.165512174367905,0.038356095552444,-0.177796199917793,-0.066252246499062,0.110588967800140,0.112389639019966) * FEATURE2_texOff(vec2(1,-1));
res += mat4(-0.836720943450928,0.040020268410444,0.292678385972977,0.578330338001251,0.160423457622528,-0.306245148181915,-0.116453886032104,0.891461849212646,0.076079890131950,0.037938401103020,-0.233469277620316,-0.072394713759422,-0.236422538757324,-0.057365644723177,0.004667321685702,-0.494422256946564) * FEATURE2_texOff(vec2(1,0));
res += mat4(0.355076313018799,-0.079359717667103,0.243963629007339,-0.000545206421521,0.282781273126602,0.075205199420452,-0.051725879311562,-0.200682938098907,0.025882111862302,0.018436761572957,-0.082950420677662,-0.035302888602018,-0.112396240234375,0.146117523312569,-0.074042007327080,-0.158456385135651) * FEATURE2_texOff(vec2(1,1));
res += mat4(0.071626864373684,0.020726155489683,-0.018377836793661,0.070015728473663,0.165801987051964,0.028210794553161,0.046866770833731,-0.025820076465607,-0.316022187471390,-0.236127778887749,0.249400049448013,-0.005411070305854,-0.220945730805397,0.011921223253012,0.121294900774956,-0.125519588589668) * FEATURE3_texOff(vec2(-1,-1));
res += mat4(-0.146009415388107,-0.175878897309303,-0.132057771086693,-0.149588227272034,0.280312657356262,-0.346324592828751,0.285704940557480,-0.497955083847046,-0.252842217683792,-0.001279755728319,-0.117069788277149,0.196987494826317,-0.031406171619892,-0.003679471556097,-0.433020383119583,-0.353484362363815) * FEATURE3_texOff(vec2(-1,0));
res += mat4(-0.143741324543953,0.074213311076164,0.025867309421301,0.132898181676865,-0.256244570016861,0.067008115351200,-0.300097584724426,0.092758581042290,0.064695306122303,0.065638355910778,0.100488297641277,-0.018374465405941,0.189491018652916,-0.129527613520622,-0.374304801225662,-0.217847064137459) * FEATURE3_texOff(vec2(-1,1));
res += mat4(-0.090065829455853,-0.073220595717430,0.090102545917034,0.043197862803936,0.306293159723282,0.000670172099490,-0.220855459570885,0.021534694358706,-0.425993025302887,-0.037090107798576,-0.388298094272614,-0.389874339103699,-0.134218931198120,-0.133471444249153,-0.047719229012728,-0.295627892017365) * FEATURE3_texOff(vec2(0,-1));
res += mat4(-1.376664876937866,0.143101468682289,-0.013676455244422,-0.074108272790909,-0.317542761564255,0.445112586021423,-0.174132093787193,0.737281739711761,0.581258177757263,-0.045423496514559,0.213225319981575,-0.235651239752769,-0.100324988365173,-0.016956949606538,0.165393427014351,-0.306586354970932) * FEATURE3_texOff(vec2(0,0));
res += mat4(0.249788984656334,-1.225808858871460,0.179734751582146,0.053311791270971,0.049757361412048,-0.444895476102829,0.059702266007662,0.101952470839024,-0.107376202940941,0.183029919862747,-0.417931079864502,0.326679319143295,0.023531069979072,0.327179938554764,-0.771702408790588,0.088105253875256) * FEATURE3_texOff(vec2(0,1));
res += mat4(-0.134186580777168,0.007749770302325,-0.157753035426140,0.083812862634659,0.175047263503075,0.059438459575176,0.107139460742474,0.025225063785911,0.586315035820007,0.067862123250961,0.226263001561165,0.154462024569511,0.148521691560745,0.105301320552826,0.161859884858131,0.578212440013885) * FEATURE3_texOff(vec2(1,-1));
res += mat4(-0.085665822029114,0.092885389924049,-0.331791847944260,0.182835415005684,-0.506330490112305,0.062774509191513,-0.064175538718700,-0.376123338937759,-0.081637270748615,0.086647838354111,-0.074827052652836,0.259542047977448,0.344816535711288,-0.447013646364212,0.378309577703476,0.618356704711914) * FEATURE3_texOff(vec2(1,0));
res += mat4(-0.229026302695274,-0.197951704263687,-0.096568860113621,0.182101026177406,0.046673826873302,0.165091365575790,-0.137664616107941,-0.100533463060856,-0.103134714066982,-0.075258411467075,0.151691943407059,-0.089934006333351,-0.218722105026245,0.206425741314888,0.334141552448273,0.166946038603783) * FEATURE3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.150767847895622,-0.287066161632538,0.789941310882568,-0.136794447898865) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND FEATURE1
//!BIND FEATURE2
//!BIND FEATURE3
//!SAVE MODEL3
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 1_3

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(0.031248707324266,0.024877356365323,-0.159228056669235,0.041611708700657);
res += mat4(-0.166393026709557,-0.093437090516090,-0.114250048995018,0.165060907602310,-0.083741940557957,-0.108046829700470,0.203723475337029,0.049218725413084,-0.391507089138031,0.049274940043688,0.010493907146156,0.450548321008682,-0.027941560372710,-0.113128550350666,0.215825021266937,0.280002087354660) * FEATURE1_texOff(vec2(-1,-1));
res += mat4(-0.069526545703411,-0.194332823157310,-0.151940762996674,-0.397486388683319,-0.047339599579573,-0.000897558580618,0.467864990234375,0.217677861452103,-0.183402210474014,0.001592437271029,0.201627179980278,0.121641315519810,0.059430323541164,-0.263248860836029,0.181756138801575,0.220384269952774) * FEATURE1_texOff(vec2(-1,0));
res += mat4(-0.258352160453796,-0.081164158880711,-0.036885846406221,-0.115858525037766,0.286546498537064,-0.016080806031823,-0.183824315667152,-0.003265238134190,0.035407271236181,-0.024481935426593,0.079292826354504,0.241989657282829,0.085774034261703,-0.017571637406945,0.139401912689209,0.156518712639809) * FEATURE1_texOff(vec2(-1,1));
res += mat4(0.601344823837280,-0.220351934432983,0.518441438674927,0.238504827022552,-0.331779778003693,0.115401096642017,-0.216746017336845,-0.003607172518969,0.162974476814270,-0.265865653753281,0.007612463552505,0.701254487037659,0.084204949438572,0.190709710121155,0.037447620183229,-0.215541914105415) * FEATURE1_texOff(vec2(0,-1));
res += mat4(0.717570126056671,-0.254081130027771,0.661176860332489,0.046999186277390,-0.732787489891052,0.809500515460968,-0.948267579078674,-0.037137411534786,-0.376922488212585,0.164274856448174,-0.251364052295685,0.141496419906616,0.136806085705757,0.076749451458454,0.063614182174206,-0.961821734905243) * FEATURE1_texOff(vec2(0,0));
res += mat4(-0.341763287782669,0.242635399103165,-0.765343189239502,0.126982256770134,0.628539323806763,-0.291525274515152,1.027561068534851,0.214675232768059,0.029476616531610,0.033984139561653,-0.037059754133224,-0.171952724456787,-0.051451198756695,-0.201450273394585,0.028250776231289,0.149132981896400) * FEATURE1_texOff(vec2(0,1));
res += mat4(-0.123278982937336,0.230786100029945,-0.109369650483131,-0.020632462576032,-0.065910913050175,-0.064714238047600,-0.063085533678532,0.017143541947007,0.115746282041073,0.086752384901047,-0.011062989011407,-0.026987219229341,-0.055027224123478,0.073689311742783,0.000366061110981,0.181226864457130) * FEATURE1_texOff(vec2(1,-1));
res += mat4(0.340618848800659,0.561182975769043,-0.317381054162979,-0.947449326515198,0.039864290505648,-0.716008424758911,0.131988912820816,0.414270490407944,-0.126944661140442,-0.160394668579102,0.008686445653439,0.315551698207855,-0.030363254249096,0.195902541279793,-0.118830531835556,-0.134731844067574) * FEATURE1_texOff(vec2(1,0));
res += mat4(-0.166046768426895,0.068549737334251,-0.016844069585204,0.307048857212067,0.207548141479492,0.166187778115273,-0.173696115612984,-0.292782604694366,0.021874066442251,-0.035719152539968,0.018027158454061,-0.015697941184044,0.177015021443367,0.057266414165497,0.125503003597260,0.031325668096542) * FEATURE1_texOff(vec2(1,1));
res += mat4(0.026921158656478,0.135494649410248,0.033639445900917,0.351632326841354,-0.020786814391613,0.061064746230841,-0.117083348333836,0.009581908583641,0.051538351923227,0.004430995788425,-0.072628132998943,-0.074829600751400,0.176039651036263,0.077635258436203,-0.062411721795797,0.107403747737408) * FEATURE2_texOff(vec2(-1,-1));
res += mat4(0.126290306448936,0.243547618389130,-0.090679518878460,0.156426981091499,0.130652353167534,0.014169147238135,-0.002983063226566,0.073154374957085,0.039560303092003,0.049100998789072,-0.160889282822609,-0.180868148803711,0.148346900939941,0.126420900225639,0.056796118617058,-0.050328616052866) * FEATURE2_texOff(vec2(-1,0));
res += mat4(-0.053373858332634,0.319798082113266,-0.168485403060913,-0.437641710042953,-0.151868551969528,-0.018667059019208,-0.034882642328739,-0.101189099252224,-0.040556494146585,0.061627555638552,-0.007242638617754,0.064417555928230,-0.089928783476353,0.074817314743996,-0.177949711680412,-0.106426358222961) * FEATURE2_texOff(vec2(-1,1));
res += mat4(-0.263093292713165,0.052477575838566,-0.124881990253925,0.059746775776148,-0.115684434771538,-0.025595225393772,0.030969150364399,0.015886744484305,0.112012207508087,-0.052587643265724,0.031898975372314,0.247072562575340,0.099015884101391,0.016591699793935,0.063824981451035,0.137635126709938) * FEATURE2_texOff(vec2(0,-1));
res += mat4(-0.533714473247528,0.341632604598999,-0.582924067974091,-0.184686437249184,0.198697641491890,-0.384269326925278,0.047840941697359,-0.288003593683243,0.200066700577736,-0.092792823910713,-0.048211146146059,-0.222341194748878,-0.197485432028770,0.292656838893890,-0.226813986897469,-0.434852063655853) * FEATURE2_texOff(vec2(0,0));
res += mat4(-0.097667939960957,0.108544096350670,-0.391591191291809,-0.279709011316299,0.179701775312424,-0.107361301779747,-0.064097501337528,-0.223165765404701,0.116400115191936,0.072957813739777,0.088903747498989,-0.201570793986320,-0.298016816377640,-0.045577388256788,0.166381642222404,-0.168039649724960) * FEATURE2_texOff(vec2(0,1));
res += mat4(0.022321848198771,-0.103046953678131,-0.038191683590412,0.169003278017044,0.014554410241544,-0.082323968410492,-0.044420525431633,-0.027622519060969,-0.065984569489956,-0.015456577762961,0.131460249423981,0.247727274894714,0.087197266519070,-0.065991513431072,-0.032906278967857,-0.027229370549321) * FEATURE2_texOff(vec2(1,-1));
res += mat4(0.249411493539810,-0.619986236095428,-0.003598006209359,0.259908705949783,-0.110954746603966,0.373037666082382,-0.050484307110310,-0.182212308049202,-0.385483950376511,0.259855985641479,0.094629988074303,0.348205059766769,-0.062513604760170,-0.227432638406754,-0.129814624786377,0.273389428853989) * FEATURE2_texOff(vec2(1,0));
res += mat4(-0.055925901979208,-0.492017149925232,0.074829190969467,0.189924180507660,-0.287926733493805,0.135822623968124,0.047501958906651,0.307746380567551,0.007020949851722,0.081495188176632,-0.057945240288973,0.183681234717369,-0.188835874199867,-0.095787368714809,-0.165964767336845,0.055555589497089) * FEATURE2_texOff(vec2(1,1));
res += mat4(-0.028042979538441,0.104117885231972,-0.057792540639639,-0.230613783001900,0.097675196826458,-0.168281123042107,-0.072336763143539,0.037665717303753,-0.018201770260930,0.023972971364856,0.094875186681747,0.085165597498417,-0.077392011880875,0.040832418948412,-0.078058034181595,-0.089998774230480) * FEATURE3_texOff(vec2(-1,-1));
res += mat4(0.078815959393978,-0.184810787439346,0.159632980823517,0.096812091767788,0.236568436026573,-0.074509628117085,0.031134590506554,0.176460593938828,-0.020105203613639,-0.029676055535674,-0.020003015175462,0.254716962575912,0.038440480828285,-0.000400979857659,-0.129152253270149,0.002258158288896) * FEATURE3_texOff(vec2(-1,0));
res += mat4(-0.051276009529829,0.045981623232365,0.090598158538342,-0.151179522275925,-0.216181159019470,0.072384528815746,0.034720648080111,-0.025451054796576,0.050244804471731,0.012569422833622,0.011413877829909,-0.098427213728428,0.152021080255508,-0.067633174359798,0.111193388700485,-0.066074058413506) * FEATURE3_texOff(vec2(-1,1));
res += mat4(0.253998458385468,-0.024890137836337,0.040527358651161,0.001838934491388,0.167880877852440,0.122633993625641,-0.182133927941322,-0.629915595054626,-0.465274572372437,0.259494125843048,-0.052647471427917,-0.389720767736435,0.199332877993584,-0.045978106558323,0.217645287513733,0.411185115575790) * FEATURE3_texOff(vec2(0,-1));
res += mat4(-0.284869104623795,0.269366770982742,0.047725960612297,-0.501819491386414,0.283782809972763,0.172472387552261,0.355249434709549,0.012666547670960,-0.427143126726151,-0.214163124561310,0.035973150283098,-0.116252027451992,-0.813844263553619,0.514234781265259,-0.502285420894623,-0.375257223844528) * FEATURE3_texOff(vec2(0,0));
res += mat4(0.114015929400921,-0.023138718679547,-0.024249523878098,-0.011766049079597,-0.019288649782538,-0.305117428302765,-0.256901055574417,0.086181238293648,-0.136539310216904,0.002316509140655,-0.065370470285416,-0.202447578310966,0.123604007065296,0.085101343691349,0.082931123673916,-0.006165182683617) * FEATURE3_texOff(vec2(0,1));
res += mat4(0.212666034698486,-0.036359988152981,0.110770449042320,-0.146186873316765,-0.224600613117218,-0.060621529817581,0.040521480143070,0.255545109510422,0.273695141077042,-0.423170596361160,-0.010527971200645,-0.175232797861099,0.181266546249390,0.126670375466347,-0.065616250038147,-0.020991493016481) * FEATURE3_texOff(vec2(1,-1));
res += mat4(0.042023327201605,-0.107139714062214,-0.173819124698639,-0.050055447965860,-0.042267125099897,0.166884258389473,-0.155654147267342,0.040665060281754,-0.169331088662148,-0.604220449924469,-0.001302498159930,0.473031759262085,-0.010987962596118,-0.555201351642609,-0.223197236657143,0.013681795448065) * FEATURE3_texOff(vec2(1,0));
res += mat4(0.123177312314510,0.082333803176880,-0.191644459962845,0.266195744276047,-0.308472126722336,0.117537111043930,0.214928343892097,-0.013762664981186,-0.154190644621849,0.077716156840324,0.089920021593571,-0.017356110736728,-0.213778659701347,-0.031609397381544,-0.087100900709629,0.210220471024513) * FEATURE3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.468985021114349,-0.581240236759186,0.921268105506897,0.369977265596390) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.006366543937474,-0.029254304245114,-0.252382636070251,0.088583357632160);
res += mat4(0.084016166627407,-0.029154963791370,0.061132159084082,0.069708392024040,0.292659282684326,0.210682377219200,-0.192282006144524,-0.019483424723148,0.024392623454332,0.120392858982086,-0.290540397167206,-0.155986905097961,-0.017599988728762,-0.001780154765584,-0.055453591048717,0.173908665776253) * FEATURE1_texOff(vec2(-1,-1));
res += mat4(-0.199724629521370,0.656511127948761,0.073275588452816,-0.292379766702652,0.528373479843140,0.366972982883453,0.024398101493716,0.078946940600872,0.083666495978832,-0.000421390257543,0.118377320468426,0.028372894972563,0.129472926259041,0.246958985924721,0.008031438104808,0.072433702647686) * FEATURE1_texOff(vec2(-1,0));
res += mat4(0.001050719060004,-0.177226200699806,-0.211594328284264,0.046674959361553,0.058314919471741,0.229898661375046,-0.051755361258984,0.115374751389027,0.094091795384884,0.030555503442883,0.023084606975317,-0.000507775170263,0.150222897529602,-0.133569657802582,0.184904098510742,-0.046094134449959) * FEATURE1_texOff(vec2(-1,1));
res += mat4(-0.514180839061737,0.028645308688283,-0.272839188575745,-0.210734829306602,-0.175872638821602,-0.116954907774925,0.130537316203117,-0.294736415147781,-0.107147060334682,-0.063164301216602,-0.148272752761841,0.246849626302719,0.055715378373861,-0.057981897145510,-0.136612504720688,0.238834410905838) * FEATURE1_texOff(vec2(0,-1));
res += mat4(0.479974329471588,-0.288630753755569,-0.143085613846779,0.352275222539902,0.669627845287323,-0.382722288370132,-0.240155205130577,-0.071864895522594,0.163490578532219,-0.102076619863510,-0.107847340404987,-0.070977479219437,-0.171656206250191,0.027223439887166,0.227647766470909,-0.111496277153492) * FEATURE1_texOff(vec2(0,0));
res += mat4(-0.063102848827839,-0.134540230035782,0.743961155414581,-0.172285780310631,0.171442747116089,-0.166756093502045,0.020993743091822,0.132891178131104,-0.026893986389041,0.042719986289740,0.114068426191807,0.148363798856735,-0.179257929325104,0.139816880226135,-0.082759946584702,-0.010307999327779) * FEATURE1_texOff(vec2(0,1));
res += mat4(-0.021892571821809,-0.028125004842877,-0.065705701708794,-0.016240710392594,0.006953703239560,-0.070879176259041,0.034146334975958,-0.203674688935280,0.139592736959457,-0.079887919127941,0.001203080289997,-0.107266023755074,0.242887839674950,0.002464858582243,0.047617297619581,0.369170486927032) * FEATURE1_texOff(vec2(1,-1));
res += mat4(0.262489438056946,-0.069802112877369,-0.121821857988834,0.206671297550201,0.208024501800537,-0.330979019403458,-0.292021304368973,0.234131067991257,0.010459151118994,0.083220943808556,0.360322356224060,0.025884050875902,-0.023794785141945,-0.043098218739033,-0.025615172460675,-0.152670115232468) * FEATURE1_texOff(vec2(1,0));
res += mat4(0.023099709302187,0.090369477868080,-0.103666238486767,-0.052278682589531,-0.259353846311569,-0.048315167427063,-0.081231065094471,0.178712263703346,0.074209392070770,0.018707418814301,-0.303110063076019,-0.033582087606192,0.179107949137688,-0.102012962102890,0.072642892599106,-0.030199449509382) * FEATURE1_texOff(vec2(1,1));
res += mat4(-0.074525579810143,-0.085958570241928,-0.195455476641655,0.040575101971626,-0.082305595278740,0.363353669643402,0.107211850583553,0.492315113544464,-0.068648338317871,0.196302115917206,-0.060818508267403,-0.090061798691750,-0.046733364462852,-0.253334790468216,0.091089226305485,0.174717828631401) * FEATURE2_texOff(vec2(-1,-1));
res += mat4(-0.200252458453178,0.063465714454651,-0.194984272122383,0.085894361138344,0.015097441151738,0.467467248439789,0.636712014675140,-0.253736615180969,-0.073810063302517,-2.919407367706299,0.063430368900299,0.224364116787910,-0.161131232976913,0.722214579582214,-0.206393823027611,-0.177160605788231) * FEATURE2_texOff(vec2(-1,0));
res += mat4(0.206315442919731,0.027650220319629,-0.291589587926865,0.005028390791267,0.029717255383730,0.221241846680641,0.220593169331551,-0.219350710511208,-0.018778100609779,-0.135008633136749,0.515728294849396,-0.021301696076989,-0.110910914838314,0.305050998926163,-0.003118571825325,0.151540368795395) * FEATURE2_texOff(vec2(-1,1));
res += mat4(-0.316814303398132,-0.275106817483902,0.361913472414017,0.112185016274452,0.111661627888680,-0.165427789092064,0.033165197819471,1.283730864524841,0.042119033634663,0.020570181310177,-0.056258298456669,0.123020574450493,0.092340163886547,0.046492356806993,0.039961475878954,-0.188472300767899) * FEATURE2_texOff(vec2(0,-1));
res += mat4(0.263241499662399,-0.082138076424599,-0.017675932496786,-0.002128329593688,1.070423960685730,0.073366843163967,0.279683858156204,-0.445967942476273,-0.778118252754211,-0.120108030736446,0.033746816217899,-0.255936831235886,0.332888394594193,-0.167184934020042,-0.191220998764038,0.015625469386578) * FEATURE2_texOff(vec2(0,0));
res += mat4(0.011603013612330,0.052612047642469,-0.200875729322433,0.047259461134672,0.105192720890045,-0.179511278867722,-0.305334955453873,-0.386101454496384,-0.044361472129822,0.098674610257149,0.091356925666332,-0.077945403754711,0.056449476629496,-0.157947361469269,-0.004600908141583,0.188616901636124) * FEATURE2_texOff(vec2(0,1));
res += mat4(-0.675310611724854,-0.035229939967394,0.231126382946968,-0.160066843032837,-0.080779902637005,-0.173691794276237,-0.047423910349607,0.145607918500900,0.056421477347612,0.001172745600343,-0.005775237455964,0.102911531925201,0.081871151924133,-0.112188391387463,-0.101996265351772,-0.077568925917149) * FEATURE2_texOff(vec2(1,-1));
res += mat4(1.580401182174683,0.298188269138336,0.597918212413788,0.097905620932579,-0.046884644776583,0.015306797809899,-0.324284464120865,-0.168433561921120,0.011942022480071,0.104939118027687,-0.198952347040176,-0.024929802864790,-0.034340448677540,0.133356645703316,0.230971530079842,-0.086258262395859) * FEATURE2_texOff(vec2(1,0));
res += mat4(0.643455803394318,-0.148530706763268,-0.220746487379074,-0.237352341413498,-0.209331333637238,-0.038107581436634,-0.443603038787842,-0.201653838157654,0.197647362947464,-0.009511301293969,-0.033940412104130,0.009416562505066,-0.235353738069534,-0.113556146621704,0.036897357553244,0.038474444299936) * FEATURE2_texOff(vec2(1,1));
res += mat4(0.052912689745426,0.022952888160944,0.097144477069378,-0.085691496729851,0.096991255879402,0.119230672717094,-0.075072847306728,-0.169018849730492,0.148404777050018,0.192220181226730,-0.284370750188828,-0.106021173298359,0.051144797354937,0.125280752778053,-0.168952241539955,0.287905305624008) * FEATURE3_texOff(vec2(-1,-1));
res += mat4(0.071533843874931,0.117314353585243,0.033922828733921,-0.070848360657692,-0.071622379124165,0.276194602251053,-0.432895541191101,0.146824687719345,0.210300654172897,-0.166518896818161,0.352872759103775,0.154092133045197,-0.303720682859421,-0.164334774017334,0.156194552779198,-0.297785133123398) * FEATURE3_texOff(vec2(-1,0));
res += mat4(-0.171156644821167,0.022334024310112,0.001173370634206,0.118460513651371,-0.068017780780792,-0.012310852296650,-0.315620213747025,0.008000781759620,-0.010275837965310,0.181989476084709,0.070394344627857,0.063442490994930,-0.168613284826279,0.057858575135469,0.298301190137863,-0.146558821201324) * FEATURE3_texOff(vec2(-1,1));
res += mat4(-0.188423678278923,-0.065938934683800,0.053984217345715,-0.201349094510078,-0.096198223531246,-0.052447155117989,-0.111872196197510,-0.177376985549927,-0.262510657310486,-0.106299035251141,0.245282784104347,0.093538396060467,-0.167437031865120,-0.099968291819096,0.313935637474060,0.877667605876923) * FEATURE3_texOff(vec2(0,-1));
res += mat4(-0.169240906834602,-0.229057922959328,-0.107098177075386,0.412245213985443,0.318274348974228,-0.495207786560059,0.177413210272789,0.507398247718811,-0.224720254540443,0.204499438405037,-0.212837994098663,-0.159492313861847,-0.114057421684265,0.328147351741791,0.810158908367157,-0.413094490766525) * FEATURE3_texOff(vec2(0,0));
res += mat4(-0.219464808702469,-0.127232998609543,0.417307138442993,-0.150778338313103,0.283425658941269,0.128430202603340,0.075175151228905,-0.026492668315768,0.386547088623047,-0.026298677548766,-0.576291084289551,0.268067896366119,-0.231885194778442,0.008020653389394,-0.154943361878395,-0.131368175148964) * FEATURE3_texOff(vec2(0,1));
res += mat4(0.157420426607132,0.064935877919197,-0.015049787238240,-0.093831449747086,-0.052563730627298,-0.094348989427090,0.095305360853672,-0.122111268341541,-0.321719735860825,-0.000636795652099,0.064476907253265,-0.290134638547897,0.278936713933945,-0.052441895008087,-0.046982120722532,0.095514617860317) * FEATURE3_texOff(vec2(1,-1));
res += mat4(0.120092391967773,0.026080599054694,-0.091668166220188,-0.090614691376686,-0.224744796752930,0.094540245831013,-0.025264026597142,-0.238009005784988,0.075339660048485,-0.080193750560284,-0.003775051562116,-0.002185001503676,0.117762915790081,-0.151098087430000,-0.086708433926105,-0.082830272614956) * FEATURE3_texOff(vec2(1,0));
res += mat4(-0.147051587700844,-0.073860950767994,-0.034285873174667,0.064779631793499,-0.186186179518700,-0.119139783084393,0.064788475632668,0.118256688117981,-0.099260970950127,-0.177704855799675,0.219066753983498,0.008239595219493,0.251846879720688,-0.081880949437618,0.152345031499863,-0.029385685920715) * FEATURE3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.139093309640884,-0.208647981286049,0.439080685377121,-0.039495743811131) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL1
//!BIND MODEL2
//!BIND MODEL3
//!SAVE MODEL4
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 2_1

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.056592196226120,0.052428886294365,0.008005111478269,-0.069362476468086);
res += mat4(0.127906784415245,-0.043331317603588,0.070084221661091,0.136802479624748,-0.164444953203201,0.033121291548014,-0.108645625412464,0.153009578585625,-0.042161446064711,-0.006931876763701,0.127577781677246,-0.141991928219795,0.020250288769603,0.130459845066071,-0.087078399956226,0.101657025516033) * MODEL1_texOff(vec2(-1,-1));
res += mat4(0.020034128800035,-0.004619979299605,0.144143417477608,0.079258888959885,0.098108589649200,-0.027572877705097,-0.043307635933161,0.045998509973288,0.014196017757058,-0.044434562325478,0.035055179148912,-0.332201957702637,0.125885188579559,0.175088793039322,-0.164212405681610,-0.018738828599453) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.309779256582260,-0.119932122528553,0.046493262052536,0.003331631887704,-0.082742363214493,-0.055806167423725,0.077463075518608,-0.069687470793724,0.260087370872498,0.047143910080194,0.032251253724098,-0.312017470598221,0.111740656197071,0.005019563715905,-0.299425750970840,-0.029780074954033) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.002726059639826,-0.011831230483949,-0.040537681430578,-0.012669136747718,-0.009268881753087,0.242318764328957,0.083313509821892,0.022884760051966,-0.065399318933487,0.011502182111144,0.027539430186152,-0.370529621839523,-0.083527937531471,0.119635209441185,-0.196154624223709,-0.054955761879683) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.432984411716461,-0.295627206563950,-0.386750608682632,0.127712935209274,0.109988696873188,0.013489845208824,-0.259462267160416,0.374500691890717,0.463186055421829,-0.023575033992529,0.148047029972076,0.173502340912819,0.209305882453918,0.086413361132145,-0.107644103467464,-0.305422276258469) * MODEL1_texOff(vec2(0,0));
res += mat4(0.075363717973232,0.079579256474972,0.130126953125000,-0.111993253231049,-0.222126796841621,-0.439423650503159,0.092316873371601,-0.354840695858002,-0.620747506618500,-0.352165341377258,-0.170264795422554,0.886808872222900,0.406589001417160,0.181457608938217,-0.477079749107361,-0.090726830065250) * MODEL1_texOff(vec2(0,1));
res += mat4(-0.104933679103851,-0.045994684100151,0.109798967838287,-0.117007210850716,-0.117698900401592,0.130525961518288,-0.131423190236092,-0.076372839510441,0.031449530273676,0.080971375107765,-0.208184286952019,-0.301323145627975,0.102950543165207,0.082526601850986,-0.179118514060974,-0.061186108738184) * MODEL1_texOff(vec2(1,-1));
res += mat4(0.021946897730231,0.307014167308807,0.381145119667053,0.062477190047503,0.066012807190418,0.033480983227491,-0.046863064169884,-0.223268628120422,0.340633451938629,0.075214684009552,0.167056620121002,0.106034487485886,0.253356605768204,0.138317182660103,-0.165644347667694,-0.029817262664437) * MODEL1_texOff(vec2(1,0));
res += mat4(0.288778305053711,0.112790510058403,-0.012988727539778,-0.051171679049730,-0.008041291497648,-0.151393994688988,0.329417824745178,-0.030714169144630,-0.519794046878815,0.338395774364471,0.528701126575470,0.015962267294526,0.162585645914078,0.159776002168655,-0.455614209175110,0.089830704033375) * MODEL1_texOff(vec2(1,1));
res += mat4(-0.204835817217827,0.064272575080395,0.176900759339333,0.155204102396965,-0.036763507872820,-0.101778313517570,0.221525803208351,-0.024732993915677,-0.054866228252649,0.167523786425591,-0.166139349341393,0.016930364072323,0.103177547454834,-0.018646545708179,0.008885112591088,-0.205878138542175) * MODEL2_texOff(vec2(-1,-1));
res += mat4(0.172657862305641,0.026886668056250,0.154913827776909,-0.075282201170921,-0.020499616861343,-0.006784450262785,0.272176533937454,-0.033269688487053,0.049110896885395,0.058054409921169,-0.427437037229538,-0.238754361867905,0.059030182659626,0.064079739153385,-0.111255414783955,0.011973125860095) * MODEL2_texOff(vec2(-1,0));
res += mat4(0.191343590617180,-0.073999032378197,0.046522945165634,-0.090212456882000,0.050766196101904,-0.062609910964966,0.440851509571075,0.014397987164557,0.138243257999420,0.160271301865578,-0.373114883899689,-0.036645952612162,-0.028822418302298,0.096275694668293,-0.142183899879456,-0.142297670245171) * MODEL2_texOff(vec2(-1,1));
res += mat4(-0.194532483816147,0.055739995092154,0.040611598640680,0.211787819862366,0.015992110595107,-0.079245500266552,0.242266550660133,0.043338950723410,0.253134161233902,0.224701344966888,-0.518833100795746,-0.697196483612061,0.174706771969795,-0.101101972162724,0.005899508483708,0.221183702349663) * MODEL2_texOff(vec2(0,-1));
res += mat4(-0.350016504526138,0.154330596327782,-0.019477175548673,0.194651335477829,-0.035299375653267,-0.099180705845356,0.491063266992569,-0.331565082073212,0.473785102367401,0.054565552622080,-0.656496882438660,0.140735417604446,-0.376336425542831,-0.171785533428192,-0.268789023160934,0.862808644771576) * MODEL2_texOff(vec2(0,0));
res += mat4(0.184232607483864,0.525872766971588,-0.120881386101246,0.037870474159718,0.155228212475777,-0.227046057581902,0.813336849212646,-0.237004578113556,0.048093933612108,0.011539019644260,-0.459112763404846,0.000852024822962,0.192070171236992,0.225721493363380,0.132314831018448,-0.016258090734482) * MODEL2_texOff(vec2(0,1));
res += mat4(0.081025287508965,0.131582528352737,-0.022680647671223,0.117002867162228,-0.030932029709220,-0.020227311179042,0.236170023679733,0.140209317207336,0.203269898891449,0.075459018349648,-0.439373165369034,-0.095848627388477,-0.242621600627899,-0.142069175839424,-0.069154918193817,-0.123811624944210) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.140797227621078,-0.412858217954636,0.129966333508492,-0.394772350788116,0.018074298277497,-0.077754214406013,0.496533721685410,0.085714831948280,0.280855089426041,-0.180749595165253,-0.343655019998550,-0.009821236133575,-0.235459595918655,0.288819551467896,0.424126803874969,-0.193098381161690) * MODEL2_texOff(vec2(1,0));
res += mat4(0.092643417418003,-0.115457974374294,-0.209966674447060,0.004190316889435,0.049910075962543,-0.311852723360062,0.514880955219269,-0.062871612608433,0.053493380546570,-0.041394345462322,-0.063747607171535,0.009002375416458,-0.130667746067047,-0.063499629497528,0.047069128602743,-0.113685518503189) * MODEL2_texOff(vec2(1,1));
res += mat4(-0.010690179653466,-0.040173940360546,0.185048639774323,0.148817703127861,-0.089692197740078,0.202611923217773,0.197161138057709,-0.067377403378487,0.008926501497626,0.047362141311169,-0.050664212554693,0.070430710911751,0.128275275230408,-0.221430480480194,0.052590277045965,0.120252072811127) * MODEL3_texOff(vec2(-1,-1));
res += mat4(0.152173563838005,-0.075483322143555,0.087324604392052,-0.015012051910162,-0.070241704583168,0.296400994062424,0.198807910084724,0.007685664575547,0.004601806402206,-0.041614025831223,0.133986279368401,0.098800778388977,0.214844956994057,-0.598257422447205,0.181531146168709,0.052917957305908) * MODEL3_texOff(vec2(-1,0));
res += mat4(-0.019804950803518,-0.052005242556334,-0.001263177255169,0.045902848243713,-0.279847294092178,0.151977792382240,-0.120913982391357,0.122022897005081,-0.055068552494049,-0.004870054777712,0.028870521113276,0.061281926929951,0.021852521225810,-0.152499333024025,0.055584747344255,-0.099779695272446) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.213375627994537,-0.128848567605019,-0.176393032073975,0.284088075160980,-0.190751343965530,0.176632225513458,0.205024927854538,-0.246771618723869,0.298746228218079,-0.298131972551346,0.120350696146488,-0.573727548122406,0.264885336160660,-0.215572640299797,0.024334158748388,0.296796172857285) * MODEL3_texOff(vec2(0,-1));
res += mat4(-0.223304122686386,0.127713933587074,-0.093508422374725,0.552541315555573,0.175916433334351,-0.157826229929924,0.030690470710397,-1.183465123176575,-0.139041990041733,1.050568699836731,-0.562255203723907,0.388766288757324,-0.196409389376640,-0.350002378225327,0.064050421118736,-0.233974903821945) * MODEL3_texOff(vec2(0,0));
res += mat4(-0.099949084222317,-0.260953068733215,0.082609660923481,0.166127800941467,-0.089215390384197,0.033685017377138,0.072557359933853,-0.062891818583012,-0.015861975029111,-0.072933234274387,0.116189837455750,-0.137830674648285,-0.133401826024055,-0.372733086347580,-0.179908543825150,0.115261197090149) * MODEL3_texOff(vec2(0,1));
res += mat4(0.164932131767273,-0.117361240088940,-0.144229590892792,0.095672920346260,-0.091798879206181,-0.023223023861647,0.000141356678796,-0.044093444943428,0.198842391371727,-0.130493178963661,0.131811439990997,0.036250814795494,0.124969281256199,-0.024804195389152,0.006024499889463,0.103367343544960) * MODEL3_texOff(vec2(1,-1));
res += mat4(-0.081554852426052,-0.110998004674911,0.035653233528137,0.014189871028066,0.116778902709484,0.118190094828606,-0.062667191028595,0.028176859021187,-0.089196167886257,-0.214373409748077,0.050443258136511,-0.325143814086914,-0.526671290397644,-0.532479226589203,-0.455152958631516,0.089425668120384) * MODEL3_texOff(vec2(1,0));
res += mat4(0.032080646604300,-0.103774532675743,0.070925362408161,0.187063127756119,0.039372954517603,0.080457381904125,0.093250945210457,0.015672152861953,-0.114659301936626,-0.013322089798748,-0.118205428123474,-0.005885837133974,0.045740731060505,-0.094504147768021,-0.045007031410933,0.034069336950779) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.194181933999062,1.248036861419678,0.093772552907467,0.167923346161842) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.044554337859154,-0.085369095206261,-0.014409708790481,0.043112996965647);
res += mat4(-0.049238409847021,0.127767831087112,0.252278745174408,-0.111053079366684,0.027844795957208,0.178613036870956,-0.395962834358215,0.094602212309837,0.072238706052303,0.153501227498055,0.005693315528333,-0.189983889460564,0.042348548769951,-0.080524064600468,0.249612584710121,0.151874482631683) * MODEL1_texOff(vec2(-1,-1));
res += mat4(0.095879293978214,-0.164463534951210,-0.601469993591309,0.289971202611923,-0.198832035064697,0.350691884756088,-0.008140387013555,-0.122248426079750,0.262737214565277,0.126706883311272,-0.212097927927971,-0.034570727497339,-0.087501011788845,-0.713815987110138,-0.137574270367622,-0.042630802839994) * MODEL1_texOff(vec2(-1,0));
res += mat4(-0.187045633792877,-0.306103110313416,-0.242932230234146,0.102446064352989,0.140226647257805,0.320365816354752,-0.012708611786366,0.078269958496094,0.316154181957245,-0.194707512855530,-0.332606464624405,0.239112645387650,-0.062182489782572,-0.114730365574360,-0.173016890883446,0.195136711001396) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.606922686100006,0.331208586692810,-0.166054591536522,-0.448771864175797,-0.132865056395531,0.131227716803551,-0.295026630163193,0.039492126554251,0.178589105606079,0.012520813383162,0.128526240587234,0.113759927451611,-0.032513868063688,-0.087917193770409,0.514709234237671,0.360939115285873) * MODEL1_texOff(vec2(0,-1));
res += mat4(0.157376542687416,-0.444232046604156,0.325230598449707,-0.314502894878387,-0.182028993964195,0.470067799091339,-0.146455481648445,-0.251525789499283,-0.143800079822540,0.286427795886993,-0.006091356277466,-0.451958537101746,-0.013773905113339,0.511362850666046,0.063486956059933,0.206273972988129) * MODEL1_texOff(vec2(0,0));
res += mat4(0.458083570003510,-0.096077159047127,0.069267235696316,0.205274462699890,-0.242501616477966,0.182316541671753,0.020144902169704,-0.112730950117111,0.179822042584419,-0.515705525875092,-0.146508723497391,0.167210236191750,-0.172276169061661,0.182062491774559,0.190741375088692,-0.165372923016548) * MODEL1_texOff(vec2(0,1));
res += mat4(0.056506507098675,0.141321703791618,0.072963245213032,-0.023608192801476,0.008405559696257,0.109816655516624,-0.067762874066830,-0.084450617432594,-0.069224007427692,0.034777037799358,0.192665189504623,0.151118218898773,-0.120754137635231,-0.125814452767372,-0.035367451608181,-0.155223548412323) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.078395843505859,0.126212149858475,-0.123808741569519,-0.041253924369812,0.242630630731583,0.252196609973907,-0.080283105373383,0.043558441102505,-0.208326026797295,-0.237807154655457,-0.112646535038948,-0.112613245844841,0.045896347612143,-0.065185397863388,0.166046291589737,0.350282132625580) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.016371473670006,-0.006384377833456,0.000985342776403,-0.107122585177422,0.010841939598322,0.134790629148483,-0.209782257676125,-0.043602555990219,0.031302310526371,-0.153112560510635,0.026104075834155,0.074807360768318,0.042702179402113,-0.089449055492878,0.119355544447899,0.042841907590628) * MODEL1_texOff(vec2(1,1));
res += mat4(0.040260411798954,-0.162060290575027,0.003985632676631,-0.115526489913464,0.082148514688015,-0.301820456981659,0.098817780613899,0.553292155265808,0.022607188671827,0.090934514999390,0.187631234526634,-0.166778191924095,-0.197411090135574,0.072059735655785,-0.265015959739685,-0.133325859904289) * MODEL2_texOff(vec2(-1,-1));
res += mat4(-0.057727966457605,-0.493250310420990,0.004459468182176,-0.324822783470154,-0.342230170965195,-0.474007368087769,0.149265244603157,0.197466582059860,0.143487825989723,0.274381518363953,-0.128039136528969,0.189422562718391,0.173408105969429,0.068693913519382,0.367347747087479,0.212431713938713) * MODEL2_texOff(vec2(-1,0));
res += mat4(0.003620915580541,0.200726062059402,0.039829492568970,-0.497944623231888,-0.089664950966835,0.074858248233795,0.188634410500526,0.018516674637794,-0.121999971568584,-0.043374769389629,0.167313098907471,0.242430299520493,-0.185835897922516,-0.057125799357891,0.042477522045374,0.003488106653094) * MODEL2_texOff(vec2(-1,1));
res += mat4(0.170759066939354,-0.430004864931107,-0.165096536278725,-0.217513680458069,0.075823888182640,-0.345421791076660,0.380529940128326,0.678123474121094,0.238334476947784,-0.542124569416046,0.141084820032120,0.451291710138321,0.151754066348076,0.100348703563213,-0.322975516319275,-0.073933161795139) * MODEL2_texOff(vec2(0,-1));
res += mat4(0.414945095777512,-0.425346881151199,0.296882271766663,0.027875956147909,-0.137012273073196,-0.607479274272919,0.228917270898819,0.336539208889008,-0.199730396270752,-0.040369197726250,-0.217931896448135,0.242810875177383,0.205183744430542,-0.268057823181152,0.249517276883125,0.145733237266541) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.045320134609938,-0.080812670290470,0.077554762363434,-0.427253544330597,0.128758728504181,0.084148369729519,0.278650939464569,0.083862401545048,0.383509904146194,-0.003944084979594,0.489727973937988,-0.233979985117912,0.742605149745941,-0.259685605764389,0.169339284300804,0.121465012431145) * MODEL2_texOff(vec2(0,1));
res += mat4(0.155020579695702,-0.230569288134575,-0.096668675541878,-0.059645414352417,-0.137190178036690,-0.222768545150757,-0.099743813276291,0.272787064313889,-0.091803975403309,-0.229972213506699,-0.016155445948243,0.131517186760902,0.108881995081902,0.039618216454983,0.168006092309952,0.426422864198685) * MODEL2_texOff(vec2(1,-1));
res += mat4(-0.023082787171006,-0.198123008012772,-0.115230657160282,-0.409676700830460,-0.064033664762974,0.131920143961906,0.208774864673615,0.267008602619171,-0.241185963153839,-0.393236249685287,-0.084780491888523,0.408468723297119,-0.347550630569458,-0.072619728744030,0.002208311343566,-0.669681668281555) * MODEL2_texOff(vec2(1,0));
res += mat4(-0.056486207991838,-0.191016629338264,0.086942218244076,-0.556861460208893,-0.032256864011288,0.097364090383053,0.128386124968529,0.025604389607906,0.083087921142578,-0.075214564800262,-0.050621621310711,-0.017767785117030,-0.348099082708359,-0.076676517724991,0.377401262521744,-0.089807063341141) * MODEL2_texOff(vec2(1,1));
res += mat4(0.007264595478773,-0.017350982874632,-0.034956481307745,0.202709689736366,-0.140569806098938,-0.187871873378754,0.429952144622803,-0.045633580535650,0.025305012241006,-0.333170473575592,0.377829521894455,0.035505689680576,-0.015356602147222,-0.296716928482056,0.382183074951172,-0.062919795513153) * MODEL3_texOff(vec2(-1,-1));
res += mat4(-0.545238018035889,-0.205296874046326,-0.476456403732300,0.200346663594246,-0.132336884737015,-0.275509685277939,0.053996052592993,0.040989708155394,-0.206328481435776,-0.019626913592219,-0.390036016702652,0.556723237037659,0.361745953559875,-0.061637129634619,-0.622456789016724,-0.061912853270769) * MODEL3_texOff(vec2(-1,0));
res += mat4(-0.070411361753941,0.145611017942429,0.162510275840759,-0.099697731435299,-0.236084222793579,-0.058444119989872,0.245665132999420,-0.089758269488811,-0.149993553757668,-0.112103611230850,-0.208553358912468,-0.196304693818092,0.005858138669282,0.036739740520716,-0.648539006710052,-0.272580415010452) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.181242033839226,-0.278197288513184,0.383855015039444,-0.251166313886642,-0.170052334666252,-0.220414131879807,0.135365188121796,0.013820023275912,0.063411600887775,-0.717168271541595,-0.285619616508484,-0.171198815107346,0.125115633010864,0.149909302592278,0.207713827490807,-0.256949633359909) * MODEL3_texOff(vec2(0,-1));
res += mat4(0.401143819093704,0.246318548917770,-0.571509599685669,-0.565268218517303,-0.423652350902557,-0.257329016923904,-0.093331851065159,0.375949978828430,-0.336557894945145,0.702076196670532,-0.346565663814545,-0.272822737693787,-0.006141522433609,-0.438143342733383,-0.148083999752998,0.041455667465925) * MODEL3_texOff(vec2(0,0));
res += mat4(0.058069694787264,-0.251562833786011,-0.129585295915604,0.364971011877060,-0.447041183710098,0.234933897852898,-0.305171489715576,-0.138649791479111,0.055540770292282,-0.072798751294613,-0.252496957778931,-0.150508955121040,-0.018816392868757,0.254916161298752,-0.131532981991768,0.272243797779083) * MODEL3_texOff(vec2(0,1));
res += mat4(-0.088341377675533,-0.074884362518787,-0.205713599920273,-0.089286029338837,-0.137025624513626,0.159855544567108,-0.340224444866180,-0.498780906200409,-0.020980400964618,0.550089657306671,0.052001178264618,-0.310372471809387,-0.241895511746407,0.001649940502830,-0.019487636163831,0.057623129338026) * MODEL3_texOff(vec2(1,-1));
res += mat4(-0.140846028923988,-0.242901116609573,0.112308695912361,-0.244871407747269,-0.473280251026154,-0.980625391006470,0.101037792861462,0.709158957004547,-0.212024852633476,0.203962028026581,0.296725869178772,0.076729953289032,-0.048492893576622,0.075921691954136,0.109415315091610,-0.267639070749283) * MODEL3_texOff(vec2(1,0));
res += mat4(-0.033816505223513,0.241114243865013,-0.028053974732757,0.308237969875336,-0.138345345854759,0.419331401586533,-0.173697099089622,0.372312068939209,-0.347284764051437,-0.152848660945892,0.212998166680336,0.179865106940269,0.131378218531609,0.140207588672638,0.139962568879128,-0.036312095820904) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.389288157224655,0.096793949604034,0.086870469152927,0.035525161772966) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL1
//!BIND MODEL2
//!BIND MODEL3
//!SAVE MODEL5
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 2_2

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.029243446886539,0.273449182510376,0.009601308032870,-0.173230096697807);
res += mat4(-0.169313848018646,0.105555288493633,-0.073085449635983,-0.015943000093102,-0.189555034041405,0.284411817789078,0.002472129650414,0.002846588846296,0.038581047207117,-0.128076404333115,0.010426783934236,0.206415906548500,0.173527657985687,-0.177247732877731,0.024769032374024,-0.197868272662163) * MODEL1_texOff(vec2(-1,-1));
res += mat4(-0.114663556218147,0.077573522925377,-0.046481739729643,0.296561181545258,0.084868304431438,0.689507544040680,-0.085597611963749,-0.072999455034733,0.021626470610499,-0.145303577184677,0.205299913883209,0.019271994009614,0.274995625019073,-0.838338553905487,0.145543456077576,-0.287383884191513) * MODEL1_texOff(vec2(-1,0));
res += mat4(-0.012009809724987,-0.094187855720520,-0.291334658861160,0.038487579673529,-0.223691374063492,0.017848566174507,0.075155802071095,0.128675580024719,0.151249542832375,0.302943646907806,0.086156286299229,-0.261981099843979,0.114404127001762,-0.358158886432648,0.033935185521841,-0.386520117521286) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.040329121053219,-0.149107575416565,0.070646293461323,-0.032185632735491,-0.307763844728470,-0.098171152174473,0.216429814696312,0.144806697964668,-0.149036809802055,-0.403959065675735,-0.046150654554367,0.306014806032181,0.220040738582611,0.120874263346195,-0.000174724642420,-0.278017461299896) * MODEL1_texOff(vec2(0,-1));
res += mat4(0.667599081993103,0.098832607269287,0.052547302097082,0.050305105745792,0.021247638389468,0.538456082344055,-0.096610821783543,0.051079738885164,0.108977295458317,0.002590101212263,-0.006984211038798,-0.139327615499496,0.218042328953743,-0.608982563018799,-0.004650847520679,-0.417558550834656) * MODEL1_texOff(vec2(0,0));
res += mat4(-0.446122825145721,0.247589498758316,0.143676251173019,0.016605740413070,-0.130912423133850,0.275451511144638,-0.263095468282700,-0.028587246313691,0.343226045370102,-0.171491533517838,-0.353675901889801,0.093129783868790,0.299159765243530,-0.217575281858444,-0.047429844737053,-0.603562712669373) * MODEL1_texOff(vec2(0,1));
res += mat4(0.018764480948448,0.144029796123505,-0.055490031838417,0.068998441100121,0.123628780245781,-0.050569631159306,-0.135477393865585,0.020224682986736,-0.125135004520416,-0.143436565995216,0.013068222440779,0.084938719868660,0.167019143700600,0.045614555478096,0.031969878822565,-0.268909275531769) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.394749313592911,-0.242613434791565,0.180111736059189,0.003248660825193,0.145354643464088,-0.256271332502365,-0.073646597564220,0.098391517996788,0.232919082045555,-0.340878218412399,-0.169839099049568,-0.248223349452019,0.208644509315491,0.057867955416441,0.070761375129223,-0.428476095199585) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.158296912908554,0.011939142830670,-0.186204135417938,-0.061274707317352,0.307147979736328,0.173003628849983,-0.130684122443199,-0.040912371128798,0.050624642521143,-0.145785614848137,0.256200522184372,-0.043735191226006,0.213664561510086,0.018192360177636,0.124777272343636,-0.398761659860611) * MODEL1_texOff(vec2(1,1));
res += mat4(-0.106501877307892,-0.100199431180954,0.318715542554855,0.241004511713982,-0.269391506910324,-0.001368987141177,-0.021071771159768,0.240056648850441,0.436794877052307,-0.641627669334412,0.145412608981133,-0.296016335487366,0.149355813860893,-0.097377561032772,-0.148143425583839,0.223624542355537) * MODEL2_texOff(vec2(-1,-1));
res += mat4(-0.144886896014214,-0.109168522059917,-0.242383092641830,-0.009041266515851,-0.342304289340973,-0.042929623275995,-0.141023769974709,0.408312588930130,0.194398105144501,-0.270786404609680,0.274965614080429,-0.234795480966568,0.329226970672607,0.175323158502579,-0.415540099143982,-0.267947733402252) * MODEL2_texOff(vec2(-1,0));
res += mat4(-0.021321926265955,-0.002907160902396,-0.161124661564827,-0.100488357245922,-0.436720132827759,-0.086692035198212,0.033504255115986,0.546275615692139,0.072873264551163,-0.080162376165390,0.122028551995754,-0.190126359462738,0.087707079946995,0.073275670409203,-0.057170495390892,-0.009719148278236) * MODEL2_texOff(vec2(-1,1));
res += mat4(-0.253266066312790,-0.376384019851685,-0.319353610277176,0.303752988576889,-0.264875829219818,-0.152249544858932,-0.047251969575882,0.250027239322662,0.376467794179916,-0.259045660495758,0.071355566382408,-0.467139422893524,0.043312415480614,0.323651701211929,-0.069458395242691,0.225383564829826) * MODEL2_texOff(vec2(0,-1));
res += mat4(-0.391632467508316,-0.153729900717735,0.774157643318176,0.039869643747807,-0.707553207874298,-0.355955809354782,-0.112904794514179,0.533193886280060,0.265151113271713,-0.311026424169540,-0.155670091509819,-0.309431970119476,-0.246914550662041,0.401958584785461,-0.052248653024435,0.660862505435944) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.135626211762428,0.029207244515419,0.373751521110535,0.247142404317856,-0.831704616546631,-0.095612958073616,-0.055114772170782,0.845860004425049,0.062950760126114,0.146655097603798,0.090450800955296,-0.188605293631554,-0.075075089931488,-0.088442966341972,-0.011602673679590,-0.106468223035336) * MODEL2_texOff(vec2(0,1));
res += mat4(-0.062070917338133,-0.307501912117004,0.069860294461250,-0.051841340959072,-0.124554738402367,-0.033462937921286,-0.041091848164797,0.192050740122795,0.212799027562141,-0.172478407621384,-0.059818867594004,-0.288058638572693,-0.059581454843283,-0.197302401065826,0.132976368069649,-0.122530668973923) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.036000892519951,0.373461782932281,-0.195959091186523,-0.404414981603622,-0.352068573236465,-0.195000827312469,-0.130907654762268,0.475341707468033,0.021261401474476,-0.036783684045076,-0.005949270911515,-0.149321913719177,0.101582810282707,-0.090071223676205,0.206259414553642,-0.034523446112871) * MODEL2_texOff(vec2(1,0));
res += mat4(0.003089981153607,0.045082472264767,-0.081627182662487,-0.201240628957748,-0.734639644622803,0.092349678277969,-0.169223114848137,0.492783218622208,0.072158336639404,0.092509970068932,-0.008204218931496,-0.039845533668995,0.006868228316307,-0.051431156694889,-0.019500292837620,0.005422514397651) * MODEL2_texOff(vec2(1,1));
res += mat4(0.053240451961756,-0.112059354782104,-0.017034556716681,0.066030308604240,-0.047114670276642,-0.384676158428192,0.140064984560013,0.141414001584053,-0.081498391926289,-0.390981167554855,-0.054003823548555,-0.043142285197973,0.216254159808159,0.350507825613022,-0.064602784812450,-0.286190748214722) * MODEL3_texOff(vec2(-1,-1));
res += mat4(0.098425894975662,0.331309556961060,-0.295315027236938,-0.191835761070251,-0.233147606253624,-1.375126242637634,0.268162846565247,0.388639003038406,-0.003573287045583,0.138424262404442,0.072596520185471,0.053086902946234,-0.081614337861538,0.046243458986282,-0.157739832997322,-0.003416991094127) * MODEL3_texOff(vec2(-1,0));
res += mat4(0.007312875241041,0.055134888738394,-0.123064652085304,-0.140709042549133,0.053864095360041,-0.072486914694309,0.347287923097610,-0.003479263046756,-0.065796487033367,0.099347151815891,-0.166794046759605,0.129321217536926,-0.047627262771130,0.094097740948200,-0.015994256362319,0.046503297984600) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.088040985167027,-0.270464122295380,-0.051866449415684,-0.026954742148519,0.046539984643459,-0.076852940022945,-0.040848381817341,0.104513391852379,0.197742894291878,-0.156896859407425,-0.079222910106182,-0.482801288366318,0.193827405571938,0.307305812835693,-0.063496023416519,0.068540103733540) * MODEL3_texOff(vec2(0,-1));
res += mat4(0.549160718917847,0.570911109447479,0.240217760205269,-0.399178147315979,-0.353838860988617,-0.222576126456261,0.106593169271946,0.364774197340012,-0.660998582839966,0.127700313925743,0.383985012769699,0.342380344867706,-0.435119539499283,0.556047022342682,0.038274697959423,0.098461918532848) * MODEL3_texOff(vec2(0,0));
res += mat4(0.031896978616714,0.219937592744827,-0.062826387584209,0.012126376852393,-0.037842400372028,0.013999498449266,0.096542179584503,0.230495005846024,-0.144485995173454,0.199994415044785,0.121576793491840,0.107253201305866,0.026293525472283,0.288428574800491,0.026207718998194,0.097750946879387) * MODEL3_texOff(vec2(0,1));
res += mat4(0.065860025584698,0.014765710569918,-0.013621389865875,0.099596247076988,-0.127746909856796,0.168533608317375,0.021081414073706,-0.013333715498447,0.115287281572819,0.143728703260422,-0.041585300117731,0.118715800344944,0.076714672148228,0.266247808933258,-0.118913598358631,0.298274308443069) * MODEL3_texOff(vec2(1,-1));
res += mat4(0.254302561283112,0.083810850977898,-0.107200160622597,-0.096478536725044,-0.137686431407928,0.066994719207287,0.047352574765682,0.085816301405430,-0.164132282137871,0.264868617057800,-0.147700801491737,-0.125044822692871,-0.123268231749535,0.223556771874428,-0.160323187708855,0.083845324814320) * MODEL3_texOff(vec2(1,0));
res += mat4(-0.036169882863760,-0.102275602519512,-0.007816694676876,0.039925538003445,-0.091959863901138,0.026443554088473,-0.002755618654191,0.110766068100929,0.061357576400042,0.099343091249466,-0.054609417915344,-0.083726584911346,0.248338669538498,0.270723074674606,-0.017878193408251,-0.088586561381817) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.471184968948364,0.054701127111912,-0.580619037151337,0.515136837959290) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(-0.058152355253696,-0.072748348116875,0.197589069604874,-0.061936393380165);
res += mat4(0.221959799528122,-0.076433084905148,0.106768280267715,0.026338027790189,0.073500618338585,0.091464094817638,-0.122348681092262,0.026791665703058,0.104573428630829,-0.018383910879493,-0.026534143835306,0.019684765487909,-0.137373417615891,-0.161051720380783,-0.205466732382774,-0.075962468981743) * MODEL1_texOff(vec2(-1,-1));
res += mat4(0.139693349599838,0.028053894639015,0.026376914232969,-0.549231767654419,0.184685647487640,0.181367039680481,-0.252226829528809,-0.045994821935892,-0.160072311758995,-0.152029916644096,0.069248512387276,0.113787434995174,-0.956678569316864,-0.057714827358723,-0.105866335332394,-0.072601504623890) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.031562238931656,0.031169150024652,-0.011574876494706,-0.002956676762551,0.040502358227968,0.185820877552032,0.011266543529928,-0.150902658700943,0.009779384359717,0.150032296776772,0.071154914796352,-0.024371201172471,-0.501300394535065,0.070750132203102,0.083721712231636,0.086064830422401) * MODEL1_texOff(vec2(-1,1));
res += mat4(0.565800189971924,-0.158178731799126,0.137968480587006,-0.179758384823799,0.144301399588585,0.002314620651305,0.015685275197029,0.089328199625015,0.237260058522224,-0.075224056839943,-0.022164564579725,0.257993787527084,0.151282891631126,-0.049391463398933,-0.134321942925453,-0.149315714836121) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.646981477737427,0.638715386390686,-0.060932010412216,1.094522237777710,0.287596970796585,-0.179877609014511,0.643978118896484,0.049606479704380,0.332459241151810,-0.249319553375244,0.116726703941822,0.195447430014610,0.256603837013245,0.071189872920513,-0.102872960269451,-0.245774105191231) * MODEL1_texOff(vec2(0,0));
res += mat4(0.171505093574524,-0.093575440347195,0.198680892586708,-0.210405379533768,-0.179225146770477,0.756112277507782,-0.253391295671463,0.018614849075675,0.183116555213928,0.342287600040436,0.417758971452713,-0.023162705823779,0.167724788188934,-0.309095531702042,0.072818048298359,-0.118524417281151) * MODEL1_texOff(vec2(0,1));
res += mat4(0.040644519031048,-0.068339370191097,-0.162767305970192,-0.085060752928257,0.286245107650757,0.022683454677463,0.178749084472656,0.117824025452137,0.194300860166550,0.002143310615793,0.147149085998535,0.004803407937288,-0.079528383910656,-0.064836181700230,-0.060294266790152,-0.131986677646637) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.114278122782707,-0.052684817463160,0.179063156247139,0.347011297941208,0.301019549369812,0.110825903713703,0.030788138508797,0.083567142486572,0.151871100068092,-0.089936949312687,0.326355606317520,-0.088457949459553,-0.272375792264938,-0.090555153787136,-0.034610785543919,-0.002135809510946) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.002273118589073,0.014784114435315,0.009401959367096,0.047557905316353,0.042256042361259,0.268436759710312,0.096735104918480,0.061433609575033,0.180805936455727,0.262944340705872,0.114204689860344,-0.063169486820698,-0.107870988547802,-0.169245660305023,-0.407550692558289,-0.083205923438072) * MODEL1_texOff(vec2(1,1));
res += mat4(-0.059275045990944,-0.058793853968382,0.029042720794678,-0.006097766105086,-0.425268590450287,0.007580169476569,0.074262619018555,-0.130248188972473,0.182951793074608,0.011076505295932,-0.086663439869881,0.009583854116499,-0.018514681607485,0.025848742574453,-0.163076043128967,0.106628142297268) * MODEL2_texOff(vec2(-1,-1));
res += mat4(-0.050117041915655,-0.081473723053932,-0.124230295419693,0.046423867344856,-0.050188250839710,0.030763998627663,0.068636745214462,0.124504432082176,-0.079522453248501,0.238671958446503,-0.003503441810608,0.054960906505585,0.059272021055222,0.084682561457157,0.216475620865822,0.035319946706295) * MODEL2_texOff(vec2(-1,0));
res += mat4(-0.470559835433960,-0.047816820442677,-0.316087365150452,0.128233209252357,-0.112503699958324,-0.328670859336853,-0.007983115501702,0.033738933503628,0.260776787996292,0.081582218408585,-0.003680032910779,-0.149855762720108,0.067143321037292,-0.342364519834518,0.165658846497536,-0.144004940986633) * MODEL2_texOff(vec2(-1,1));
res += mat4(-0.273203819990158,0.065751209855080,-0.131811872124672,-0.074536994099617,-0.568438410758972,0.240527525544167,-0.063611507415771,-0.245930597186089,0.262120604515076,-0.234290048480034,0.022138459607959,-0.064023718237877,-0.419388353824615,-0.055262599140406,-0.009956808760762,0.129962354898453) * MODEL2_texOff(vec2(0,-1));
res += mat4(-0.501910209655762,0.151316285133362,-0.704384267330170,0.132689177989960,-0.380727946758270,-0.009173489175737,-0.162343904376030,-0.104224286973476,0.155836135149002,-0.266876637935638,0.041959553956985,-0.538719236850739,-0.833768844604492,-0.104249522089958,0.096169605851173,0.329475194215775) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.261566698551178,-0.447661042213440,-1.224557757377625,0.046723350882530,0.010330680757761,-0.877255141735077,-0.090967983007431,0.134001582860947,-0.178992703557014,0.344124466180801,-0.315427988767624,0.117600664496422,-0.000158545502927,-0.120217531919479,-0.048607930541039,0.025343297049403) * MODEL2_texOff(vec2(0,1));
res += mat4(-0.257305204868317,0.063198596239090,-0.147082164883614,0.007055068854243,-0.264573246240616,-0.021726777777076,0.076600693166256,-0.195665195584297,-0.082641765475273,-0.085466198623180,-0.030199149623513,-0.078180417418480,-0.101567625999451,0.001072011771612,0.101958520710468,-0.146874397993088) * MODEL2_texOff(vec2(1,-1));
res += mat4(-0.099284119904041,0.070409789681435,-0.050862200558186,0.010146228596568,-0.145279437303543,-0.106171526014805,-0.028017694130540,-0.069548174738884,-0.186508968472481,-0.044611584395170,-0.101646840572357,0.269173264503479,0.290857374668121,-0.128443211317062,0.007670971564949,-0.204804927110672) * MODEL2_texOff(vec2(1,0));
res += mat4(-0.212515130639076,-0.163666501641273,-0.247450113296509,0.127514168620110,-0.123684823513031,-0.289763480424881,0.030165396630764,0.043129988014698,-0.069611459970474,-0.101667448878288,-0.244500860571861,0.048578925430775,0.069297827780247,0.094114631414413,0.230663850903511,-0.146089732646942) * MODEL2_texOff(vec2(1,1));
res += mat4(-0.098450437188148,0.092132136225700,-0.073051132261753,-0.103926032781601,-0.042035281658173,0.035110291093588,0.158222600817680,-0.053777717053890,0.213713705539703,-0.262056052684784,0.054374329745770,-0.180737689137459,0.061929993331432,-0.028357593342662,0.149488940834999,-0.070926919579506) * MODEL3_texOff(vec2(-1,-1));
res += mat4(-0.003022866789252,-0.037622299045324,0.036433175206184,0.050475813448429,0.110127963125706,-0.019217539578676,-0.107928410172462,-0.167311266064644,0.044781196862459,0.037152647972107,0.035184569656849,0.054935075342655,-0.190516665577888,0.220096781849861,0.139066040515900,0.041998989880085) * MODEL3_texOff(vec2(-1,0));
res += mat4(-0.019140569493175,0.092081129550934,-0.103259444236755,-0.211189731955528,0.027912337332964,0.042673293501139,-0.007026390172541,0.132813528180122,-0.101651400327682,0.050077520310879,-0.054915472865105,0.137345895171165,0.122827932238579,-0.081169724464417,0.013386360369623,-0.200834929943085) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.032843455672264,0.161111801862717,-0.045859731733799,0.484317213296890,-0.222030088305473,0.172918453812599,0.109125249087811,-0.215412288904190,-0.406177163124084,0.017185587435961,0.180770874023438,0.272024065256119,0.427702933549881,-0.114313393831253,0.134508281946182,-0.019973907619715) * MODEL3_texOff(vec2(0,-1));
res += mat4(-0.010976126417518,-0.856472134590149,0.048591475933790,-0.288429141044617,0.036450795829296,-0.203192949295044,-0.617111802101135,-0.060837570577860,0.072309836745262,-0.344023585319519,0.148901492357254,-0.016220521181822,-1.282922506332397,0.108276277780533,-0.171986147761345,0.330215394496918) * MODEL3_texOff(vec2(0,0));
res += mat4(-0.025031648576260,-0.362129867076874,0.523079931735992,0.073329783976078,0.040540330111980,-0.247952505946159,-0.608770430088043,-0.056105483323336,0.074122659862041,0.108926378190517,0.047584708780050,-0.161313161253929,0.271053969860077,-1.171487092971802,0.092519447207451,0.216963097453117) * MODEL3_texOff(vec2(0,1));
res += mat4(0.143113419413567,0.089150264859200,-0.004304470494390,0.205819994211197,-0.335416734218597,0.146528556942940,-0.205000236630440,-0.237779229879379,-0.102502129971981,0.161497548222542,-0.042254753410816,-0.029323445633054,-0.078999273478985,-0.094604626297951,-0.065786607563496,-0.168115571141243) * MODEL3_texOff(vec2(1,-1));
res += mat4(-0.121312238276005,0.050231266766787,-0.081563346087933,0.002781191142276,-0.936071276664734,0.206438466906548,-0.972642302513123,-0.331494957208633,0.065424121916294,0.191625699400902,-0.031775727868080,-0.121598944067955,-0.213394999504089,0.081438489258289,-0.255872994661331,0.323652684688568) * MODEL3_texOff(vec2(1,0));
res += mat4(-0.063032276928425,-0.066478304564953,-0.115809313952923,-0.034689426422119,-0.283181518316269,-0.458243221044540,-0.600763440132141,-0.089839592576027,0.097099654376507,0.108653500676155,-0.075869895517826,-0.306248158216476,0.034804593771696,-0.236324772238731,-0.055150169879198,0.209559619426727) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.070851512253284,0.003060037735850,-0.010931991972029,0.741522073745728) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL1
//!BIND MODEL2
//!BIND MODEL3
//!SAVE MODEL6
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 2_3

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(0.026518046855927,0.058929335325956,-0.124815769493580,0.082167156040668);
res += mat4(-0.081547155976295,-0.145330220460892,0.130820974707603,-0.298349261283875,-0.030875265598297,0.015151069499552,0.016807666048408,-0.284037888050079,-0.069719910621643,-0.053456198424101,0.084428943693638,-0.056951466947794,0.025174248963594,-0.141643881797791,0.141663104295731,-0.102472417056561) * MODEL1_texOff(vec2(-1,-1));
res += mat4(-0.214719966053963,0.114320605993271,0.130772426724434,0.524548590183258,-0.106663413345814,0.317890346050262,-0.343424022197723,-0.089684903621674,-0.038777831941843,0.052496362477541,-0.006950351409614,0.226963624358177,-0.148142144083977,-0.154925495386124,0.398313075304031,-0.162721276283264) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.119431629776955,-0.160477727651596,0.166209027171135,0.057100433856249,0.061569768935442,0.147854477167130,-0.019767383113503,-0.200660645961761,0.140263110399246,-0.346357405185699,0.218288898468018,0.251862257719040,-0.021720360964537,-0.208049133419991,0.391139209270477,0.011878876015544) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.039567783474922,0.303764820098877,-0.124087885022163,0.138102397322655,-0.121498726308346,0.380768537521362,-0.327046930789948,0.265280187129974,-0.166162744164467,0.167560115456581,0.446000337600708,0.185933947563171,-0.192311018705368,0.056206598877907,0.227749302983284,0.119033500552177) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.032657556235790,-0.255137681961060,0.233989655971527,-0.355371117591858,0.518622100353241,-0.052283778786659,-0.342128425836563,-0.062242604792118,0.458951264619827,-0.116409994661808,0.480510115623474,-0.686447262763977,-0.288160592317581,-0.438014924526215,0.690355777740479,0.101248845458031) * MODEL1_texOff(vec2(0,0));
res += mat4(-0.392210125923157,0.228477165102959,-0.133014693856239,0.086035035550594,-0.109794996678829,0.012710956856608,0.257559478282928,0.199458613991737,-0.070541903376579,0.325270026922226,-0.927416861057281,-0.782398819923401,-0.130517348647118,-0.199077263474464,0.279376864433289,0.202635914087296) * MODEL1_texOff(vec2(0,1));
res += mat4(-0.040736567229033,-0.120356932282448,-0.248037382960320,-0.046139132231474,0.034912057220936,0.045640967786312,-0.161373496055603,-0.070698194205761,-0.078621707856655,0.077931478619576,0.150904327630997,0.185802027583122,-0.008226012811065,0.006271465681493,0.048185132443905,-0.044112902134657) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.229522734880447,-0.105504043400288,0.209781169891357,0.025278117507696,-0.150123953819275,-0.040751781314611,0.128961741924286,0.150581225752831,0.322631299495697,-0.397107303142548,-0.052719905972481,-0.267332136631012,-0.110571295022964,-0.024913044646382,-0.081005506217480,-0.213232323527336) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.106152810156345,-0.041549075394869,-0.040405109524727,-0.016595143824816,0.389082014560699,0.117071747779846,-0.037766393274069,-0.177154168486595,0.100522063672543,0.011723481118679,-0.150412186980247,-0.148497030138969,-0.092536062002182,-0.043428570032120,0.003338163485751,-0.246692582964897) * MODEL1_texOff(vec2(1,1));
res += mat4(-0.172968849539757,-0.019359061494470,0.064665004611015,0.199147939682007,-0.062116291373968,-0.003523085732013,-0.165640935301781,0.070644497871399,-0.222443178296089,0.028760531917214,0.184765830636024,-0.170148864388466,0.046860389411449,0.087412051856518,-0.133042827248573,0.077499270439148) * MODEL2_texOff(vec2(-1,-1));
res += mat4(-0.169871151447296,-0.005533277988434,0.129650056362152,0.324281036853790,0.024318806827068,-0.079591169953346,-0.202553898096085,0.092427149415016,-0.115909300744534,-0.183489084243774,0.252993077039719,0.070305302739143,0.041486013680696,-0.042870711535215,0.088247783482075,0.201221242547035) * MODEL2_texOff(vec2(-1,0));
res += mat4(0.080213524401188,-0.182811215519905,0.107096299529076,0.038942884653807,0.041195135563612,-0.077044822275639,-0.251790881156921,0.045518681406975,-0.003679211949930,-0.000298158003716,-0.046421140432358,-0.056016217917204,-0.010051937773824,0.115137092769146,-0.003499317448586,0.010749938897789) * MODEL2_texOff(vec2(-1,1));
res += mat4(-0.362782627344131,-0.117582686245441,0.105735175311565,0.317090451717377,-0.080383218824863,0.001725711394101,-0.365190625190735,0.141287922859192,-0.030067382380366,-0.290211498737335,0.356137812137604,-0.050477568060160,0.210942998528481,-0.295094877481461,0.265525221824646,-0.275150716304779) * MODEL2_texOff(vec2(0,-1));
res += mat4(-0.125604018568993,-0.228327304124832,0.178857341408730,0.022053884342313,-0.477015525102615,-0.153433576226234,0.228452384471893,0.144465401768684,0.156202226877213,-0.146878913044930,0.059044037014246,0.124506399035454,0.052594438195229,0.382870048284531,-0.403168261051178,-0.542713224887848) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.312817335128784,0.420776039361954,-0.104536004364491,-0.013139550574124,0.002381127793342,-0.124575883150101,0.016068229451776,0.171374171972275,0.038093037903309,0.072230175137520,-0.012243136763573,-0.056174524128437,-0.100070290267467,0.206631734967232,-0.004399717319757,-0.001376578351483) * MODEL2_texOff(vec2(0,1));
res += mat4(-0.556945800781250,0.298866450786591,0.368179261684418,-0.204198345541954,-0.130803659558296,0.031512681394815,-0.134767308831215,0.017782289534807,-0.102727130055428,-0.042954221367836,0.204613208770752,-0.011616351082921,0.166257545351982,-0.162414699792862,0.187613755464554,-0.035670824348927) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.237591102719307,-0.195204153656960,-0.110112108290195,-0.335683792829514,-0.344208836555481,0.067631311714649,-0.139899581670761,0.219478353857994,-0.030312255024910,-0.091979749500751,0.256367206573486,0.003983623348176,0.004023274872452,0.091412439942360,-0.160485967993736,-0.074451342225075) * MODEL2_texOff(vec2(1,0));
res += mat4(-0.208991095423698,0.142153054475784,0.026790603995323,0.188338771462440,-0.123731479048729,-0.021084457635880,0.028912128880620,0.229562804102898,0.070816084742546,-0.017268331721425,0.030174411833286,0.009603321552277,-0.050520323216915,-0.049722671508789,-0.020953051745892,0.094788908958435) * MODEL2_texOff(vec2(1,1));
res += mat4(0.129553362727165,0.037075076252222,-0.075200304389000,0.333682805299759,-0.134606987237930,0.132005542516708,0.139846712350845,-0.115950874984264,0.074331305921078,-0.178360074758530,-0.166298508644104,0.248192399740219,0.121351920068264,0.055722583085299,-0.036698698997498,0.082069292664528) * MODEL3_texOff(vec2(-1,-1));
res += mat4(-0.004636767320335,0.202948793768883,-0.079491257667542,0.107787370681763,0.151006504893303,-0.331344068050385,0.150191098451614,0.409317225217819,-0.004814599640667,0.025796014815569,0.035561800003052,0.100187741219997,0.064992472529411,-0.165973246097565,0.126884669065475,0.042753055691719) * MODEL3_texOff(vec2(-1,0));
res += mat4(0.024357227608562,0.015689969062805,0.049328465014696,0.005098422057927,0.000057384204410,0.045580599457026,-0.137795940041542,-0.047933004796505,-0.055449794977903,0.101484455168247,-0.062006678432226,-0.096687160432339,0.039643812924623,0.015238013118505,0.279723465442657,0.150448068976402) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.391258478164673,-0.436380743980408,-0.027534700930119,-0.061152055859566,-0.256386101245880,0.130251675844193,-0.192842647433281,0.417114555835724,0.675704717636108,-0.877086400985718,-0.095812797546387,-0.491958111524582,-0.126495391130447,-0.014526142738760,-0.768939673900604,-0.022033633664250) * MODEL3_texOff(vec2(0,-1));
res += mat4(0.073953323066235,0.565911173820496,-0.413585960865021,-0.363466978073120,0.117706529796124,-0.268399626016617,0.276242882013321,0.583442270755768,-0.466530114412308,0.680711925029755,-0.293191671371460,0.098723635077477,-0.435957372188568,0.157452717423439,0.487814247608185,-0.431501060724258) * MODEL3_texOff(vec2(0,0));
res += mat4(0.013913662172854,-0.085169918835163,0.095488280057907,0.003649426158518,0.015671700239182,-0.031777817755938,-0.013375339098275,-0.040704652667046,-0.017195845022798,0.099608376622200,0.091816820204258,0.226958185434341,0.186594724655151,0.098711736500263,-0.212435826659203,0.105472959578037) * MODEL3_texOff(vec2(0,1));
res += mat4(0.100676067173481,0.027630407363176,0.160870745778084,-0.146451175212860,0.015772838145494,-0.015262707136571,-0.070591427385807,0.007148511707783,-0.080767683684826,-0.110156394541264,-0.000963425380178,-0.173019737005234,-0.081866480410099,0.000369726680219,-0.077725045382977,-0.144441157579422) * MODEL3_texOff(vec2(1,-1));
res += mat4(-0.011729755438864,0.238033339381218,-0.067977897822857,-0.024203706532717,0.011178120970726,-0.004389220383018,-0.116753756999969,0.108262345194817,-0.309823662042618,-0.032278593629599,0.226544544100761,0.153377294540405,-0.026120819151402,0.321778774261475,0.123168535530567,-0.342996656894684) * MODEL3_texOff(vec2(1,0));
res += mat4(0.031221074983478,0.013940535485744,-0.011674639768898,-0.050695944577456,0.016363328322768,-0.037840619683266,-0.040715321898460,0.012418351136148,-0.036944806575775,0.142309531569481,0.124403104186058,-0.132518306374550,0.073468953371048,-0.000928716384806,-0.135641157627106,-0.018952872604132) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.349552541971207,-0.269185870885849,-0.023469345644116,-0.006998754572123) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.150323629379272,0.050372544676065,0.034626256674528,-0.042200144380331);
res += mat4(-0.110915459692478,-0.256966114044189,0.056850735098124,0.042312301695347,0.275518208742142,-0.071624472737312,0.106656387448311,0.051236197352409,-0.146378785371780,-0.061497073620558,0.129907548427582,0.151481226086617,-0.330377578735352,-0.206417769193649,-0.305996775627136,0.018333725631237) * MODEL1_texOff(vec2(-1,-1));
res += mat4(0.127049133181572,-0.094459280371666,0.184266582131386,-0.364408046007156,0.435476869344711,0.108621492981911,-0.029398025944829,0.214093208312988,-0.128240883350372,-0.116997756063938,-0.142054587602615,0.261741012334824,-0.674887359142303,0.304830342531204,-0.485031127929688,0.457573980093002) * MODEL1_texOff(vec2(-1,0));
res += mat4(-0.043710943311453,0.038823813199997,0.050956979393959,-0.054535474628210,0.563469648361206,0.063670635223389,-0.020677801221609,0.088529586791992,0.016684088855982,-0.000910299888346,0.024000668898225,-0.011693912558258,-0.904407203197479,0.133635342121124,-0.049563985317945,0.080469943583012) * MODEL1_texOff(vec2(-1,1));
res += mat4(0.210428103804588,-0.404792964458466,-0.118109688162804,0.360257089138031,0.138177767395973,0.029974557459354,0.108029574155807,-0.039411693811417,-0.224992394447327,0.284556567668915,0.026262436062098,0.118158228695393,-0.160334989428520,0.183013647794724,-0.344926238059998,-0.053016163408756) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.072625443339348,-0.004335920326412,-0.890350401401520,0.103144980967045,0.234709396958351,-0.133699193596840,-0.019336650148034,0.185470491647720,0.372945159673691,-0.485489308834076,-0.216527238488197,-0.223016798496246,0.227123647928238,-0.089337468147278,-0.276381731033325,0.150381758809090) * MODEL1_texOff(vec2(0,0));
res += mat4(0.128884479403496,0.103133298456669,0.133980661630630,0.287816166877747,0.282942831516266,-0.055641952902079,0.102483242750168,0.274596989154816,0.433108359575272,-0.111060827970505,0.032180815935135,0.093410000205040,-0.114390544593334,-0.010720976628363,-0.394247472286224,-0.001565094804391) * MODEL1_texOff(vec2(0,1));
res += mat4(0.003102409420535,0.186473548412323,0.115908920764923,0.074975043535233,0.147943004965782,-0.227037951350212,-0.011763731017709,0.006841677706689,-0.131870344281197,0.043320041149855,-0.128119438886642,-0.056485962122679,-0.039599295705557,-0.001486755791120,-0.119179904460907,0.101044081151485) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.293694883584976,-0.049596611410379,0.063187137246132,-0.541260838508606,0.034120023250580,-0.076386757194996,-0.007099874783307,0.155131295323372,-0.274757862091064,-0.196023374795914,-0.074731707572937,-0.049295268952847,-0.192572668194771,-0.301802664995193,-0.102232523262501,0.104869648814201) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.031523343175650,-0.033097453415394,-0.115365430712700,-0.031045628711581,0.227042973041534,0.081384271383286,-0.024898754432797,0.012239347212017,0.074529662728310,-0.137221097946167,-0.020255628973246,-0.014986420981586,0.079995907843113,0.200923621654510,-0.077708698809147,0.146915301680565) * MODEL1_texOff(vec2(1,1));
res += mat4(0.003665749914944,0.073463678359985,0.004206506069750,-0.139939233660698,-0.133574321866035,-0.214424595236778,0.051365423947573,-0.236966267228127,0.025323685258627,-0.285858899354935,0.059844873845577,-0.038217395544052,0.115733191370964,-0.039438996464014,0.057242173701525,-0.063324943184853) * MODEL2_texOff(vec2(-1,-1));
res += mat4(0.002440679585561,0.019335985183716,-0.020879494026303,-0.065206028521061,-0.567918121814728,-0.382818698883057,0.128774464130402,-0.248886421322823,0.238478362560272,0.178241729736328,-0.073196366429329,0.075520828366280,-0.049868941307068,-0.318917393684387,0.010857250541449,-0.006459490396082) * MODEL2_texOff(vec2(-1,0));
res += mat4(-0.053745385259390,0.487978428602219,-0.123936615884304,0.050695329904556,-0.191814005374908,-0.151704072952271,0.098210878670216,-0.033449266105890,0.248033389449120,-0.093698687851429,0.218052268028259,-0.162323817610741,-0.134137511253357,-0.185919433832169,-0.204541891813278,-0.102458238601685) * MODEL2_texOff(vec2(-1,1));
res += mat4(-0.012593166902661,0.119450926780701,0.074368506669998,-0.174140647053719,-0.358305275440216,-0.443647533655167,0.053638882935047,-0.093559436500072,-0.271307706832886,0.166285857558250,0.174928963184357,0.088326692581177,-0.120187535881996,-0.087046623229980,0.054417379200459,-0.119973890483379) * MODEL2_texOff(vec2(0,-1));
res += mat4(-0.038431201130152,0.459285825490952,0.330850958824158,-0.015267009846866,-0.937005579471588,-0.057277463376522,0.068855054676533,-0.326236516237259,-0.124921955168247,-0.216943457722664,-0.348910927772522,0.375094801187515,-0.679124176502228,-0.183697327971458,-0.163695946335793,0.219568088650703) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.161996483802795,0.330804169178009,0.200250372290611,-0.062154188752174,-0.612976431846619,-0.017821528017521,0.213714137673378,-0.083204723894596,0.492251813411713,0.133508875966072,-0.250324666500092,-0.014265435747802,-0.456092476844788,0.201470270752907,0.094556540250778,0.035130858421326) * MODEL2_texOff(vec2(0,1));
res += mat4(0.025129372254014,0.293469578027725,0.106618270277977,-0.112894997000694,-0.032675065100193,-0.323797792196274,-0.033552117645741,-0.163030341267586,-0.041130859404802,0.011519814841449,0.081061795353889,-0.079849518835545,0.082276612520218,0.004595876671374,-0.007179585285485,-0.035191938281059) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.212515190243721,0.360334426164627,0.198781460523605,-0.192226111888885,-0.198014438152313,-0.202570721507072,0.025110810995102,-0.193207666277885,-0.228571757674217,-0.135499820113182,0.522695422172546,0.130056962370872,0.039794683456421,0.518645167350769,0.102119028568268,-0.271911650896072) * MODEL2_texOff(vec2(1,0));
res += mat4(0.110986061394215,0.346089512109756,0.257495671510696,-0.101917050778866,-0.225626841187477,-0.072528816759586,-0.053973559290171,0.015480022877455,-0.041290652006865,0.049183007329702,0.049036152660847,-0.202585950493813,0.257958650588989,-0.251564741134644,-0.280745208263397,-0.040471278131008) * MODEL2_texOff(vec2(1,1));
res += mat4(0.198249220848083,0.224416866898537,0.032732781022787,0.081213526427746,0.104764007031918,0.015067396685481,-0.099027909338474,0.002319131512195,0.086020730435848,-0.331338942050934,0.004681845195591,-0.278964370489120,-0.061611644923687,-0.200107127428055,-0.136553302407265,0.010157668031752) * MODEL3_texOff(vec2(-1,-1));
res += mat4(-0.038105610758066,-0.123591497540474,0.037011638283730,0.275210827589035,-0.001683310372755,0.309229373931885,0.138304904103279,-0.077234998345375,-0.064552567899227,0.116417042911053,0.220082804560661,-0.049826033413410,-0.084616944193840,0.094015441834927,0.173214241862297,0.158196762204170) * MODEL3_texOff(vec2(-1,0));
res += mat4(-0.021762337535620,0.067485831677914,0.224629357457161,0.219280689954758,0.006067976355553,0.022159693762660,-0.032521478831768,0.040616616606712,-0.087236776947975,0.198687568306923,-0.093742467463017,0.218313783407211,0.072940006852150,0.052608959376812,0.096792608499527,-0.037792332470417) * MODEL3_texOff(vec2(-1,1));
res += mat4(-0.240489721298218,0.126323476433754,0.029452830553055,-0.039886649698019,0.258569538593292,-0.182553797960281,-0.057217702269554,0.146873116493225,-0.178063631057739,0.037976000458002,-0.001703781075776,0.111243806779385,-0.041315387934446,-0.414363622665405,0.063517607748508,-0.025662994012237) * MODEL3_texOff(vec2(0,-1));
res += mat4(-0.159088104963303,-0.363161951303482,-0.949886858463287,-0.529420554637909,-0.092222161591053,0.187624663114548,0.279954254627228,-0.016133507713675,-0.255622237920761,-0.177020221948624,0.024865275248885,-0.100470140576363,-0.070109896361828,0.532193958759308,-0.213488698005676,-0.236975029110909) * MODEL3_texOff(vec2(0,0));
res += mat4(0.212878197431564,0.073072656989098,0.339971840381622,0.112897358834743,-0.160345673561096,0.182432159781456,0.075749337673187,0.246814489364624,0.132874578237534,0.090976528823376,-0.220104739069939,0.136798456311226,-0.163147985935211,0.517860710620880,0.222371831536293,-0.284618467092514) * MODEL3_texOff(vec2(0,1));
res += mat4(-0.114574328064919,-0.242631137371063,-0.151237726211548,-0.125031188130379,0.454877644777298,-0.253458917140961,0.000326865381794,0.194588169455528,-0.013112041167915,0.118914626538754,-0.450159788131714,-0.144212082028389,-0.090354464948177,0.178888022899628,-0.059237059205770,0.094252787530422) * MODEL3_texOff(vec2(1,-1));
res += mat4(0.192866280674934,0.187986835837364,-0.129099696874619,0.536835372447968,-0.106541037559509,0.580626606941223,0.162913039326668,0.337500452995300,0.490471720695496,-0.222162604331970,-0.336100608110428,-0.000349881389411,-0.100402288138866,0.047174848616123,0.256322175264359,0.083707392215729) * MODEL3_texOff(vec2(1,0));
res += mat4(-0.043419905006886,0.159723311662674,0.249268993735313,0.097856029868126,-0.250716060400009,0.231307312846184,0.100669950246811,0.185403764247894,0.030927162617445,0.122795291244984,0.011529147624969,0.381779462099075,-0.139656022191048,-0.308945626020432,-0.082334071397781,-0.064221844077110) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.131720975041389,-0.001775117008947,0.936626613140106,0.514165222644806) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL4
//!BIND MODEL5
//!BIND MODEL6
//!SAVE MODEL1
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 3_1

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.247766688466072,0.026778573170304,-0.390634566545486,-0.098993398249149);
res += mat4(-0.533289015293121,0.078023500740528,0.221748962998390,0.225843518972397,0.279153019189835,0.123868763446808,0.122287914156914,0.085807979106903,0.737390697002411,0.210374876856804,-0.212119638919830,0.015825210139155,0.259052544832230,-0.326061099767685,-0.361338555812836,-0.085851952433586) * MODEL4_texOff(vec2(-1,-1));
res += mat4(-0.203028574585915,-0.065462097525597,0.219797834753990,0.222999960184097,0.415541708469391,0.164035439491272,0.168358460068703,0.060037296265364,0.047268386930227,0.784642338752747,-0.142070889472961,-0.155107051134109,0.216801166534424,0.485423177480698,-0.202314779162407,0.035911664366722) * MODEL4_texOff(vec2(-1,0));
res += mat4(-0.146028146147728,-0.195667326450348,-0.091477848589420,-0.149767234921455,0.030587451532483,-0.143038511276245,0.032096736133099,-0.122405856847763,0.235439568758011,-0.041502464562654,0.251487493515015,0.185098394751549,0.011805707588792,0.181346207857132,-0.099530458450317,0.087300337851048) * MODEL4_texOff(vec2(-1,1));
res += mat4(0.266255915164948,-0.081527523696423,0.253750532865524,0.130784273147583,0.014958837069571,0.074415251612663,0.161005750298500,-0.250919729471207,-0.246200382709503,0.176229059696198,0.032476611435413,0.113251149654388,0.064316481351852,-0.033581689000130,-0.319948405027390,-0.053121376782656) * MODEL4_texOff(vec2(0,-1));
res += mat4(0.228894561529160,0.654873907566071,-0.168175712227821,-0.261800438165665,0.029397895559669,-0.379382252693176,0.069156043231487,0.614366769790649,-0.362061560153961,-0.256811410188675,0.099040083587170,-0.273848831653595,0.449985116720200,0.019396999850869,0.560435891151428,0.119569934904575) * MODEL4_texOff(vec2(0,0));
res += mat4(-0.082717970013618,-0.482859134674072,-0.106753043830395,-0.090252935886383,-0.123961083590984,-0.125634327530861,0.143459320068359,-0.001163431210443,-0.036988914012909,-0.185460612177849,0.177495270967484,0.096601687371731,0.132120922207832,-0.219588831067085,0.207659080624580,-0.160315141081810) * MODEL4_texOff(vec2(0,1));
res += mat4(-0.153333276510239,-0.276154518127441,0.245759159326553,0.049382004886866,-0.081338822841644,-0.109485991299152,0.176228955388069,-0.047767709940672,0.110169798135757,0.247820004820824,0.217202186584473,-0.045224729925394,0.143215656280518,-0.059120383113623,0.057507075369358,0.150630325078964) * MODEL4_texOff(vec2(1,-1));
res += mat4(-0.091538950800896,-0.105985738337040,-0.192341044545174,0.138498708605766,-0.012799095362425,-0.144123241305351,0.084899500012398,-0.017122697085142,0.112436279654503,0.006553296931088,0.167020738124847,0.003628398990259,-0.218929842114449,-0.491230010986328,-0.399911075830460,0.294180005788803) * MODEL4_texOff(vec2(1,0));
res += mat4(0.078466802835464,0.098475284874439,-0.077862210571766,0.065907843410969,-0.013992507010698,-0.000938083045185,0.012855947948992,0.032249599695206,-0.082994706928730,-0.148363247513771,0.081309169530869,-0.014865159057081,-0.038344912230968,-0.154678195714951,-0.203946098685265,-0.064753025770187) * MODEL4_texOff(vec2(1,1));
res += mat4(-0.077327586710453,-0.088980510830879,0.213857978582382,0.110737629234791,0.306646168231964,0.078060507774353,0.037972945719957,0.062536552548409,-0.032603859901428,0.070570215582848,-0.260771811008453,-0.173636689782143,-0.404017060995102,-0.177436545491219,0.147699847817421,0.006229111459106) * MODEL5_texOff(vec2(-1,-1));
res += mat4(0.073949858546257,0.200743794441223,0.072411388158798,0.074696272611618,0.412707567214966,0.133335754275322,0.063486635684967,0.152159079909325,-0.235367268323898,-0.211616039276123,0.188905328512192,0.184706598520279,0.149221688508987,-0.127434507012367,-0.167642891407013,-0.042958285659552) * MODEL5_texOff(vec2(-1,0));
res += mat4(-0.013899692334235,0.182670652866364,-0.132011443376541,-0.099241293966770,0.129584178328514,0.124141745269299,0.167906656861305,0.139200881123543,-0.072009801864624,0.063967913389206,0.169287770986557,0.003269098233432,0.082296676933765,0.264919757843018,-0.371573120355606,-0.290507942438126) * MODEL5_texOff(vec2(-1,1));
res += mat4(0.439161837100983,0.018369790166616,0.215921074151993,-0.163932755589485,0.587809920310974,0.008948659524322,-0.114853374660015,-0.074891574680805,-0.335438817739487,0.222896248102188,-0.107677534222603,0.187319353222847,0.704193949699402,0.347746938467026,-0.224575757980347,-0.217342674732208) * MODEL5_texOff(vec2(0,-1));
res += mat4(-0.616748929023743,-0.389450579881668,-0.356441050767899,-0.350156098604202,0.248860239982605,-0.216800987720490,0.105268485844135,0.080442421138287,0.057489141821861,-0.023218475282192,0.131251022219658,-0.195247262716293,-0.146823719143867,-0.090223133563995,-0.380755364894867,0.806791901588440) * MODEL5_texOff(vec2(0,0));
res += mat4(-0.011647550389171,-0.023779978975654,0.273616105318069,0.239642262458801,0.507280766963959,0.035413838922977,0.566876769065857,0.053697675466537,-0.020284926518798,-0.113320596516132,0.182775601744652,-0.100719630718231,-0.063666015863419,0.178255259990692,-0.357527166604996,0.102819398045540) * MODEL5_texOff(vec2(0,1));
res += mat4(0.112344443798065,0.040472153574228,-0.255659013986588,0.007831532508135,0.390599250793457,0.376301825046539,0.108474031090736,0.035585995763540,0.250087559223175,0.215320736169815,0.337747395038605,0.002467349870130,0.101114377379417,-0.040326591581106,-0.364538729190826,-0.080043129622936) * MODEL5_texOff(vec2(1,-1));
res += mat4(0.079939469695091,0.068207830190659,0.660177946090698,0.082974784076214,0.309399664402008,0.397544115781784,0.503650307655334,0.038769476115704,0.145439907908440,0.673356771469116,0.106250785291195,-0.059604533016682,-0.106609210371971,0.207444354891777,-0.055413238704205,-0.175454229116440) * MODEL5_texOff(vec2(1,0));
res += mat4(0.147430926561356,-0.330362707376480,0.338259696960449,0.189105495810509,0.220201641321182,-0.082910276949406,0.187177658081055,0.279119253158569,-0.119015768170357,-0.279226005077362,-0.024295017123222,-0.161399722099304,0.226818025112152,0.082776308059692,0.250771015882492,0.180118322372437) * MODEL5_texOff(vec2(1,1));
res += mat4(0.019122742116451,0.222126141190529,0.138944789767265,0.085161790251732,0.177163392305374,-0.192395210266113,-0.186338171362877,0.010943542234600,0.141224756836891,-0.407117366790771,-0.144675835967064,-0.092256210744381,-0.066851168870926,-0.305105060338974,0.123673193156719,0.072548709809780) * MODEL6_texOff(vec2(-1,-1));
res += mat4(0.483237177133560,-0.075572155416012,-0.005179355852306,-0.061092313379049,-0.176711603999138,0.035568710416555,-0.277867406606674,-0.095139540731907,-0.182740405201912,-0.286572217941284,0.181569099426270,-0.076061286032200,-0.481011539697647,0.044251848012209,0.133873566985130,0.024885598570108) * MODEL6_texOff(vec2(-1,0));
res += mat4(0.272096872329712,-0.289608716964722,-0.083600573241711,0.009693089872599,-0.449372470378876,-0.051639713346958,0.002545889467001,0.120963826775551,0.478973686695099,0.210026577115059,-0.187549456954002,-0.049930054694414,-0.358669012784958,0.321489453315735,-0.151669621467590,0.241775020956993) * MODEL6_texOff(vec2(-1,1));
res += mat4(-0.270508199930191,-0.266687780618668,0.287366449832916,0.155776664614677,0.091212473809719,-0.013179725967348,-0.124639265239239,-0.022907583042979,0.407516002655029,0.291901648044586,-0.317258924245834,-0.262190639972687,0.239291995763779,0.034947849810123,-0.106620609760284,-0.047483839094639) * MODEL6_texOff(vec2(0,-1));
res += mat4(-0.310491055250168,0.149016171693802,-0.113704837858677,0.294705450534821,-0.091947898268700,-0.456352710723877,0.257134020328522,0.091582641005516,-0.464996635913849,-0.257335841655731,-0.078696213662624,-0.147282153367996,-0.414312034845352,0.164392814040184,-0.120172195136547,-0.018063426017761) * MODEL6_texOff(vec2(0,0));
res += mat4(0.131396189332008,0.356322973966599,-0.171301156282425,0.078021422028542,-0.381110548973083,-0.155937537550926,-0.367356866598129,0.069629453122616,0.510280668735504,0.112999409437180,0.518434703350067,0.339133679866791,0.177667081356049,0.314838290214539,-0.375941872596741,-0.057266581803560) * MODEL6_texOff(vec2(0,1));
res += mat4(-0.134626612067223,-0.335577428340912,0.109317161142826,-0.012752609327435,0.099898256361485,0.234235107898712,-0.207708746194839,0.118636526167393,0.132800191640854,0.099589563906193,-0.107575833797455,-0.044845186173916,-0.073796898126602,-0.046159069985151,-0.012101975269616,0.028524590656161) * MODEL6_texOff(vec2(1,-1));
res += mat4(-0.028681732714176,-0.177038416266441,0.284159362316132,-0.075848415493965,0.226872876286507,0.264711856842041,-0.053198371082544,0.160240516066551,-0.053345497697592,-0.038995213806629,0.025901867076755,0.056447140872478,-0.230667293071747,-0.240539908409119,-0.313404589891434,0.201860040426254) * MODEL6_texOff(vec2(1,0));
res += mat4(0.072567507624626,-0.342939078807831,0.079766429960728,0.002109766006470,-0.065548345446587,0.453097194433212,-0.243962571024895,0.037224303930998,0.158568054437637,-0.091786123812199,0.035437662154436,0.084948137402534,-0.222121104598045,0.272413432598114,-0.531742632389069,-0.023311125114560) * MODEL6_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.059460390359163,0.329120635986328,0.281693130731583,0.825417578220367) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.076877981424332,-0.089639790356159,0.144989266991615,-0.349152326583862);
res += mat4(0.240470960736275,-0.192138373851776,-0.191087901592255,0.027493242174387,0.028774261474609,-0.090742610394955,-0.006689005997032,0.065693534910679,-0.078288264572620,0.020022183656693,-0.128975912928581,0.086646161973476,-0.081569820642471,-0.030327549204230,-0.101824395358562,-0.045840688049793) * MODEL4_texOff(vec2(-1,-1));
res += mat4(0.263788521289825,-0.219790995121002,-0.026587504893541,0.000105863597128,-0.255014479160309,-0.188827648758888,0.374312698841095,-0.103851199150085,0.029748681932688,0.060747649520636,-0.020785924047232,0.137008234858513,-0.616243362426758,0.211480930447578,0.347424536943436,0.311650097370148) * MODEL4_texOff(vec2(-1,0));
res += mat4(-0.090497888624668,0.003395383479074,-0.159639388322830,0.011136770248413,-0.182868972420692,-0.038668237626553,0.115053266286850,-0.095676466822624,0.009719101712108,0.041641868650913,0.012285881675780,0.105191543698311,-0.102330207824707,-0.014554626308382,0.064517259597778,-0.089825600385666) * MODEL4_texOff(vec2(-1,1));
res += mat4(-0.231355085968971,-0.058657966554165,0.712822198867798,0.137385725975037,-0.017646389082074,0.297741472721100,0.242121368646622,0.194587081670761,-0.147165462374687,0.011772632598877,0.142788469791412,-0.213473990559578,0.403803050518036,-0.208682909607887,-0.513684213161469,-0.351349771022797) * MODEL4_texOff(vec2(0,-1));
res += mat4(0.101470991969109,0.039727527648211,-0.223847061395645,-0.511472702026367,-0.488505005836487,0.228600829839706,0.218139156699181,0.478508412837982,0.184553831815720,0.033026751130819,-0.180699005723000,-0.008535531349480,-0.270198285579681,0.076589167118073,0.318825781345367,0.196021094918251) * MODEL4_texOff(vec2(0,0));
res += mat4(0.016280658543110,-0.122128106653690,-0.221733942627907,0.021808836609125,0.067376561462879,0.057834587991238,-0.293496161699295,-0.037562146782875,0.002255781088024,0.068984933197498,0.272959798574448,0.218459218740463,-0.203171566128731,0.202008500695229,-0.100587427616119,0.230335623025894) * MODEL4_texOff(vec2(0,1));
res += mat4(-0.089386247098446,-0.156199127435684,-0.058104909956455,0.151598259806633,-0.087032027542591,0.029499405995011,-0.057932909578085,0.245684742927551,-0.147442772984505,0.462337285280228,0.362336456775665,-0.196215227246284,-0.101943515241146,0.001210593152791,0.119664721190929,0.038359362632036) * MODEL4_texOff(vec2(1,-1));
res += mat4(-0.118315964937210,-0.031928475946188,-0.079559594392776,-0.210121259093285,-0.051222339272499,-0.099755570292473,0.008315215818584,0.291589468717575,0.053225092589855,0.103486493229866,0.044558577239513,-0.430808991193771,-0.338323473930359,-0.480216264724731,-0.117456950247288,-0.213605061173439) * MODEL4_texOff(vec2(1,0));
res += mat4(0.260724991559982,-0.164616078138351,-0.229200899600983,-0.027461608871818,0.121535949409008,0.002716154791415,-0.243544429540634,0.016264852136374,-0.077298328280449,-0.240297183394432,0.328301489353180,0.132262974977493,-0.168710038065910,-0.051529586315155,-0.205000802874565,0.048365842550993) * MODEL4_texOff(vec2(1,1));
res += mat4(0.006253190804273,0.055379807949066,0.103906437754631,0.019524931907654,0.009064289741218,0.219840317964554,0.118166729807854,0.021499039605260,-0.059909082949162,0.000983793754131,0.267471760511398,0.027841445058584,0.184883728623390,-0.090143375098705,-0.265416264533997,-0.106683872640133) * MODEL5_texOff(vec2(-1,-1));
res += mat4(-0.151221111416817,-0.109834276139736,-0.004645046778023,-0.086134895682335,0.302973985671997,-0.287602365016937,0.035872187465429,0.121106415987015,-0.418600410223007,0.076735556125641,-0.054357223212719,-0.127704516053200,-0.300664007663727,0.092448472976685,0.401675581932068,-0.030016088858247) * MODEL5_texOff(vec2(-1,0));
res += mat4(0.083460867404938,-0.132310271263123,0.040134176611900,0.036946289241314,0.119683466851711,0.084880053997040,-0.030311811715364,0.075011976063251,-0.048649664968252,-0.019347824156284,0.010039102286100,-0.141686037182808,-0.029018359258771,0.146221995353699,0.040858108550310,-0.090691111981869) * MODEL5_texOff(vec2(-1,1));
res += mat4(-0.258018612861633,0.549345672130585,0.655970633029938,0.298359960317612,-0.184479653835297,0.171435788273811,0.249246910214424,0.316747903823853,-0.189104899764061,0.270412743091583,0.244318857789040,0.418176591396332,0.288843274116516,-0.130569517612457,-0.357967317104340,0.090640679001808) * MODEL5_texOff(vec2(0,-1));
res += mat4(0.017716886475682,0.193321004509926,-0.368469268083572,0.277186930179596,0.586727857589722,0.228476434946060,0.059313178062439,0.168919458985329,0.040380634367466,0.132262155413628,-0.068862006068230,-0.149065360426903,-0.457331836223602,0.567824482917786,0.216538488864899,0.162491679191589) * MODEL5_texOff(vec2(0,0));
res += mat4(0.285036265850067,-0.077956922352314,0.158448502421379,-0.140877351164818,-0.006232957355678,0.033412400633097,-0.157154455780983,0.205987378954887,0.068477943539619,0.123838469386101,-0.065552219748497,-0.131909281015396,-0.278885334730148,0.242932379245758,-0.204659089446068,0.036955934017897) * MODEL5_texOff(vec2(0,1));
res += mat4(0.228932291269302,0.336445242166519,0.014315976761281,-0.079341210424900,-0.094741173088551,0.192992642521858,-0.100267983973026,0.007517955265939,-0.078350253403187,0.032781068235636,-0.267535537481308,0.550382077693939,-0.053097311407328,-0.113707058131695,0.005157813895494,0.063635215163231) * MODEL5_texOff(vec2(1,-1));
res += mat4(0.370976448059082,0.485720008611679,0.182218298316002,-0.036543045192957,-0.141815498471260,0.073435597121716,0.002637828933075,0.010935305617750,-0.289064496755600,0.300176143646240,-0.081531338393688,0.408569425344467,-0.268441587686539,-0.552949190139771,0.144946262240410,-0.235419854521751) * MODEL5_texOff(vec2(1,0));
res += mat4(-0.110837496817112,0.161402076482773,0.138646453619003,0.096767209470272,0.109536066651344,0.010167798027396,0.014345610514283,0.155060485005379,-0.081440553069115,0.163645848631859,-0.203280225396156,-0.040312867611647,0.127461463212967,-0.105907142162323,0.045548263937235,0.065303675830364) * MODEL5_texOff(vec2(1,1));
res += mat4(0.305172204971313,-0.221021145582199,-0.123472660779953,-0.094894491136074,-0.200867414474487,0.231392085552216,0.153087586164474,0.120559528470039,0.152519464492798,0.022453883662820,-0.144745558500290,-0.130890756845474,0.005654751788825,0.039028242230415,-0.001541472156532,0.170188322663307) * MODEL6_texOff(vec2(-1,-1));
res += mat4(-0.149665027856827,-0.069075137376785,0.364453107118607,0.212823852896690,0.329005330801010,-0.067409902811050,-0.498083829879761,-0.239520937204361,-0.494957953691483,0.353743255138397,0.438802748918533,0.101399041712284,-0.013838526792824,-0.113211393356323,0.085807971656322,0.320730566978455) * MODEL6_texOff(vec2(-1,0));
res += mat4(-0.109389871358871,-0.022456400096416,-0.104560531675816,-0.246609583497047,0.337170541286469,-0.039169438183308,-0.101953074336052,0.170861497521400,-0.053368639200926,-0.022097421810031,0.099359393119812,0.027006959542632,-0.064812257885933,0.000571805983782,-0.096701867878437,-0.001730821211822) * MODEL6_texOff(vec2(-1,1));
res += mat4(0.109571434557438,-0.041723463684320,-0.298018991947174,0.421759337186813,0.180162727832794,-0.005093373823911,-0.420847237110138,-0.223789572715759,-0.486425697803497,0.047665569931269,0.302998214960098,0.092168025672436,-0.053465578705072,-0.067079298198223,0.216773912310600,0.130590602755547) * MODEL6_texOff(vec2(0,-1));
res += mat4(-0.251749873161316,0.226307988166809,0.301652997732162,0.401801258325577,0.303244143724442,-0.433706611394882,-0.463948160409927,-0.331367701292038,0.499791234731674,-0.286165833473206,-0.385101497173309,0.480459362268448,0.253022968769073,-0.306418389081955,-0.366490989923477,-0.983483135700226) * MODEL6_texOff(vec2(0,0));
res += mat4(-0.101935528218746,0.319813936948776,-0.494143098592758,-0.095625244081020,0.264722973108292,-0.034743547439575,-0.380561500787735,-0.040551096200943,0.288097023963928,-0.075527988374233,0.127707943320274,0.068654529750347,0.069279089570045,-0.019144978374243,0.062725462019444,0.265330553054810) * MODEL6_texOff(vec2(0,1));
res += mat4(0.112533882260323,0.061790976673365,-0.076337851583958,0.377853840589523,0.190030038356781,0.103309243917465,-0.042479079216719,-0.259314328432083,-0.009110520593822,0.041463252156973,-0.019525790587068,-0.047245666384697,-0.142650946974754,-0.083706602454185,0.194833233952522,0.082312345504761) * MODEL6_texOff(vec2(1,-1));
res += mat4(-0.054397080093622,-0.192904442548752,-0.081277795135975,0.187793716788292,0.115635938942432,0.251419603824615,0.016072247177362,0.169715642929077,0.109433978796005,0.129880860447884,-0.079722650349140,0.264142304658890,-0.210001155734062,-0.367139101028442,0.202527180314064,-0.107117481529713) * MODEL6_texOff(vec2(1,0));
res += mat4(0.038282249122858,0.022035302594304,-0.272895067930222,-0.071943148970604,-0.111972630023956,-0.010717510245740,-0.096872314810753,-0.067310452461243,-0.122511930763721,0.119094476103783,0.211657226085663,0.135110795497894,0.172059178352356,-0.035082396119833,0.016424285247922,-0.023423070088029) * MODEL6_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.019258135929704,0.432090044021606,0.176014930009842,-0.262299031019211) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL4
//!BIND MODEL5
//!BIND MODEL6
//!SAVE MODEL2
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 3_2

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.065347477793694,0.077448531985283,-0.137844920158386,-0.385261714458466);
res += mat4(0.039342738687992,0.131712749600410,0.026945568621159,-0.191654115915298,-0.127374514937401,-0.083721257746220,-0.007414238061756,0.053203605115414,-0.321972161531448,-0.105759717524052,-0.199567064642906,0.339649915695190,0.008753941394389,0.028816698119044,0.120964556932449,-0.126533374190331) * MODEL4_texOff(vec2(-1,-1));
res += mat4(0.108332678675652,-0.004369625821710,0.208165988326073,-0.256512880325317,-0.202537551522255,-0.026521475985646,0.110449664294720,0.112560704350471,0.023713782429695,-0.314805895090103,-0.106225892901421,0.425208449363708,0.166631534695625,-0.004541226662695,0.213773578405380,-0.377260684967041) * MODEL4_texOff(vec2(-1,0));
res += mat4(-0.088337838649750,-0.018349986523390,-0.385001212358475,-0.207458704710007,-0.096049696207047,0.019934590905905,-0.016091031953692,-0.048495188355446,0.027892280369997,-0.031542621552944,0.481882631778717,0.154776707291603,0.082533419132233,0.116121970117092,-0.011173377744853,-0.280737936496735) * MODEL4_texOff(vec2(-1,1));
res += mat4(-0.326476931571960,0.165151685476303,-0.097541302442551,0.105270162224770,0.339718937873840,0.106191866099834,-0.238532513380051,-0.127747654914856,-0.219558387994766,-0.072136722505093,0.068138480186462,0.358670204877853,-0.281104385852814,0.047041565179825,-0.230717524886131,0.110856361687183) * MODEL4_texOff(vec2(0,-1));
res += mat4(0.217487528920174,-0.460558682680130,0.403828293085098,0.077715694904327,0.488420337438583,-0.298570901155472,0.426774173974991,0.225153118371964,-0.126632109284401,0.206781893968582,-0.034816108644009,-0.054325759410858,0.065893195569515,0.246989741921425,0.105827093124390,0.806338548660278) * MODEL4_texOff(vec2(0,0));
res += mat4(-0.238960534334183,0.227882355451584,-0.183040052652359,-0.130944252014160,-0.220027446746826,0.209239110350609,-0.135983854532242,0.041001021862030,0.027907980605960,0.004154594615102,0.116197541356087,-0.021379699930549,-0.206965625286102,0.040806207805872,0.337028384208679,-0.149948328733444) * MODEL4_texOff(vec2(0,1));
res += mat4(0.016076387837529,0.045552007853985,0.138761729001999,0.101464413106441,-0.231667757034302,0.065611846745014,-0.275404244661331,0.161004289984703,0.092679142951965,-0.027436427772045,-0.224723964929581,-0.144645288586617,0.013183397240937,0.056048713624477,0.092795036733150,0.068422831594944) * MODEL4_texOff(vec2(1,-1));
res += mat4(-0.064573779702187,0.486519277095795,0.112325191497803,0.090242639183998,-0.116734653711319,0.246834844350815,0.027036637067795,0.215921834111214,0.081942401826382,-0.072647847235203,0.162695735692978,0.081261612474918,-0.073971547186375,0.350973218679428,0.174839809536934,0.393193513154984) * MODEL4_texOff(vec2(1,0));
res += mat4(-0.056127890944481,-0.111910402774811,0.015445297583938,0.081531539559364,-0.033591222018003,0.011753832921386,0.083118163049221,-0.100177131593227,-0.054753337055445,0.031355995684862,-0.063355915248394,0.019170260056853,-0.002496439265087,0.181830465793610,-0.065123453736305,0.038220826536417) * MODEL4_texOff(vec2(1,1));
res += mat4(0.068131856620312,0.080164901912212,-0.258044034242630,0.124769382178783,-0.011784737929702,-0.031073175370693,-0.232213258743286,0.063668511807919,0.035166051238775,0.175837114453316,-0.170474231243134,-0.097041592001915,0.180511027574539,0.072007067501545,-0.054453931748867,-0.167111665010452) * MODEL5_texOff(vec2(-1,-1));
res += mat4(-0.049327798187733,0.248515322804451,0.030546190217137,0.002640365855768,0.006099349819124,0.366381257772446,-0.099919468164444,0.139092788100243,0.070374801754951,0.137747243046761,-0.100741676986217,-0.154425114393234,-0.062906421720982,0.354771614074707,0.038597457110882,-0.344981521368027) * MODEL5_texOff(vec2(-1,0));
res += mat4(0.087042272090912,0.009676018729806,0.018382390961051,-0.216678321361542,0.242964327335358,0.158876389265060,0.179516300559044,-0.054676115512848,0.109274104237556,0.090019017457962,0.081449136137962,-0.009888555854559,-0.012546249665320,-0.036127980798483,-0.180868074297905,-0.153870910406113) * MODEL5_texOff(vec2(-1,1));
res += mat4(-0.066409870982170,-0.240855887532234,-0.525671005249023,-0.002257510088384,-0.154223859310150,-0.178884223103523,-1.016371965408325,0.572800278663635,0.076364785432816,0.385861158370972,-0.197711840271950,0.192601203918457,0.076285026967525,0.009059422649443,-0.929336071014404,0.116185784339905) * MODEL5_texOff(vec2(0,-1));
res += mat4(-0.342909187078476,0.502044856548309,-0.607839226722717,0.118862576782703,-0.254497498273849,0.139361888170242,0.113518036901951,0.743415117263794,0.092539377510548,-0.189219549298286,-0.283312112092972,0.208113282918930,-0.072870068252087,0.224455922842026,0.228630706667900,0.387475013732910) * MODEL5_texOff(vec2(0,0));
res += mat4(0.204209327697754,0.201880574226379,0.328449577093124,0.188882455229759,-0.230421379208565,0.373947262763977,0.288625985383987,0.534902095794678,0.136796087026596,0.091706641018391,0.200759053230286,-0.173082932829857,0.058986786752939,0.091877579689026,0.032039035111666,-0.008775425143540) * MODEL5_texOff(vec2(0,1));
res += mat4(-0.001994334161282,0.120207421481609,-0.104499436914921,0.243682727217674,-0.298194259405136,-0.131377428770065,-0.539233565330505,0.431704133749008,0.314804702997208,0.077385947108269,-0.157307833433151,-0.609147429466248,-0.153832539916039,0.149017438292503,-0.139870598912239,0.251384913921356) * MODEL5_texOff(vec2(1,-1));
res += mat4(0.284379601478577,-0.063600555062294,-0.135762363672256,-0.214841350913048,-0.144524127244949,0.171841874718666,0.166680648922920,0.195093214511871,0.518856883049011,0.216822087764740,0.237646520137787,-0.491400986909866,0.213222205638885,0.008532668463886,-0.242734879255295,-0.234971091151237) * MODEL5_texOff(vec2(1,0));
res += mat4(0.124791495501995,-0.068825215101242,0.247701808810234,0.064258262515068,-0.044144257903099,0.373928427696228,0.235685124993324,0.411723196506500,0.138936385512352,0.053551033139229,-0.141086503863335,-0.064228646457195,0.110725991427898,-0.196561425924301,0.273697644472122,0.099083974957466) * MODEL5_texOff(vec2(1,1));
res += mat4(-0.085965298116207,-0.114950828254223,0.168489918112755,-0.092349715530872,-0.031940080225468,-0.184304878115654,0.027407037094235,0.204417720437050,0.027307298034430,0.030302830040455,0.054719701409340,0.002399261342362,0.059285279363394,0.118479914963245,0.238986060023308,-0.074908494949341) * MODEL6_texOff(vec2(-1,-1));
res += mat4(-0.153529748320580,-0.069973871111870,-0.359271466732025,0.150632411241531,-0.086459465324879,-0.142918363213539,0.195660144090652,0.173443913459778,-0.041812475770712,-0.036808397620916,0.226477608084679,0.035545550286770,0.080018661916256,0.288131326436996,0.182036608457565,-0.173705890774727) * MODEL6_texOff(vec2(-1,0));
res += mat4(-0.031015546992421,-0.115686662495136,0.065936014056206,0.094535067677498,-0.113873109221458,-0.045061375945807,0.045800335705280,-0.012269489467144,-0.120356045663357,0.125667661428452,0.092906966805458,0.218444660305977,0.062640339136124,0.145387321710587,-0.117958523333073,0.085064917802811) * MODEL6_texOff(vec2(-1,1));
res += mat4(0.190085798501968,-0.019370645284653,-0.005644301418215,0.130090042948723,-0.152641221880913,-0.337815821170807,0.054293148219585,-0.102232143282890,-0.060195706784725,-0.051551159471273,-0.281125605106354,0.047861680388451,0.063330620527267,0.118266351521015,0.247988760471344,-0.029610488563776) * MODEL6_texOff(vec2(0,-1));
res += mat4(-0.335326582193375,0.364926040172577,-0.129730641841888,-0.229664668440819,0.100402720272541,0.115918338298798,0.337315440177917,-0.061258055269718,0.255949914455414,-0.205093041062355,-0.506264269351959,-0.391364306211472,0.475040972232819,0.133096322417259,-0.123960226774216,-0.279834806919098) * MODEL6_texOff(vec2(0,0));
res += mat4(-0.313109725713730,-0.361222535371780,0.207792714238167,0.240795299410820,0.273985177278519,-0.283963590860367,-1.223524451255798,-0.410797029733658,-0.135767087340355,0.386545121669769,0.462167352437973,0.719980120658875,0.203249678015709,-0.345597982406616,0.370870888233185,0.479483425617218) * MODEL6_texOff(vec2(0,1));
res += mat4(-0.066324204206467,-0.046208795160055,-0.124042078852654,0.068646416068077,0.042257454246283,-0.085261352360249,0.140209227800369,-0.112461626529694,-0.100346438586712,0.190631255507469,-0.195758402347565,0.173325896263123,-0.038274757564068,0.010537371970713,0.259016722440720,0.036923862993717) * MODEL6_texOff(vec2(1,-1));
res += mat4(0.073511801660061,-0.008172726258636,-0.143297135829926,-0.316195011138916,-0.014302923344076,-0.071974404156208,0.037199474871159,0.162194535136223,0.025076240301132,-0.002347658155486,-0.268417745828629,0.101826533675194,-0.219056785106659,0.050236601382494,0.363543093204498,0.242778137326241) * MODEL6_texOff(vec2(1,0));
res += mat4(0.096262566745281,0.041923258453608,0.106091208755970,-0.171058848500252,-0.065402738749981,-0.222109243273735,-0.230556860566139,0.063605129718781,0.053293071687222,-0.164642259478569,0.364002466201782,0.202128216624260,-0.094079829752445,0.177362889051437,-0.308716177940369,-0.048851870000362) * MODEL6_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(2.972557306289673,0.571053028106689,0.120744414627552,0.017027340829372) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.108928836882114,0.130654692649841,-0.138300284743309,0.081810466945171);
res += mat4(-0.171358585357666,0.022789226844907,0.098490811884403,0.006095587275922,0.136452734470367,-0.026892231777310,0.128015369176865,-0.134107962250710,-0.101284332573414,0.046336632221937,0.052383761852980,0.235931560397148,0.077677011489868,-0.004763551522046,-0.020637838169932,-0.077020518481731) * MODEL4_texOff(vec2(-1,-1));
res += mat4(-0.031886607408524,0.281921923160553,0.146885901689529,0.040416203439236,0.238844007253647,0.265461325645447,0.037053272128105,-0.520744204521179,-0.051503460854292,-0.109904959797859,0.071687087416649,0.130837172269821,0.121029883623123,-0.100117146968842,-0.082377098500729,-0.445150285959244) * MODEL4_texOff(vec2(-1,0));
res += mat4(0.066513821482658,0.106160059571266,0.199198111891747,0.118137724697590,-0.011918335221708,0.061670377850533,0.128319561481476,-0.096941009163857,0.015096959657967,0.002207195386291,0.075572319328785,0.075873218476772,-0.174882560968399,-0.118372052907944,-0.255548238754272,0.012180724181235) * MODEL4_texOff(vec2(-1,1));
res += mat4(-0.024811534211040,0.091481328010559,0.058151010423899,-0.126956805586815,0.113497175276279,-0.004986079409719,0.196044266223907,-0.102220192551613,0.080875284969807,-0.015488331206143,0.157460600137711,-0.397678613662720,-0.019821850582957,0.083664074540138,0.012219201773405,0.048693746328354) * MODEL4_texOff(vec2(0,-1));
res += mat4(0.063213683664799,0.006996644660830,-0.575473785400391,0.229300692677498,-0.170599266886711,-0.359868466854095,-0.310112595558167,0.693138062953949,0.376955062150955,-0.170833423733711,0.372299969196320,-0.014965896494687,0.079555645585060,0.018719222396612,0.457754492759705,0.077077135443687) * MODEL4_texOff(vec2(0,0));
res += mat4(-0.038033671677113,0.118074014782906,0.561563670635223,0.329609096050262,-0.123904168605804,0.123714290559292,-0.034350030124187,0.107699863612652,0.021935572847724,0.244852706789970,0.393474429845810,0.034040905535221,0.124850958585739,0.089019358158112,-0.135677546262741,-0.133327111601830) * MODEL4_texOff(vec2(0,1));
res += mat4(0.050875440239906,0.072743490338326,0.008900832384825,-0.147970855236053,0.030011883005500,-0.181295901536942,0.153799697756767,0.110980838537216,0.310779362916946,-0.086626224219799,-0.179304540157318,-0.278680056333542,-0.162973865866661,-0.164888083934784,0.125472977757454,0.036453541368246) * MODEL4_texOff(vec2(1,-1));
res += mat4(0.068336814641953,0.049162767827511,-0.014570524916053,0.028788572177291,-0.150760307908058,0.096362620592117,-0.036857068538666,0.090938612818718,0.155497893691063,0.065061554312706,0.011634030379355,-0.403595536947250,0.074931107461452,0.578988552093506,-0.108896002173424,-0.290237396955490) * MODEL4_texOff(vec2(1,0));
res += mat4(0.058387462049723,-0.036375164985657,0.143712431192398,0.130712330341339,-0.081894770264626,-0.111650213599205,0.052522830665112,0.168704301118851,-0.192585915327072,0.090809546411037,0.408542424440384,0.026076238602400,0.241066396236420,0.039226129651070,0.101837918162346,0.063487440347672) * MODEL4_texOff(vec2(1,1));
res += mat4(0.198611930012703,-0.060683317482471,0.238517656922340,-0.158047348260880,0.061318282037973,-0.205231875181198,-0.100432485342026,-0.112563997507095,-0.179261878132820,-0.128175005316734,-0.105773054063320,-0.018024094402790,0.052039343863726,-0.104593291878700,-0.075637653470039,0.097973681986332) * MODEL5_texOff(vec2(-1,-1));
res += mat4(0.114497147500515,0.136835664510727,0.107916153967381,-0.229205712676048,0.103521689772606,-0.299191355705261,0.118706524372101,-0.145027443766594,-0.072414264082909,-0.169396728277206,-0.264935702085495,0.002007614821196,0.166519045829773,-0.143972247838974,-0.234895825386047,-0.367262959480286) * MODEL5_texOff(vec2(-1,0));
res += mat4(0.031725056469440,0.049578588455915,0.092427954077721,-0.041064750403166,0.004135374911129,0.071647688746452,0.129810646176338,0.081563450396061,-0.130799725651741,-0.003849199507385,0.223292276263237,0.026047881692648,-0.079293213784695,-0.210838541388512,-0.114135131239891,-0.139786362648010) * MODEL5_texOff(vec2(-1,1));
res += mat4(0.354910969734192,-0.084753483533859,0.309728115797043,-0.261254966259003,0.006922146771103,-0.219909876585007,-0.093133330345154,0.292578667402267,-0.164743617177010,-0.021044053137302,-0.083850778639317,0.059323232620955,-0.139693975448608,0.041107941418886,-0.061213098466396,0.411186635494232) * MODEL5_texOff(vec2(0,-1));
res += mat4(0.010787165723741,-0.493725538253784,-0.201867207884789,-0.196674913167953,0.698453366756439,0.276627808809280,0.387497037649155,-0.112578846514225,-0.386214286088943,-0.218294426798820,-0.010542883537710,-0.085375830531120,0.237946957349777,-1.070606708526611,-0.351138800382614,-0.439864307641983) * MODEL5_texOff(vec2(0,0));
res += mat4(0.346278965473175,-0.087686978280544,0.338718384504318,-0.304170131683350,-0.011857689358294,-0.238337814807892,0.365902811288834,0.330820918083191,0.064807422459126,-0.042665228247643,-0.424524664878845,-0.035589102655649,-0.273899435997009,-0.192332074046135,-0.134365469217300,0.011339211836457) * MODEL5_texOff(vec2(0,1));
res += mat4(0.216111466288567,-0.005545524880290,0.156679764389992,-0.123261675238609,-0.099262379109859,-0.009229844436049,-0.275072455406189,0.016773277893662,0.105868846178055,-0.035090211778879,0.046691212803125,0.218718886375427,-0.053284347057343,0.007067386060953,-0.023563455790281,-0.141056582331657) * MODEL5_texOff(vec2(1,-1));
res += mat4(0.010041668079793,-0.006677343044430,0.346454560756683,-0.263070315122604,0.152787670493126,-0.272258907556534,-0.063414461910725,0.105213634669781,-0.333662420511246,-0.367322742938995,0.112469665706158,0.381426542997360,0.140942633152008,0.535512208938599,-0.096081569790840,-0.166464492678642) * MODEL5_texOff(vec2(1,0));
res += mat4(-0.036584213376045,-0.127465128898621,0.524165272712708,-0.105480261147022,0.105843774974346,-0.099021591246128,0.082407027482986,0.079197511076927,-0.245942384004593,-0.124342545866966,-0.114437013864517,0.153411597013474,0.379718512296677,0.232059895992279,0.060063019394875,0.019404770806432) * MODEL5_texOff(vec2(1,1));
res += mat4(0.021838778629899,0.064608879387379,-0.072028517723083,0.071562431752682,-0.008510071784258,0.042856611311436,0.007103583309799,-0.069145508110523,0.028274469077587,-0.187791362404823,-0.007735677063465,0.128319546580315,-0.081268996000290,0.085588082671165,0.124321162700653,0.200877651572227) * MODEL6_texOff(vec2(-1,-1));
res += mat4(-0.028042079880834,0.111239723861217,-0.543998360633850,-0.000095866824267,-0.341683983802795,0.025890396907926,-0.002315179444849,0.269483774900436,0.059971351176500,-0.193749800324440,0.005849960725754,-0.300486415624619,-0.319896548986435,0.210610136389732,0.302311629056931,0.457980036735535) * MODEL6_texOff(vec2(-1,0));
res += mat4(-0.105332724750042,0.083219610154629,-0.359519153833389,-0.083285972476006,-0.186285153031349,-0.031647548079491,0.383788794279099,0.297213822603226,0.028345897793770,-0.092361576855183,-0.222967386245728,-0.220710501074791,0.077834896743298,0.090208761394024,-0.073110550642014,0.011598646640778) * MODEL6_texOff(vec2(-1,1));
res += mat4(-0.260583013296127,0.055257111787796,0.110364876687527,0.268108278512955,-0.080142751336098,-0.212315663695335,0.046641651540995,0.131869494915009,-0.223043277859688,-0.128749236464500,-0.166769057512283,-0.216959536075592,-0.160663351416588,0.113155417144299,0.086827702820301,-0.106000646948814) * MODEL6_texOff(vec2(0,-1));
res += mat4(-0.248459860682487,-0.372706234455109,0.170138478279114,0.552357137203217,-0.388553619384766,0.264964759349823,-0.343955725431442,-0.113933324813843,0.036471977829933,0.217222884297371,1.097497105598450,0.027258666232228,-0.014689479954541,-0.067261457443237,-0.151633560657501,-0.230320751667023) * MODEL6_texOff(vec2(0,0));
res += mat4(-0.099126152694225,-0.084195107221603,-0.186218082904816,0.221681326627731,0.121491268277168,-0.051938790827990,0.079918280243874,0.006062826607376,0.194794893264771,0.130221754312515,-0.142736345529556,-0.073913097381592,0.323758929967880,-0.017087791115046,0.376279413700104,-0.073288410902023) * MODEL6_texOff(vec2(0,1));
res += mat4(-0.067318946123123,0.201140657067299,-0.021726321429014,0.063596062362194,-0.033467344939709,0.020248606801033,-0.036909088492393,0.150474429130554,0.022652285173535,-0.065090179443359,-0.125117242336273,0.079979456961155,-0.001642313902266,-0.005804277490824,-0.088715218007565,-0.114920906722546) * MODEL6_texOff(vec2(1,-1));
res += mat4(-0.198405429720879,0.186700135469437,0.118107274174690,0.049343366175890,-0.153184533119202,-0.184354811906815,-0.018065338954329,0.008816787041724,-0.169641792774200,-0.350145906209946,0.062542110681534,0.110461883246899,-0.094885051250458,0.192874774336815,-0.182900324463844,0.198599994182587) * MODEL6_texOff(vec2(1,0));
res += mat4(-0.068958602845669,0.048968136310577,-0.125502333045006,0.146680995821953,-0.291277766227722,-0.149325042963028,0.061473663896322,0.088777519762516,0.110830470919609,-0.015277326107025,-0.014744485728443,0.145805761218071,0.258279144763947,0.143011242151260,-0.041551768779755,0.100275017321110) * MODEL6_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.336857020854950,0.425299942493439,0.165120735764503,0.813365876674652) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL4
//!BIND MODEL5
//!BIND MODEL6
//!SAVE MODEL3
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 3_3

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.103249043226242,0.080133184790611,-0.013100490905344,-0.027321914210916);
res += mat4(-0.231943309307098,-0.279125601053238,0.020937271416187,-0.087875261902809,-0.062514573335648,0.073033742606640,0.159470453858376,0.076151974499226,0.145448714494705,0.190061658620834,0.218512579798698,-0.192638427019119,-0.044942487031221,0.065836228430271,-0.140744164586067,-0.007881850935519) * MODEL4_texOff(vec2(-1,-1));
res += mat4(-0.171073183417320,0.301717996597290,0.238297641277313,-0.116932757198811,0.235888034105301,-0.055217958986759,0.237538099288940,0.338379651308060,0.492310732603073,-0.623493373394012,0.170977383852005,-0.090867675840855,-0.136783897876740,-0.135952636599541,0.705317795276642,0.307555735111237) * MODEL4_texOff(vec2(-1,0));
res += mat4(0.194239780306816,-0.426214367151260,0.003987701609731,-0.161392867565155,0.192523315548897,-0.105755314230919,0.006718347314745,-0.195615306496620,0.012784662656486,0.380450457334518,-0.010584487579763,-0.239459678530693,-0.417477160692215,0.202910050749779,0.199634283781052,0.126839831471443) * MODEL4_texOff(vec2(-1,1));
res += mat4(-0.021645663306117,-0.095501251518726,0.114034526050091,0.093332901597023,0.037457492202520,-0.100728064775467,-0.067426301538944,-0.068688921630383,-0.005022355820984,-0.452349156141281,-0.130384445190430,-0.118888325989246,0.025457661598921,0.418460220098495,-0.107901088893414,-0.043513458222151) * MODEL4_texOff(vec2(0,-1));
res += mat4(0.341813176870346,0.181419581174850,-0.098987966775894,-0.001863865298219,-0.589702069759369,0.593334853649139,-0.301665931940079,0.570637166500092,0.308848947286606,-0.132871717214584,0.200531974434853,-0.418919950723648,0.011735389940441,-0.654332995414734,-0.224742785096169,-0.252503484487534) * MODEL4_texOff(vec2(0,0));
res += mat4(0.014976844191551,-0.238381624221802,0.077931135892868,-0.018365761265159,0.213303416967392,-0.355228185653687,0.101580351591110,-0.042015489190817,0.052856657654047,-0.097657218575478,0.004916121251881,-0.162827715277672,0.046972151845694,-0.463212043046951,-0.318927824497223,-0.162494674324989) * MODEL4_texOff(vec2(0,1));
res += mat4(-0.104825705289841,-0.078809753060341,-0.081662096083164,-0.082400299608707,0.146085441112518,-0.110156990587711,0.080724358558655,-0.216862395405769,0.029874332249165,-0.175441011786461,-0.089695043861866,0.114937163889408,-0.002571634249762,-0.123840093612671,0.023757088929415,0.129331469535828) * MODEL4_texOff(vec2(1,-1));
res += mat4(-0.033728796988726,0.360652595758438,0.201058804988861,-0.166610121726990,-0.213864758610725,-0.084365829825401,0.037978783249855,-0.362507462501526,0.071072861552238,0.101994022727013,-0.176353290677071,0.072687320411205,0.280399590730667,-0.010093309916556,0.371291577816010,-0.212363898754120) * MODEL4_texOff(vec2(1,0));
res += mat4(-0.079477705061436,0.005768478382379,-0.055984165519476,-0.024650244042277,0.166728958487511,-0.280626147985458,-0.012283006682992,-0.125501170754433,0.186054050922394,-0.268942147493362,-0.023231076076627,-0.075519353151321,-0.234166458249092,0.009607789106667,0.208023130893707,0.091806285083294) * MODEL4_texOff(vec2(1,1));
res += mat4(-0.317855924367905,-0.328813672065735,-0.203300192952156,0.010798133909702,-0.224774420261383,0.091670237481594,0.130271330475807,0.096500650048256,0.161310255527496,0.078642621636391,-0.009563045576215,-0.038638085126877,-0.325362712144852,-0.224093943834305,-0.314795374870300,-0.050706926733255) * MODEL5_texOff(vec2(-1,-1));
res += mat4(0.264159739017487,0.001611089217477,0.410128057003021,0.179168477654457,0.171510130167007,-0.346325427293777,0.554328739643097,0.097567401826382,-0.116063937544823,-0.201481416821480,-0.220360651612282,-0.161835476756096,0.038527600467205,0.258546471595764,0.266183614730835,0.198114931583405) * MODEL5_texOff(vec2(-1,0));
res += mat4(0.404396474361420,-0.288493543863297,0.160767778754234,0.019885675981641,0.236886739730835,-0.252663880586624,0.574013113975525,0.182714506983757,0.026337271556258,-0.051876433193684,-0.088936097919941,-0.032974869012833,0.463635772466660,-0.636746287345886,0.111712373793125,0.131434008479118) * MODEL5_texOff(vec2(-1,1));
res += mat4(-0.252840727567673,0.180352985858917,0.154281660914421,0.273082077503204,-0.229883953928947,0.162355586886406,0.152758821845055,0.021543171256781,-0.126060023903847,-0.241174414753914,-0.060931693762541,0.076019324362278,0.016241749748588,0.429323792457581,0.158335492014885,0.279778778553009) * MODEL5_texOff(vec2(0,-1));
res += mat4(0.481332749128342,-0.575226306915283,0.281520694494247,-0.879808902740479,0.254329264163971,-0.458249926567078,-0.079109571874142,-0.268700689077377,0.166915073990822,-0.253052651882172,0.067714080214500,0.378648906946182,0.144230753183365,-0.628096938133240,-0.127703011035919,-0.072624340653419) * MODEL5_texOff(vec2(0,0));
res += mat4(-0.042022414505482,-0.024188658222556,0.029050853103399,-0.054001845419407,0.443745970726013,-0.391599297523499,0.125861734151840,-0.231952235102654,0.075813420116901,0.027680998668075,0.083549380302429,0.034171480685472,-0.171537473797798,-0.128151088953018,0.066790774464607,-0.046644564718008) * MODEL5_texOff(vec2(0,1));
res += mat4(-0.092049673199654,0.295685082674026,0.080885358154774,-0.064275495707989,0.205942004919052,0.269756793975830,-0.096242599189281,-0.061289850622416,-0.133142411708832,-0.186899900436401,-0.186539098620415,0.201562598347664,-0.049845062196255,0.334557443857193,0.136345252394676,-0.312205225229263) * MODEL5_texOff(vec2(1,-1));
res += mat4(0.165701568126678,-0.347553312778473,-0.300795525312424,0.288992613554001,0.411709964275360,-0.366612762212753,-0.215507864952087,-0.371179193258286,-0.260478645563126,0.091460376977921,-0.181254282593727,0.225616261363029,-0.202545523643494,-0.212942853569984,-0.187361985445023,0.093680530786514) * MODEL5_texOff(vec2(1,0));
res += mat4(0.097677513957024,0.135760903358459,-0.128959894180298,0.179996863007545,0.310653090476990,-0.322253733873367,-0.015883138403296,-0.213921785354614,0.074611864984035,-0.089927218854427,-0.061406165361404,0.132916688919067,-0.013263340108097,0.133742541074753,-0.234769329428673,0.093368753790855) * MODEL5_texOff(vec2(1,1));
res += mat4(-0.034082628786564,-0.384346395730972,0.101254522800446,0.053931634873152,-0.121754385530949,0.272833704948425,-0.049151185899973,0.038033191114664,-0.091724902391434,0.337136328220367,0.079725176095963,0.062257111072540,-0.131394416093826,-0.035083916038275,-0.042521018534899,0.136621475219727) * MODEL6_texOff(vec2(-1,-1));
res += mat4(0.087715975940228,0.166624769568443,0.285091310739517,-0.099881380796432,0.050472717732191,-0.091990791261196,-0.168855696916580,0.084390394389629,-0.387197285890579,0.245218917727470,0.080967843532562,0.343490719795227,-0.141619890928268,0.174801021814346,-0.214735120534897,0.078676141798496) * MODEL6_texOff(vec2(-1,0));
res += mat4(-0.319520354270935,0.235660210251808,-0.048146691173315,-0.087809786200523,0.014291693456471,0.160233452916145,-0.295541375875473,-0.133347898721695,-0.045309633016586,-0.235580787062645,0.271346122026443,0.156607925891876,-0.572546541690826,0.137438714504242,-0.084275037050247,0.115767076611519) * MODEL6_texOff(vec2(-1,1));
res += mat4(-0.218954473733902,-0.768001019954681,-0.098969414830208,0.311640799045563,-0.172412455081940,0.562325060367584,-0.122227393090725,0.073235727846622,0.478429943323135,0.427131295204163,0.013098240830004,-0.216768652200699,0.229509666562080,0.253818690776825,0.069958612322807,0.046567115932703) * MODEL6_texOff(vec2(0,-1));
res += mat4(0.373587310314178,0.218248099088669,-0.107752531766891,-0.008882551454008,-0.079224348068237,-0.177413120865822,0.027541264891624,-0.190434694290161,-0.042977482080460,0.073689952492714,-0.074218869209290,0.256335318088531,-0.013472516089678,-0.042292390018702,-0.078970775008202,0.386291056871414) * MODEL6_texOff(vec2(0,0));
res += mat4(0.179280728101730,0.188536867499352,-0.172211602330208,-0.189008429646492,-0.269755691289902,0.193810984492302,0.024912910535932,0.504399240016937,0.061500504612923,-0.025593241676688,0.090031974017620,0.362254470586777,-0.121246330440044,0.190833061933517,-0.255395203828812,-0.091173827648163) * MODEL6_texOff(vec2(0,1));
res += mat4(-0.150583729147911,0.043522883206606,0.015117162838578,-0.104551829397678,0.010568094439805,0.013618869706988,-0.096990719437599,0.181967288255692,0.170491367578506,0.034330271184444,0.152043595910072,-0.188327535986900,0.103117734193802,-0.102334082126617,-0.013326536864042,-0.084910854697227) * MODEL6_texOff(vec2(1,-1));
res += mat4(0.104616537690163,-0.061122987419367,-0.015044067054987,0.057041376829147,0.067223712801933,0.121091514825821,-0.018147841095924,0.023756008595228,0.002164417179301,-0.125246718525887,-0.053353108465672,0.033113721758127,0.115790143609047,-0.191860005259514,0.251534968614578,-0.126552090048790) * MODEL6_texOff(vec2(1,0));
res += mat4(-0.181790843605995,0.095407873392105,0.139198407530785,-0.030453244224191,0.350724697113037,0.109672956168652,-0.119788251817226,0.104151688516140,-0.133474126458168,-0.024312935769558,-0.190391272306442,0.193793952465057,-0.093509979546070,0.051571767777205,0.441766023635864,0.025315063074231) * MODEL6_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.029765058308840,0.049344968050718,-0.895931184291840,-0.058372776955366) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.128328174352646,-0.043076209723949,0.128284692764282,-0.088607236742973);
res += mat4(0.079408146440983,-0.027011651545763,0.165601462125778,0.042856987565756,0.104501187801361,0.069243110716343,-0.064692482352257,0.051123712211847,-0.117315702140331,-0.156232625246048,-0.277982681989670,0.123123869299889,-0.081533335149288,-0.045363616198301,-0.248301267623901,-0.220910623669624) * MODEL4_texOff(vec2(-1,-1));
res += mat4(0.124936439096928,-0.059268817305565,-0.119138121604919,-0.217482179403305,0.194807663559914,0.429668426513672,0.060825370252132,0.057101324200630,-0.201770663261414,-0.051936417818069,-0.105947978794575,0.119005985558033,0.074825048446655,0.283250957727432,-0.218442469835281,0.187625214457512) * MODEL4_texOff(vec2(-1,0));
res += mat4(0.024539567530155,0.191383898258209,-0.023151079192758,0.031938929110765,0.158634036779404,0.168552652001381,0.164351910352707,-0.101951755583286,-0.049576587975025,-0.103448607027531,0.005658146925271,0.014191692695022,0.040806896984577,-0.042310032993555,-0.175415188074112,0.118215367197990) * MODEL4_texOff(vec2(-1,1));
res += mat4(0.198132187128067,0.148026913404465,0.021182915195823,0.137065917253494,0.347233891487122,0.151317268610001,0.298620373010635,-0.043820507824421,0.287485390901566,-0.020853972062469,-0.094628795981407,0.087330378592014,-0.231011524796486,-0.121848478913307,-0.390055119991302,-0.277180850505829) * MODEL4_texOff(vec2(0,-1));
res += mat4(-0.426386982202530,0.203415378928185,-0.292053043842316,0.337483197450638,-0.677114903926849,0.044251155108213,-0.239615246653557,0.159835532307625,0.358177006244659,-0.121490485966206,0.021501045674086,0.097837306559086,0.531446039676666,0.298906207084656,-0.208611518144608,-0.289618104696274) * MODEL4_texOff(vec2(0,0));
res += mat4(0.265352398157120,-0.076567403972149,0.325356662273407,-0.440472394227982,-0.058452334254980,0.007672795560211,-0.033977955579758,0.181551814079285,0.214527592062950,0.116435080766678,0.049908403307199,-0.159438148140907,-0.072720497846603,0.104889228940010,-0.649213194847107,0.580145776271820) * MODEL4_texOff(vec2(0,1));
res += mat4(-0.017645455896854,-0.087018452584743,0.157092094421387,0.010230785235763,0.007513661868870,-0.038730006664991,0.089380800724030,0.014331985265017,0.439607918262482,0.338968157768250,0.214220598340034,0.343410462141037,-0.009724999777973,0.104388363659382,-0.380097508430481,0.059830285608768) * MODEL4_texOff(vec2(1,-1));
res += mat4(-0.029274478554726,-0.257812917232513,0.274379223585129,-0.065177679061890,-0.268580853939056,-0.210996806621552,0.055387690663338,-0.216310754418373,-0.072622202336788,0.102467276155949,-0.351631522178650,0.273039042949677,-0.153943702578545,-0.280712723731995,0.274820894002914,-0.066684976220131) * MODEL4_texOff(vec2(1,0));
res += mat4(0.083305694162846,-0.130685672163963,-0.137402534484863,-0.032297831028700,0.002673265757039,-0.050904743373394,-0.092746205627918,0.168581053614616,0.093214668333530,-0.010134313255548,0.272849023342133,-0.461056470870972,-0.110750935971737,-0.162783488631248,-0.126387596130371,0.245637655258179) * MODEL4_texOff(vec2(1,1));
res += mat4(-0.001318055903539,-0.052136201411486,-0.070275522768497,0.258250445127487,0.048503898084164,0.165401846170425,0.068894378840923,0.307457566261292,-0.041256498545408,0.254708588123322,-0.142212823033333,-0.248533502221107,-0.148037031292915,-0.000946649699472,-0.002668331377208,-0.307563960552216) * MODEL5_texOff(vec2(-1,-1));
res += mat4(-0.146777912974358,0.159354329109192,0.141019120812416,-0.212719783186913,0.133659318089485,-0.062647610902786,-0.179328590631485,-0.133498564362526,-0.158992603421211,0.404719650745392,-0.166079923510551,0.235851362347603,0.046206809580326,0.307919085025787,-0.129244357347488,0.002004241338000) * MODEL5_texOff(vec2(-1,0));
res += mat4(-0.259939908981323,-0.136514693498611,-0.069495528936386,0.025507926940918,-0.010838045738637,0.148413091897964,-0.011661539785564,-0.258223265409470,0.163268268108368,-0.089328683912754,-0.014438394457102,-0.047292012721300,0.044360503554344,0.175592213869095,0.067960001528263,0.192937478423119) * MODEL5_texOff(vec2(-1,1));
res += mat4(0.475577235221863,0.181874975562096,0.523254215717316,0.168147698044777,-0.061279274523258,0.084078826010227,0.051794789731503,-0.296500176191330,0.010793715715408,0.091988831758499,0.035768263041973,0.056724134832621,-0.365296274423599,-0.181381031870842,-0.158280879259109,-0.467147320508957) * MODEL5_texOff(vec2(0,-1));
res += mat4(-0.119613416492939,-0.182837694883347,-0.073119349777699,-0.471880406141281,0.118745326995850,0.077504642307758,0.242767184972763,0.014517651870847,0.005526699125767,0.088673017919064,-0.028585985302925,-0.259849190711975,0.230155453085899,0.175189882516861,-0.312771052122116,0.024098483845592) * MODEL5_texOff(vec2(0,0));
res += mat4(-0.259305357933044,-0.146172076463699,0.109183408319950,-0.182063281536102,0.066509790718555,0.029123757034540,0.256292164325714,-1.651010632514954,-0.210917502641678,-0.024956651031971,-0.303228527307510,0.476171433925629,0.103998221457005,0.191040962934494,-0.033636473119259,0.298181682825089) * MODEL5_texOff(vec2(0,1));
res += mat4(0.342228680849075,0.035488031804562,0.298469781875610,0.145526707172394,-0.034918464720249,-0.064774475991726,-0.201753139495850,0.354152739048004,-0.096693940460682,-0.209811717271805,0.071295268833637,-0.117232665419579,-0.052314236760139,-0.088548861443996,-0.094846896827221,-0.090473137795925) * MODEL5_texOff(vec2(1,-1));
res += mat4(0.481903672218323,0.124760858714581,-0.265300303697586,-0.100687377154827,0.216136410832405,-0.010659394785762,0.411259502172470,-0.006598496809602,-0.199174851179123,-0.062007360160351,-0.224775686860085,-0.348642170429230,-0.131277546286583,-0.131590828299522,0.320651024580002,-0.093280158936977) * MODEL5_texOff(vec2(1,0));
res += mat4(0.141294375061989,0.171528309583664,0.143969058990479,-0.318174898624420,-0.002058784011751,-0.080623924732208,-0.122715532779694,-0.050830394029617,-0.020977385342121,0.040279719978571,-0.127420514822006,0.356134057044983,-0.111750863492489,-0.183805063366890,-0.151353254914284,0.203791707754135) * MODEL5_texOff(vec2(1,1));
res += mat4(-0.038869976997375,0.032184842973948,0.000744151475374,0.025663062930107,0.080326281487942,-0.044540669769049,0.115723915398121,0.119221404194832,-0.010338476859033,0.126398429274559,-0.173566043376923,0.017101345583797,-0.003569225547835,0.081003181636333,0.066799573600292,-0.040684718638659) * MODEL6_texOff(vec2(-1,-1));
res += mat4(-0.235372692346573,0.543928086757660,-0.008172388188541,-0.017790300771594,-0.002434272551909,-0.259417980909348,0.188703551888466,0.152401730418205,0.072700664401054,0.363268852233887,0.027795664966106,-0.167180642485619,-0.058665774762630,-0.083564445376396,-0.152184784412384,-0.031251445412636) * MODEL6_texOff(vec2(-1,0));
res += mat4(0.073512986302376,0.096925571560860,0.011283043771982,0.398076862096786,-0.032882802188396,-0.225645750761032,0.091656230390072,-0.073540486395359,-0.030915593728423,0.122543804347515,0.097796030342579,-0.004958981182426,-0.092364281415939,0.137402191758156,-0.035205572843552,0.134977757930756) * MODEL6_texOff(vec2(-1,1));
res += mat4(-0.283082604408264,-0.154784932732582,-0.130982160568237,-0.082161635160446,-0.113471552729607,-0.169112503528595,0.176703348755836,-0.079276986420155,0.052672423422337,0.154804155230522,0.055935561656952,0.292924493551254,0.133206605911255,-0.101144388318062,0.005114676430821,-0.260684639215469) * MODEL6_texOff(vec2(0,-1));
res += mat4(-0.257899582386017,-0.431312829256058,-0.372468799352646,0.109958797693253,-0.195267140865326,-0.350689262151718,0.120795391499996,-0.387214511632919,0.285163909196854,-0.413006484508514,0.635171949863434,-0.145563960075378,0.615731656551361,0.118389360606670,0.375571310520172,-0.333597928285599) * MODEL6_texOff(vec2(0,0));
res += mat4(-0.172152429819107,0.065017223358154,-0.162572428584099,0.645312011241913,-0.057502385228872,-0.025208806619048,0.017612796276808,0.288296341896057,-0.193782240152359,-0.014580404385924,-0.020518256351352,0.067203283309937,0.012334175407887,-0.185235917568207,0.087146058678627,-0.088560119271278) * MODEL6_texOff(vec2(0,1));
res += mat4(0.090627126395702,0.011212388984859,-0.219302222132683,0.056155052036047,-0.071869134902954,0.010873845778406,-0.075579658150673,-0.111676692962646,-0.090528599917889,-0.067400835454464,0.250424653291702,-0.001795807736926,-0.036129567772150,-0.089284271001816,0.072899095714092,-0.096643760800362) * MODEL6_texOff(vec2(1,-1));
res += mat4(-0.073844991624355,-0.166446030139923,0.264160424470901,0.100250527262688,0.282905906438828,0.229822695255280,0.041149247437716,-0.125971376895905,-0.048192810267210,-0.009783439338207,-0.044266220182180,-0.115341454744339,-0.179876863956451,-0.110029220581055,0.258474767208099,-0.217798173427582) * MODEL6_texOff(vec2(1,0));
res += mat4(-0.030934402719140,-0.148608177900314,-0.086823098361492,0.175074115395546,-0.098763205111027,0.115683615207672,0.228018119931221,0.006414471194148,-0.012037311680615,-0.016883637756109,0.008900544606149,-0.176202833652496,-0.167680382728577,-0.028574064373970,-0.269856572151184,0.050217926502228) * MODEL6_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.255195140838623,-0.813475906848907,-0.333236992359161,0.045623440295458) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL1
//!BIND MODEL2
//!BIND MODEL3
//!SAVE MODEL4
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 4_1

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.130457296967506,0.042947191745043,-0.199026748538017,-0.141139194369316);
res += mat4(-0.087208040058613,0.043883170932531,-0.119534596800804,0.197791919112206,0.091759398579597,-0.019599271938205,-0.054011590778828,0.046094071120024,-0.051940370351076,-0.011481263674796,-0.280533283948898,-0.152540847659111,0.007032009772956,0.183764725923538,-0.167113155126572,-0.124927937984467) * MODEL1_texOff(vec2(-1,-1));
res += mat4(-0.017590630799532,0.027001548558474,-0.790471315383911,0.222553953528404,-0.122565232217312,-0.043067548424006,-0.216046512126923,0.308342754840851,0.117379181087017,0.081655196845531,-0.149547487497330,0.199475482106209,-0.316350370645523,0.123429425060749,-0.358413934707642,-0.247996389865875) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.002031580079347,0.035898532718420,-0.049742374569178,0.184184819459915,-0.085162453353405,0.036541927605867,-0.033525113016367,0.152372747659683,0.059483677148819,-0.015084700658917,0.068260021507740,0.337433725595474,0.197638884186745,0.019178273156285,-0.023853315040469,-0.104767374694347) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.041146755218506,0.052842125296593,-0.206914812326431,0.105003319680691,-0.049892384558916,0.015683948993683,-0.023483529686928,-0.212014749646187,0.136033371090889,-0.018839269876480,-0.060363825410604,0.106848262250423,0.104074656963348,0.150249838829041,-0.124173477292061,-0.102429337799549) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.791439831256866,-0.008145214989781,-0.646626353263855,-0.040838353335857,-0.173652976751328,0.068070851266384,0.185109987854958,-0.809242784976959,-0.286733418703079,0.007375766523182,0.247571930289268,-0.612792253494263,-0.496057391166687,-0.463033676147461,-0.213217690587044,0.031935226172209) * MODEL1_texOff(vec2(0,0));
res += mat4(-1.038793683052063,-0.077199727296829,0.112599536776543,-0.344216704368591,-0.010405263863504,0.074271000921726,-0.011886144988239,-0.299798429012299,0.085304915904999,0.081643991172314,-0.109686732292175,-0.727595865726471,0.183702632784843,0.176947757601738,-0.057990081608295,-0.015809375792742) * MODEL1_texOff(vec2(0,1));
res += mat4(-0.027566418051720,0.022925913333893,-0.154118642210960,-0.009670383296907,0.063672848045826,0.039143700152636,-0.068936988711357,0.066239036619663,-0.043654564768076,-0.004700035788119,-0.031254027038813,-0.055596888065338,0.179755792021751,0.008326523937285,0.043219681829214,-0.021294215694070) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.333604127168655,-0.076567128300667,0.077074021100998,0.070578485727310,0.026787258684635,0.163628920912743,-0.063404664397240,0.361853241920471,0.184783652424812,0.200758859515190,-0.085258185863495,0.253041595220566,-0.050596177577972,0.074648670852184,0.052919238805771,0.032616078853607) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.289097130298615,-0.057036463171244,-0.160221382975578,-0.080232828855515,-0.099967986345291,0.081062234938145,0.126387059688568,0.018073484301567,-0.117316536605358,0.115866288542747,0.090152055025101,0.277093201875687,0.067203216254711,0.015889184549451,-0.023398211225867,-0.033400792628527) * MODEL1_texOff(vec2(1,1));
res += mat4(-0.010077361017466,0.038666885346174,0.179981335997581,0.079705134034157,-0.016636962071061,-0.093348860740662,0.036583747714758,0.091045193374157,-0.171228989958763,-0.060736402869225,-0.058215264230967,0.160366386175156,0.043792400509119,-0.062010988593102,-0.293013304471970,-0.142861172556877) * MODEL2_texOff(vec2(-1,-1));
res += mat4(-0.004059555940330,-0.013802804052830,0.245319217443466,0.011710672639310,-0.045440036803484,-0.343628585338593,0.011606561020017,-0.010617544874549,0.156028717756271,-0.006416923366487,-0.316276669502258,0.118489325046539,-0.177361413836479,-0.118669606745243,-0.504883527755737,-0.576058089733124) * MODEL2_texOff(vec2(-1,0));
res += mat4(-0.009416643530130,-0.017930081114173,0.058909766376019,0.018661707639694,-0.079590946435928,0.094320602715015,0.027674583718181,-0.089788727462292,0.241052716970444,0.119865462183952,-0.035929795354605,-0.087355270981789,0.137828484177589,-0.032537911087275,-0.130673304200172,-0.460572302341461) * MODEL2_texOff(vec2(-1,1));
res += mat4(0.047296293079853,0.014539065770805,0.084600910544395,0.100340217351913,-0.030195368453860,-0.012727743946016,-0.256498962640762,0.139031350612640,-0.313386082649231,-0.130041047930717,-0.051632732152939,-0.041704088449478,0.315996617078781,-0.031930081546307,0.473592400550842,0.044725019484758) * MODEL2_texOff(vec2(0,-1));
res += mat4(0.008489714935422,0.016588151454926,0.000163607488503,0.171652927994728,-0.170983999967575,0.249526977539063,0.000597800535616,0.193554341793060,0.527761936187744,0.044716779142618,0.238823220133781,-0.234740808606148,-0.514741241931915,0.072996005415916,0.402324289083481,-0.840592443943024) * MODEL2_texOff(vec2(0,0));
res += mat4(0.033113967627287,-0.035935051739216,-0.031681664288044,0.175182595849037,0.099973551928997,0.019982671365142,-0.046848859637976,0.255203455686569,0.261012643575668,0.225241184234619,-0.005997701548040,0.085809968411922,-0.055024147033691,-0.114386677742004,0.074895873665810,-0.386733412742615) * MODEL2_texOff(vec2(0,1));
res += mat4(-0.007710917852819,0.020395280793309,-0.117009609937668,-0.038580212742090,-0.038280986249447,-0.093213513493538,0.215531602501869,-0.028955250978470,-0.039377544075251,0.046263735741377,-0.097906284034252,0.040167383849621,0.002065685810521,0.036688610911369,-0.053792227059603,0.034959260374308) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.005465254653245,0.018433202058077,-0.112717300653458,0.176342725753784,-0.114974901080132,-0.164342716336250,0.185427412390709,-0.194733083248138,0.049714703112841,0.065811134874821,0.044725306332111,0.038432817906141,0.150228202342987,0.038746427744627,-0.233645647764206,0.200247287750244) * MODEL2_texOff(vec2(1,0));
res += mat4(-0.003234163625166,-0.014897925779223,0.008806390687823,0.054149415344000,-0.002163765253499,0.009429314173758,0.137424960732460,-0.028947556391358,0.032251443713903,0.029081020504236,0.083962194621563,-0.026418250054121,-0.054872393608093,0.018191762268543,0.062488134950399,0.153206497430801) * MODEL2_texOff(vec2(1,1));
res += mat4(0.194500789046288,0.072856388986111,-0.299657672643661,-0.192133173346519,-0.002914827782661,-0.042284660041332,-0.227718248963356,-0.088473789393902,-0.020288398489356,-0.013893566094339,0.177094936370850,-0.017519513145089,0.071053825318813,0.114193305373192,-0.122920460999012,0.073198884725571) * MODEL3_texOff(vec2(-1,-1));
res += mat4(-0.057007059454918,0.096286118030548,-0.106945008039474,-0.281003981828690,0.241220727562904,-0.187315851449966,-0.276465326547623,-0.202292352914810,0.070839934051037,-0.023476831614971,0.181393072009087,0.167675569653511,0.224189490079880,0.149203330278397,0.235435530543327,0.510953485965729) * MODEL3_texOff(vec2(-1,0));
res += mat4(0.148723587393761,-0.113593585789204,-0.009653639048338,-0.119355633854866,0.107002548873425,0.072143293917179,0.048327468335629,-0.049753677099943,0.027679685503244,0.003639804199338,0.065890513360500,0.066868945956230,-0.227298840880394,-0.007987767457962,-0.014417308382690,0.122365511953831) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.277840822935104,0.063667252659798,-0.315264642238617,0.166942790150642,-0.389618843793869,-0.019769936800003,-0.282560229301453,-0.158123403787613,-0.032612100243568,0.048420216888189,0.367240816354752,-0.040272928774357,0.175332769751549,0.006489778868854,0.111670866608620,0.068627797067165) * MODEL3_texOff(vec2(0,-1));
res += mat4(-0.059073705226183,0.069380514323711,-0.233049049973488,0.542611181735992,0.832095086574554,-0.331651657819748,0.128988683223724,-0.091616787016392,-0.105080485343933,-0.040707655251026,-0.184480443596840,-0.167667537927628,-0.130934298038483,-0.164330676198006,0.277316629886627,-0.023193633183837) * MODEL3_texOff(vec2(0,0));
res += mat4(0.136401981115341,-0.087450042366982,-0.068881705403328,0.172039866447449,0.147468522191048,0.233672380447388,-0.043437380343676,-0.141957774758339,-0.072417519986629,0.013486246578395,0.081624001264572,0.013427962549031,0.125418081879616,-0.071410372853279,-0.056933503597975,0.008715425617993) * MODEL3_texOff(vec2(0,1));
res += mat4(0.017019724473357,-0.032968118786812,0.099353887140751,-0.057875059545040,0.035104420036077,-0.146242052316666,0.199447974562645,0.048963177949190,0.052543591707945,0.054437704384327,-0.172718495130539,0.150517389178276,-0.058886431157589,-0.037546899169683,0.131683275103569,0.026025453582406) * MODEL3_texOff(vec2(1,-1));
res += mat4(0.031001722440124,-0.111837692558765,0.031321119517088,-0.254080712795258,0.179238513112068,0.040468648076057,-0.084731601178646,-0.104656644165516,-0.066754803061485,0.141364976763725,-0.020569771528244,0.248684599995613,-0.007107552140951,-0.026097172871232,-0.107330419123173,-0.197598621249199) * MODEL3_texOff(vec2(1,0));
res += mat4(0.117383293807507,-0.053972363471985,0.075288027524948,-0.062480665743351,0.058457545936108,0.128300815820694,0.000697568291798,0.031030455604196,-0.122379779815674,-0.005577515810728,-0.096690796315670,-0.036463011056185,0.027733325958252,0.008060635067523,0.058712862432003,0.073838002979755) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.067925162613392,0.927266299724579,-0.022625941783190,-0.006579743698239) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(0.215324550867081,0.243342161178589,0.029066106304526,-0.150876417756081);
res += mat4(0.104470342397690,-0.045167081058025,0.104973830282688,-0.177277952432632,0.033840287476778,-0.081838645040989,0.030031872913241,-0.281353831291199,0.181940704584122,0.118857190012932,-0.006245039403439,-0.092737846076488,-0.076481185853481,0.028950378298759,0.025442343205214,0.091152057051659) * MODEL1_texOff(vec2(-1,-1));
res += mat4(-0.167641729116440,0.044834222644567,-0.204368501901627,0.284272402524948,-0.096473939716816,-0.078414797782898,0.307308703660965,0.004678649362177,0.170192182064056,0.110984362661839,0.069451712071896,0.333665728569031,-0.031955406069756,-0.098284818232059,-0.023057110607624,-0.466095656156540) * MODEL1_texOff(vec2(-1,0));
res += mat4(-0.039436101913452,0.110142379999161,-0.252486020326614,0.185524404048920,-0.001502528437413,0.013042867183685,0.077862821519375,0.199328944087029,0.176603749394417,0.108123049139977,-0.046612564474344,-0.126526504755020,-0.086338356137276,-0.039770968258381,-0.067927755415440,-0.096718087792397) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.114593453705311,0.158026993274689,-0.035042863339186,0.223587557673454,0.089724719524384,-0.054084792733192,0.028087120503187,-0.075599819421768,0.303311467170715,-0.049801386892796,0.117074698209763,-0.157439708709717,-0.091636858880520,-0.034984547644854,-0.038306962698698,-0.029406970366836) * MODEL1_texOff(vec2(0,-1));
res += mat4(0.272237598896027,-0.210515528917313,0.219350755214691,0.408715784549713,-0.042932819575071,0.144289821386337,-0.237048700451851,0.155624672770500,-0.209149181842804,-0.120203293859959,-0.041939523071051,-0.331805646419525,0.104769334197044,0.080573737621307,0.101863883435726,-0.158081382513046) * MODEL1_texOff(vec2(0,0));
res += mat4(-0.224469840526581,0.035485085099936,0.262075722217560,-0.029125224798918,0.070573396980762,-0.151528134942055,-0.109290793538094,0.006690239533782,0.147164136171341,0.006848355289549,0.085894100368023,0.046354167163372,-0.047505188733339,-0.074149213731289,0.082915440201759,-0.378859490156174) * MODEL1_texOff(vec2(0,1));
res += mat4(-0.138608425855637,0.016623020172119,-0.023653283715248,0.168757990002632,-0.008036910556257,-0.007889130152762,-0.023715166375041,0.236810803413391,0.010785695165396,0.003879453754053,-0.192977681756020,0.153216451406479,-0.001019211369567,0.012985451146960,0.003666266566142,-0.039079681038857) * MODEL1_texOff(vec2(1,-1));
res += mat4(0.060152687132359,0.098292104899883,0.050452649593353,0.007547693327069,-0.012981309555471,0.000168574304553,-0.330887138843536,0.109285749495029,0.066034898161888,-0.061055157333612,-0.329876422882080,-0.189926549792290,-0.049807406961918,-0.092295631766319,-0.414245814085007,-0.056039068847895) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.081604801118374,-0.080759972333908,-0.021645415574312,-0.072735093533993,0.008705463260412,-0.046061713248491,-0.401339709758759,-0.246908321976662,0.001323410775512,-0.014531989581883,-0.217994898557663,-0.070750042796135,-0.030613828450441,-0.025412632152438,-0.631289005279541,0.054410118609667) * MODEL1_texOff(vec2(1,1));
res += mat4(-0.185332804918289,-0.156154185533524,-0.031731888651848,-0.076668865978718,-0.066298261284828,-0.111916281282902,-0.120323084294796,0.041948966681957,0.026485612615943,0.177005276083946,-0.047377835959196,-0.121901884675026,0.077945373952389,0.158146247267723,-0.100923828780651,0.088476896286011) * MODEL2_texOff(vec2(-1,-1));
res += mat4(-0.234465986490250,-0.063486009836197,0.112476468086243,-0.085124529898167,-0.424160480499268,0.081103332340717,0.253549814224243,-0.239553868770599,0.215885803103447,0.129149004817009,0.001037980196998,0.118214741349220,0.143414303660393,0.151447951793671,-0.103658095002174,0.207407534122467) * MODEL2_texOff(vec2(-1,0));
res += mat4(0.027657141909003,0.041471712291241,-0.045361325144768,-0.139704734086990,-0.141995280981064,0.047562446445227,0.024716747924685,0.164326116442680,0.080926574766636,0.027583399787545,0.019150836393237,-0.044130101799965,0.203962236642838,0.089226774871349,-0.116282232105732,-0.324034810066223) * MODEL2_texOff(vec2(-1,1));
res += mat4(-0.300337970256805,-0.298103868961334,-0.078887425363064,0.042006522417068,0.051142051815987,-0.019519899040461,0.088365234434605,0.034837629646063,0.044875491410494,0.407511383295059,-0.069406211376190,-0.157501980662346,0.059112120419741,0.012197032570839,-0.043514125049114,-0.028549596667290) * MODEL2_texOff(vec2(0,-1));
res += mat4(0.107506282627583,0.136801317334175,-0.257164865732193,-0.207751870155334,0.182710558176041,-0.615773320198059,0.596064031124115,-0.191299676895142,0.616827070713043,-0.129568219184875,-0.044880978763103,-0.121172428131104,-0.222509548068047,-0.534400463104248,0.176114529371262,-0.630092024803162) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.059173393994570,-0.033854588866234,-0.179935932159424,-0.197795078158379,-0.052081316709518,-0.024642802774906,0.005851418711245,0.004820873495191,-0.119552306830883,-0.060709353536367,-0.041033610701561,0.170089483261108,0.170215979218483,0.232708513736725,0.170221060514450,0.254008024930954) * MODEL2_texOff(vec2(0,1));
res += mat4(0.012828682549298,-0.098556302487850,-0.020080480724573,-0.329231798648834,0.040958929806948,0.073578990995884,0.028257373720407,0.086774602532387,-0.002678332384676,0.169451788067818,-0.058353964239359,0.093271501362324,0.064542271196842,0.100989565253258,-0.025240927934647,-0.213597416877747) * MODEL2_texOff(vec2(1,-1));
res += mat4(-0.088647015392780,-0.017796110361814,0.089601688086987,-0.041605573147535,-0.000583574816119,0.201216429471970,-0.179254949092865,0.099126964807510,-0.006492290180176,0.316692233085632,0.123704485595226,-0.041237637400627,0.074651449918747,0.111965738236904,-0.410597860813141,0.035626810044050) * MODEL2_texOff(vec2(1,0));
res += mat4(-0.007062219083309,0.052061922848225,0.180407434701920,0.131398797035217,0.063119024038315,-0.073976963758469,0.016868250444531,-0.107993163168430,0.102173812687397,0.079032838344574,0.030368177220225,-0.093831852078438,0.075393147766590,0.029753804206848,-0.064050488173962,0.031441181898117) * MODEL2_texOff(vec2(1,1));
res += mat4(0.166883602738380,-0.078151844441891,-0.021138081327081,0.394558668136597,-0.021964784711599,-0.065604411065578,0.111517205834389,-0.179880321025848,0.128405183553696,-0.057120822370052,0.010540039278567,0.076329231262207,-0.042950008064508,0.002285828348249,0.081642702221870,-0.048697322607040) * MODEL3_texOff(vec2(-1,-1));
res += mat4(0.061045192182064,-0.097206473350525,-0.278887718915939,-0.082488872110844,-0.071638442575932,-0.161151885986328,0.317568004131317,-0.039431080222130,-0.268370240926743,-0.069804787635803,0.351751416921616,0.174940466880798,0.106540814042091,0.006543821655214,0.104652918875217,-0.066220164299011) * MODEL3_texOff(vec2(-1,0));
res += mat4(0.100474812090397,-0.102391988039017,-0.118993587791920,-0.169649958610535,-0.020967261865735,-0.044233739376068,0.118048205971718,0.181281492114067,0.052807368338108,0.099816389381886,0.051985491067171,0.000209173449548,0.041704948991537,0.074902333319187,0.014838457107544,0.265684068202972) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.291863799095154,0.039665762335062,0.111689724028111,-0.451984614133835,-0.087164916098118,0.019901301711798,-0.064167350530624,0.200060233473778,0.191489487886429,0.029396081343293,-0.098253600299358,0.130805805325508,-0.040656995028257,0.085923194885254,-0.138533741235733,-0.001321626245044) * MODEL3_texOff(vec2(0,-1));
res += mat4(-0.507599413394928,-0.296193242073059,0.374571830034256,0.363910585641861,0.056888509541750,-0.053950492292643,-0.340810716152191,-0.117373816668987,-0.037201736122370,-0.270679414272308,-0.565248370170593,0.234250679612160,0.159457236528397,-0.174552559852600,-0.045483868569136,-0.441992819309235) * MODEL3_texOff(vec2(0,0));
res += mat4(0.360408514738083,0.192467480897903,0.286538511514664,-0.043483976274729,-0.116535305976868,-0.068791203200817,-0.105882987380028,0.059017825871706,-0.060222949832678,0.045006584376097,0.055852904915810,0.218775242567062,-0.489697486162186,-0.285614371299744,-0.013034272938967,-0.047007374465466) * MODEL3_texOff(vec2(0,1));
res += mat4(0.131929814815521,0.089758634567261,0.026981581002474,-0.143123432993889,-0.044982094317675,0.046381447464228,0.083305545151234,0.000127585837618,0.012947040610015,0.062837466597557,0.061465796083212,0.081138119101524,-0.033765260130167,0.026034137234092,0.054574355483055,-0.220234811306000) * MODEL3_texOff(vec2(1,-1));
res += mat4(0.218939751386642,-0.007796973455697,0.499066889286041,-0.246681526303291,0.048189088702202,0.072634130716324,0.150916770100594,0.264572620391846,0.037961073219776,-0.096611045300961,0.046043325215578,0.127361446619034,0.092132806777954,0.008892731741071,0.029610460624099,0.171872720122337) * MODEL3_texOff(vec2(1,0));
res += mat4(0.154687196016312,0.082909762859344,0.265575587749481,0.150119915604591,-0.024724921211600,-0.010802417062223,0.097797758877277,-0.101756013929844,-0.083766847848892,-0.160934120416641,-0.285196095705032,-0.058969553560019,0.009130743332207,-0.116425916552544,-0.163241565227509,-0.165107637643814) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.921381413936615,0.869717240333557,-0.105854950845242,-0.052779041230679) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL1
//!BIND MODEL2
//!BIND MODEL3
//!SAVE MODEL5
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 4_2

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.084214925765991,-0.071911692619324,0.055344797670841,-0.107023902237415);
res += mat4(-0.000239114975557,0.011143962852657,0.029084092006087,-0.008609998971224,0.033346865326166,0.030269447714090,0.034349899739027,0.018429620191455,-0.072973750531673,0.302545011043549,-0.109527535736561,-0.062661021947861,-0.061706155538559,0.113669179379940,0.075063146650791,0.110073067247868) * MODEL1_texOff(vec2(-1,-1));
res += mat4(0.053718984127045,0.099048957228661,-0.039799921214581,-0.115005463361740,-0.185473293066025,-0.066167809069157,-0.123764358460903,0.274456977844238,0.227642685174942,-0.155662506818771,0.170562833547592,0.188112676143646,-0.019430123269558,0.191257804632187,-0.180288314819336,-0.238819330930710) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.022427378222346,0.013614430092275,0.076112411916256,-0.078704252839088,-0.095747672021389,0.092346131801605,0.081870563328266,0.204501837491989,-0.115359596908092,-0.174606010317802,-0.035925135016441,0.320767670869827,0.070880852639675,-0.049582775682211,-0.085576362907887,-0.163412570953369) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.063034757971764,0.144353374838829,-0.070589147508144,0.054555024951696,0.140206351876259,0.261903107166290,0.098126962780952,-0.037678666412830,0.127114459872246,-0.306272655725479,0.067541956901550,0.125803619623184,0.156212940812111,0.329264670610428,-0.107476085424423,0.037486985325813) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.494647234678268,-0.686174988746643,0.217658549547195,0.405592083930969,-0.410406500101089,0.204228907823563,-0.281082183122635,-0.245438277721405,-0.490382015705109,-0.112058021128178,-0.216624617576599,0.267970174551010,-0.547123193740845,-0.135456636548042,0.403368979692459,0.386355996131897) * MODEL1_texOff(vec2(0,0));
res += mat4(-0.659691929817200,-0.004400018136948,-0.086127474904060,0.348388284444809,0.218199789524078,-0.163076907396317,0.071374356746674,-0.028831610456109,0.453094452619553,-0.000849573756568,0.095474585890770,-0.303837478160858,0.222733229398727,0.017235774546862,0.037948023527861,0.287525653839111) * MODEL1_texOff(vec2(0,1));
res += mat4(0.047178592532873,-0.007833205163479,0.028983797878027,0.036564107984304,0.102307803928852,-0.070455297827721,0.070249028503895,-0.013542356900871,0.137626200914383,-0.360896348953247,0.070382118225098,-0.056186966598034,0.138511583209038,0.219407528638840,-0.104418560862541,-0.275452762842178) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.710320293903351,-0.377477109432220,0.053561244159937,-0.185273364186287,-0.121309772133827,-0.032660759985447,0.012298953719437,-0.076919473707676,-0.080116480588913,-0.034616932272911,-0.061322838068008,-0.577995538711548,-0.123404860496521,0.131091535091400,-0.187712758779526,-0.417397230863571) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.340311378240585,-0.121078148484230,-0.053268842399120,-0.452854990959167,-0.107360444962978,0.120560064911842,0.078879050910473,-0.330932497978210,-0.008789860643446,0.447131991386414,0.169331043958664,-0.196519106626511,-0.021430054679513,-0.091961771249771,0.115559972822666,-0.227950647473335) * MODEL1_texOff(vec2(1,1));
res += mat4(-0.041996415704489,0.075784623622894,0.019536245614290,-0.012579610571265,-0.080154478549957,-0.055595144629478,-0.028055284172297,-0.092022836208344,-0.075600370764732,-0.143324419856071,-0.024085903540254,-0.046969585120678,-0.076150275766850,0.026169156655669,-0.036325801163912,0.018158013001084) * MODEL2_texOff(vec2(-1,-1));
res += mat4(0.031323593109846,-0.049893517047167,-0.013540164567530,-0.159356698393822,-0.132180407643318,-0.115331672132015,-0.216682627797127,-0.297713696956635,-0.049212593585253,0.109705045819283,-0.017286041751504,0.036648102104664,-0.095204040408134,-0.026747541502118,0.027009334415197,-0.024429969489574) * MODEL2_texOff(vec2(-1,0));
res += mat4(-0.032160688191652,0.051603257656097,0.019523158669472,-0.097094215452671,-0.018141681328416,0.027458798140287,0.034514725208282,-0.173208460211754,0.349437445402145,0.121584340929985,0.154240638017654,0.031980011612177,0.208919584751129,-0.165816426277161,-0.000462158670416,-0.065225303173065) * MODEL2_texOff(vec2(-1,1));
res += mat4(-0.077555567026138,0.084757007658482,-0.048876728862524,0.038422763347626,0.050511825829744,-0.186478763818741,0.077139951288700,0.066245898604393,-0.239910617470741,-0.246011182665825,0.199223846197128,-0.025191599503160,0.121486321091652,-0.063897274434566,-0.048408579081297,0.049587868154049) * MODEL2_texOff(vec2(0,-1));
res += mat4(0.243930563330650,0.147029578685760,0.076407298445702,0.275674194097519,-0.440106034278870,-0.300678580999374,-0.022600470110774,0.377343565225601,0.091805130243301,-0.007118164561689,-0.646592199802399,0.070261061191559,-0.286181241273880,-0.445588320493698,-0.150512441992760,-0.189217478036880) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.083114206790924,0.002741265110672,-0.070827938616276,0.101594217121601,-0.108802691102028,-0.248692348599434,0.018105451017618,0.078907407820225,0.541165828704834,0.598769903182983,0.668078780174255,0.204913049936295,-0.025240084156394,-0.111671365797520,-0.053593009710312,-0.181159511208534) * MODEL2_texOff(vec2(0,1));
res += mat4(0.045894995331764,0.061853405088186,-0.029803350567818,0.018510365858674,-0.145994573831558,-0.078249536454678,0.047783318907022,0.207901656627655,-0.030676623806357,-0.129041507840157,0.037780184298754,0.187511324882507,0.058219488710165,-0.256158560514450,-0.016401529312134,-0.013960664160550) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.049912784248590,0.101499222218990,0.117638744413853,0.380844235420227,-0.191348060965538,-0.399437099695206,-0.212096661329269,0.088640518486500,-0.019472295418382,0.031565502285957,0.043100561946630,-0.047381572425365,0.025699671357870,-0.059198319911957,0.103969819843769,-0.287929236888885) * MODEL2_texOff(vec2(1,0));
res += mat4(0.003226110711694,-0.041509244590998,-0.028292708098888,0.304509341716766,-0.056092210114002,-0.180787861347198,-0.023749837651849,-0.065716162323952,0.241688519716263,-0.194805547595024,-0.003351155435666,0.015449687838554,-0.037611573934555,0.190334543585777,-0.014650771394372,-0.228190183639526) * MODEL2_texOff(vec2(1,1));
res += mat4(0.175222098827362,0.106785111129284,0.009637502022088,0.032621745020151,0.060427315533161,0.068610921502113,0.043819252401590,-0.015531662851572,0.011328130960464,-0.030869714915752,-0.019826432690024,0.150713682174683,0.093974269926548,-0.011238873004913,-0.135208904743195,-0.004465961363167) * MODEL3_texOff(vec2(-1,-1));
res += mat4(0.228931114077568,0.091737262904644,0.069534569978714,-0.093657054007053,0.013943675905466,0.239062890410423,-0.377891629934311,-0.093723945319653,-0.026583507657051,-0.099381640553474,0.104144036769867,0.378554105758667,0.097797848284245,0.019598754122853,0.279789209365845,0.360395580530167) * MODEL3_texOff(vec2(-1,0));
res += mat4(-0.082718841731548,0.112604901194572,-0.028055252507329,-0.029094235971570,-0.134795933961868,-0.111440084874630,0.074621520936489,0.080946147441864,0.105744905769825,0.106005750596523,0.004957209341228,0.138159915804863,-0.035564087331295,0.101456321775913,-0.015685113146901,-0.015873098745942) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.502611815929413,0.035959117114544,-0.036735668778419,0.036391958594322,-0.082926869392395,-0.493719756603241,0.421789467334747,0.010727192275226,-0.039470624178648,0.076596528291702,0.038688920438290,-0.118031591176987,0.180400311946869,0.157479360699654,-0.130110219120979,-0.051306460052729) * MODEL3_texOff(vec2(0,-1));
res += mat4(-0.036869935691357,0.060844738036394,0.197326451539993,-0.072262369096279,0.227994889020920,-0.515734136104584,-0.722193181514740,0.053229738026857,0.040047317743301,0.291054904460907,-0.170498862862587,-0.454583019018173,0.254422247409821,-0.055482801049948,0.358511626720428,-0.056959412992001) * MODEL3_texOff(vec2(0,0));
res += mat4(-0.162398442625999,-0.006280172150582,-0.114246107637882,0.112368986010551,0.350768387317657,0.067501164972782,0.154198989272118,-0.081038825213909,-0.026310201734304,0.078367128968239,-0.007953134365380,-0.205166384577751,-0.059885848313570,-0.158715635538101,-0.133693203330040,-0.031694814562798) * MODEL3_texOff(vec2(0,1));
res += mat4(0.030024461448193,0.201798796653748,0.019858449697495,0.000990647240542,-0.071277596056461,0.216410666704178,0.058084659278393,-0.029229180887341,0.008609450422227,0.221794292330742,-0.064479082822800,-0.100890085101128,-0.050043128430843,-0.205179035663605,0.036921106278896,0.081834986805916) * MODEL3_texOff(vec2(1,-1));
res += mat4(0.205134972929955,-0.008000405505300,0.036048714071512,0.010080990381539,0.345206499099731,-0.204528689384460,-0.540589809417725,-0.051848907023668,-0.005064442753792,0.510149717330933,0.288480579853058,0.144749075174332,0.038647968322039,-0.145877644419670,-0.028108509257436,0.008129823021591) * MODEL3_texOff(vec2(1,0));
res += mat4(0.091684438288212,-0.057477835565805,-0.105277895927429,0.088227666914463,0.057950131595135,0.040793731808662,0.255789458751678,-0.200362309813499,-0.007207877468318,0.025211323052645,-0.104520119726658,0.013577172532678,0.090039022266865,-0.034711271524429,0.015668107196689,0.081447303295135) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(0.096993431448936,-0.007559345103800,0.923879683017731,0.025706559419632) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(-0.037531927227974,-0.097990520298481,0.126726642251015,0.077175565063953);
res += mat4(-0.143636181950569,-0.184866353869438,-0.079509578645229,0.121204219758511,-0.107444457709789,-0.066142603754997,-0.068302974104881,0.062612093985081,-0.033521734178066,0.087368264794350,0.164170905947685,0.279957234859467,0.025587387382984,0.045042909681797,-0.033690828830004,0.043712593615055) * MODEL1_texOff(vec2(-1,-1));
res += mat4(0.028696035966277,0.141759276390076,0.014674338512123,-0.232377290725708,0.231248468160629,-0.242570713162422,0.274887740612030,-0.031995810568333,-0.114660046994686,0.093670010566711,-0.341519236564636,0.265829324722290,-0.279643833637238,-0.153812780976295,-0.312350928783417,0.055391568690538) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.129131495952606,0.149687960743904,-0.104015477001667,-0.057709373533726,-0.202896565198898,0.079018644988537,-0.026339001953602,-0.086014971137047,-0.049607317894697,-0.061246752738953,0.060560155659914,0.090896099805832,-0.039789900183678,-0.129823014140129,-0.009860883466899,0.036152329295874) * MODEL1_texOff(vec2(-1,1));
res += mat4(0.200820177793503,0.089434877038002,0.239465400576591,0.139219492673874,-0.080387547612190,-0.092586137354374,0.123035460710526,0.037529997527599,-0.309604197740555,-0.280009418725967,-0.054739680141211,0.006644092965871,0.119208075106144,0.037833601236343,0.040956832468510,-0.059422291815281) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.403621464967728,0.151623338460922,0.610979735851288,0.430869579315186,0.152677312493324,-0.116293735802174,0.108753360807896,0.406541943550110,-0.131963193416595,0.163610756397247,-0.432666778564453,-0.025992164388299,-0.884495794773102,-0.515499472618103,-0.904890954494476,-0.056776981800795) * MODEL1_texOff(vec2(0,0));
res += mat4(0.062220621854067,0.365790277719498,-0.216394126415253,0.059283014386892,-0.244263947010040,0.203224420547485,-0.139147415757179,0.002666964894161,0.015621117316186,-0.009503982961178,-0.082703404128551,0.047129999846220,-0.358932793140411,-0.228860318660736,-0.187863811850548,-0.002427715109661) * MODEL1_texOff(vec2(0,1));
res += mat4(0.124799914658070,0.184879064559937,-0.100014150142670,-0.133500918745995,0.036935225129128,-0.122449040412903,0.042284969240427,-0.049486033618450,0.073012121021748,0.090993992984295,-0.021969407796860,-0.044547945261002,-0.036690108478069,0.020637117326260,0.012023708783090,0.034063730388880) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.143345102667809,0.492983996868134,-0.099774181842804,-0.291799426078796,0.058740079402924,0.710229933261871,-0.305002927780151,-0.380356460809708,-0.049898691475391,-0.271666288375854,-0.074854783713818,-0.119557633996010,-0.131183281540871,-0.214263051748276,0.064747877418995,0.130430534482002) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.060905374586582,-0.323431640863419,0.006262169219553,0.040558423846960,0.004687410313636,-0.311180382966995,-0.002430532593280,0.087052106857300,-0.096069008111954,-0.069183386862278,-0.045982241630554,-0.063865542411804,-0.135256797075272,-0.048431422561407,-0.000707486411557,0.012172428891063) * MODEL1_texOff(vec2(1,1));
res += mat4(0.033089485019445,-0.006484660785645,0.081506744027138,0.004364141263068,-0.022492319345474,0.097898162901402,0.098429329693317,0.028814950957894,0.122264854609966,-0.007661220617592,0.073238343000412,-0.033254563808441,-0.010142216458917,-0.010167285799980,-0.093615405261517,0.175746187567711) * MODEL2_texOff(vec2(-1,-1));
res += mat4(0.106998503208160,-0.168456792831421,-0.171578958630562,0.017968507483602,-0.153412908315659,-0.358623355627060,0.646349847316742,-0.013784267008305,0.085795745253563,0.045330107212067,-0.101206824183464,0.329193383455276,-0.037205468863249,0.224595069885254,-0.370330452919006,0.107902042567730) * MODEL2_texOff(vec2(-1,0));
res += mat4(0.005808701273054,-0.086402520537376,0.050058085471392,0.044132545590401,-0.129979521036148,0.086607865989208,-0.014153182506561,-0.083075463771820,0.204472437500954,-0.040257550776005,0.035271137952805,0.003329873317853,0.014767231419683,-0.108524434268475,0.030917286872864,0.069699361920357) * MODEL2_texOff(vec2(-1,1));
res += mat4(0.139182969927788,0.117302566766739,-0.254304647445679,-0.054319206625223,0.060907140374184,0.176787480711937,0.140511304140091,0.006292761303484,-0.108458854258060,-0.228627473115921,0.390685379505157,0.048895232379436,0.120223440229893,0.154456168413162,-0.243120357394218,-0.140819981694221) * MODEL2_texOff(vec2(0,-1));
res += mat4(0.704915344715118,-0.083898723125458,0.195869505405426,-0.109248787164688,-0.676712155342102,-0.254971265792847,-0.208485320210457,-0.153001323342323,0.519117832183838,-0.038902778178453,0.318385154008865,-0.195504561066628,-0.371146291494370,-0.510469794273376,-0.368066161870956,-0.087841801345348) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.316006511449814,-0.327161937952042,0.067119315266609,0.012060581706464,0.073433414101601,-0.039021704345942,0.043776888400316,0.062180358916521,0.236098527908325,0.032247133553028,0.074085325002670,-0.130512580275536,-0.049412477761507,-0.216890677809715,0.186887785792351,0.025870779529214) * MODEL2_texOff(vec2(0,1));
res += mat4(0.042563077062368,-0.322898060083389,0.020549114793539,0.031929280608892,-0.009075486101210,0.020244332030416,0.035006627440453,-0.037833102047443,-0.097734861075878,0.022325601428747,-0.037638079375029,-0.071797668933868,0.037901580333710,-0.168101638555527,0.057927031069994,0.072992734611034) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.078663215041161,-0.214361146092415,0.106617070734501,0.097012780606747,-0.098705083131790,0.222069382667542,-0.106893934309483,-0.038079619407654,0.400480955839157,0.101658545434475,-0.133503556251526,0.058052033185959,-0.202929571270943,-0.265683889389038,0.015445634722710,-0.035283070057631) * MODEL2_texOff(vec2(1,0));
res += mat4(0.094933122396469,0.037582576274872,0.063468188047409,-0.004036959726363,-0.066399835050106,-0.019079066812992,0.015168601647019,0.046261403709650,0.083388954401016,-0.098326176404953,0.013202925212681,0.061428580433130,-0.089918099343777,0.203589797019958,-0.059298653155565,0.007153932470828) * MODEL2_texOff(vec2(1,1));
res += mat4(-0.031109699979424,0.107449494302273,-0.157877758145332,-0.120232038199902,0.023163283243775,0.016600653529167,0.124527879059315,0.083297543227673,0.001963170710951,0.170844390988350,-0.097319304943085,0.170369133353233,-0.046051591634750,-0.110869400203228,-0.201403900980949,-0.074405245482922) * MODEL3_texOff(vec2(-1,-1));
res += mat4(0.129706740379333,0.201610326766968,-0.082866013050079,-0.249541014432907,-0.011654453352094,-0.163479998707771,-0.018154833465815,0.038005746901035,-0.123614698648453,0.052925333380699,-0.060169432312250,0.041568882763386,0.014637544751167,0.124334096908569,0.053659770637751,0.195764198899269) * MODEL3_texOff(vec2(-1,0));
res += mat4(-0.079763174057007,-0.093735471367836,0.010948926210403,-0.057452578097582,0.050296474248171,0.043089341372252,0.032178778201342,-0.008398984558880,-0.149728879332542,0.013226240873337,0.050526890903711,0.088166862726212,0.192799434065819,0.139037042856216,-0.038748588413000,0.343777000904083) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.079258754849434,-0.038326624780893,-0.291965425014496,0.063528575003147,0.010180541314185,-0.036046653985977,0.013619388453662,-0.137370616197586,-0.196694403886795,-0.021519010886550,-0.004962332546711,-0.187774762511253,0.191098645329475,0.137148782610893,-0.010245211422443,-0.002556771505624) * MODEL3_texOff(vec2(0,-1));
res += mat4(0.404693752527237,-0.021351750940084,0.457861840724945,-0.126738339662552,-0.081954933702946,0.215725719928741,0.006477750372142,-0.243884637951851,0.263891339302063,0.449409633874893,-0.360296785831451,0.073642425239086,-0.889097929000854,-0.315454721450806,0.002032759366557,-0.188232555985451) * MODEL3_texOff(vec2(0,0));
res += mat4(-0.106133580207825,-0.093894846737385,0.162923052906990,0.065969794988632,0.171689525246620,0.037490479648113,0.037727288901806,-0.021722532808781,-0.189417064189911,0.147909581661224,-0.001985632814467,0.076071821153164,0.469712227582932,0.437854617834091,-0.271440356969833,-0.188493132591248) * MODEL3_texOff(vec2(0,1));
res += mat4(0.083791516721249,-0.129802137613297,0.036075402051210,0.055127657949924,0.031490292400122,-0.044231932610273,0.056233435869217,0.123952291905880,-0.160248577594757,0.091282725334167,0.000856022175867,0.144833877682686,0.049082059413195,0.074779815971851,0.034857574850321,0.032032784074545) * MODEL3_texOff(vec2(1,-1));
res += mat4(-0.069320783019066,-0.412430793046951,0.059263098984957,0.074806116521358,-0.120861612260342,-0.017936902120709,0.135446369647980,0.162451341748238,0.052007131278515,0.224035516381264,0.012760493904352,-0.092794939875603,-0.268205642700195,-0.179379627108574,0.162652000784874,0.029766505584121) * MODEL3_texOff(vec2(1,0));
res += mat4(-0.057140871882439,0.114578060805798,0.052485413849354,-0.031548060476780,0.172862797975540,0.074466437101364,0.004156748298556,-0.026114316657186,-0.080344796180725,0.124874286353588,-0.067700080573559,-0.121607273817062,0.458506137132645,-0.226749390363693,0.019487159326673,-0.027882052585483) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.120544455945492,0.003547079395503,-0.104299381375313,3.531428575515747) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL1
//!BIND MODEL2
//!BIND MODEL3
//!SAVE MODEL6
//!DESC [AiUpscale_Fast_3x_LineArt_RT] mapping 4_3

vec4 hook()
{

#if (SHARP == 0)
vec4 res = vec4(-0.179532408714294,0.055347599089146,-0.092744320631027,-0.142336681485176);
res += mat4(0.083044700324535,-0.039198707789183,0.020192118361592,-0.004293808247894,0.229377746582031,-0.015636393800378,0.162707835435867,0.056738611310720,-0.317329525947571,0.035990845412016,0.071801997721195,0.004693009424955,-0.296846389770508,-0.006869023200125,-0.125288873910904,-0.016057558357716) * MODEL1_texOff(vec2(-1,-1));
res += mat4(-0.212446227669716,0.010888482443988,-0.021214857697487,-0.007819020189345,0.405306369066238,0.121237516403198,-0.065808363258839,-0.107134565711021,0.113432802259922,-0.058247875422239,0.091010846197605,0.054804567247629,-0.696588933467865,0.022737657651305,0.219727784395218,0.052089825272560) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.025970330461860,-0.054814748466015,0.081287004053593,0.014997486956418,-0.012108945287764,0.060186482965946,0.004807815887034,-0.053515195846558,0.420767068862915,0.041452828794718,-0.119707182049751,-0.047243356704712,-0.278937429189682,0.111909382045269,-0.008851963095367,0.050195969641209) * MODEL1_texOff(vec2(-1,1));
res += mat4(0.054371882230043,0.114917531609535,-0.024650687351823,-0.334703594446182,-0.526336848735809,-0.109065420925617,-0.052792921662331,-0.198039442300797,0.051523119211197,0.027869835495949,0.041384156793356,0.076752856373787,-0.129583641886711,0.075181134045124,0.252944022417068,0.124446041882038) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.513641536235809,-0.022851672023535,-0.150316923856735,0.116513028740883,-0.396643906831741,0.363381654024124,0.474372148513794,0.239984095096588,-0.313383281230927,0.070741035044193,-0.330958992242813,-0.032765477895737,0.094834752380848,0.007761529646814,-0.161518558859825,0.331783652305603) * MODEL1_texOff(vec2(0,0));
res += mat4(0.085384801030159,0.068150520324707,-0.304474711418152,-0.063922367990017,0.012217175215483,-0.049350779503584,-0.125190660357475,-0.184229373931885,-0.470763236284256,-0.088114462792873,-0.097371183335781,0.068733803927898,-0.060345061123371,-0.105664551258087,-0.070843234658241,-0.172284409403801) * MODEL1_texOff(vec2(0,1));
res += mat4(0.029851745814085,0.064196392893791,0.071094520390034,-0.133847698569298,0.116238445043564,-0.055494412779808,0.172357469797134,0.020459348335862,-0.064438454806805,-0.158808186650276,-0.231174275279045,0.002627395093441,0.001703631132841,0.040071666240692,0.177793294191360,0.220616236329079) * MODEL1_texOff(vec2(1,-1));
res += mat4(0.223357364535332,-0.078403070569038,-0.226348876953125,-0.847342014312744,0.127685725688934,0.243223845958710,-0.384803414344788,-0.103691846132278,0.137157037854195,0.339785128831863,-0.357268840074539,-0.041164852678776,0.089326992630959,-0.082274295389652,0.283146500587463,0.158205077052116) * MODEL1_texOff(vec2(1,0));
res += mat4(-0.024682546034455,0.279306590557098,-0.351375222206116,0.345130383968353,-0.000906038098037,0.021107450127602,0.159701406955719,-0.181703522801399,0.210127040743828,-0.150340050458908,0.387373238801956,-0.209589973092079,0.008580131456256,-0.011376123875380,-0.077345810830593,-0.118036299943924) * MODEL1_texOff(vec2(1,1));
res += mat4(0.105883970856667,0.008022907190025,-0.037399332970381,-0.007999577559531,0.021204421296716,0.033394306898117,-0.026431184262037,-0.002403280930594,0.187274798750877,0.026593938469887,0.068246699869633,-0.015937820076942,-0.257413119077682,0.056483957916498,0.044234815984964,0.130098342895508) * MODEL2_texOff(vec2(-1,-1));
res += mat4(0.037342008203268,0.003865130245686,0.042568169534206,-0.022067345678806,-0.280639708042145,0.091938070952892,0.006129498593509,0.078273117542267,0.056687332689762,0.054954968392849,-0.127556532621384,-0.014412512071431,-0.606268346309662,-0.092386230826378,0.058561746031046,-0.010405923239887) * MODEL2_texOff(vec2(-1,0));
res += mat4(0.084531657397747,-0.018767012283206,0.037959221750498,-0.049484029412270,-0.106006748974323,-0.015547358430922,-0.094743929803371,-0.139775574207306,-0.087801188230515,-0.191626489162445,0.009673213586211,0.167272031307220,-0.271728247404099,-0.035716798156500,-0.028369016945362,-0.010384863242507) * MODEL2_texOff(vec2(-1,1));
res += mat4(0.130776926875114,0.091904148459435,0.159737929701805,0.012158352881670,0.087696842849255,-0.026075519621372,-0.125771537423134,-0.129588678479195,-0.071081556379795,-0.105649530887604,-0.318480372428894,-0.323682785034180,0.239472389221191,0.034013535827398,0.152375072240829,0.334463357925415) * MODEL2_texOff(vec2(0,-1));
res += mat4(-0.079626858234406,-0.171127662062645,-0.089420452713966,-0.042613442987204,0.149851173162460,0.205324783921242,-0.513917982578278,-0.119611255824566,0.094601675868034,0.230846330523491,0.366703778505325,0.079586230218410,-0.356676608324051,0.335602998733521,-0.766929507255554,-0.707444429397583) * MODEL2_texOff(vec2(0,0));
res += mat4(0.033431760966778,0.077133484184742,0.110221676528454,0.123503729701042,0.187778666615486,0.095182813704014,-0.095859736204147,-0.074092045426369,-0.043037492781878,-0.470726221799850,0.293052077293396,-0.327159345149994,0.112437978386879,-0.065175041556358,-0.140124902129173,0.200504884123802) * MODEL2_texOff(vec2(0,1));
res += mat4(-0.038692411035299,0.044723305851221,0.073584459722042,0.029127791523933,-0.002532811602578,-0.009334906004369,-0.136666953563690,-0.077550113201141,0.033043798059225,0.017365109175444,-0.011583847925067,-0.206656664609909,0.017557375133038,-0.054248202592134,-0.078193716704845,0.085275299847126) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.070382192730904,-0.188019230961800,0.189054414629936,0.050700712949038,0.043614812195301,0.149833559989929,-0.139428034424782,-0.409134268760681,0.053241591900587,0.176771894097328,-0.492079049348831,-0.127704024314880,-0.059752274304628,0.007221407257020,-0.302610456943512,0.024032248184085) * MODEL2_texOff(vec2(1,0));
res += mat4(0.033487156033516,0.020462960004807,-0.090257629752159,0.060425858944654,0.079648159444332,0.215680941939354,-0.358773589134216,-0.018215913325548,-0.103204831480980,-0.350761324167252,0.272989988327026,0.339666306972504,0.040791701525450,-0.058120977133512,0.110374264419079,-0.070121988654137) * MODEL2_texOff(vec2(1,1));
res += mat4(-0.362518817186356,-0.020453780889511,-0.051493048667908,0.037986546754837,-0.255449920892715,-0.025092484429479,0.012751928530633,-0.036215540021658,0.152173221111298,0.016468970105052,0.135216727852821,0.005577722098678,0.194751575589180,0.055566146969795,0.171939775347710,-0.017327468842268) * MODEL3_texOff(vec2(-1,-1));
res += mat4(-0.456945687532425,-0.126216575503349,0.109341807663441,-0.008506864309311,-0.286644548177719,0.125495672225952,0.097648784518242,0.169766485691071,0.389018595218658,-0.059768918901682,-0.144758030772209,0.134867325425148,0.646668016910553,-0.053338706493378,-0.070056706666946,0.101710721850395) * MODEL3_texOff(vec2(-1,0));
res += mat4(-0.173633620142937,0.058632735162973,0.049029234796762,-0.006301463115960,0.001984302187338,0.076579436659813,-0.036717489361763,-0.019895678386092,0.074892111122608,-0.062583364546299,-0.007130663841963,-0.005178812425584,0.082366995513439,-0.039955999702215,0.078380897641182,-0.045801378786564) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.095637999475002,-0.195702999830246,0.137015491724014,0.288893610239029,-0.197443544864655,-0.211641266942024,-0.278242319822311,0.016976499930024,0.019292965531349,0.015503647737205,-0.159350007772446,-0.178953096270561,0.218304887413979,-0.014781760983169,0.144578933715820,0.085979342460632) * MODEL3_texOff(vec2(0,-1));
res += mat4(0.218925267457962,-0.116738587617874,-0.314232051372528,-0.341668456792831,-0.129678979516029,-0.140083819627762,-0.025167834013700,0.544693291187286,-0.253353446722031,0.067769765853882,0.363620728254318,0.002628950169310,0.274604946374893,-0.428832471370697,0.094240367412567,0.024118166416883) * MODEL3_texOff(vec2(0,0));
res += mat4(0.003870899556205,-0.003875935217366,0.229418471455574,0.329076379537582,-0.070939205586910,-0.027036711573601,-0.173724085092545,-0.174328371882439,0.050421155989170,0.027380075305700,0.099602766335011,0.112365089356899,-0.050981298089027,0.188683092594147,-0.003308734158054,0.184036552906036) * MODEL3_texOff(vec2(0,1));
res += mat4(-0.064665272831917,-0.062851473689079,0.042118918150663,0.094718366861343,0.106174364686012,-0.012248694896698,-0.011076471768320,0.078929163515568,0.121431842446327,0.021189630031586,0.148373946547508,-0.070089861750603,-0.051373679190874,-0.053712021559477,-0.159394934773445,-0.201179981231689) * MODEL3_texOff(vec2(1,-1));
res += mat4(-0.080657072365284,-0.234001055359840,0.461730927228928,0.113306090235710,-0.034086387604475,-0.012778106145561,-0.294873833656311,0.781911671161652,-0.007801861502230,-0.044078532606363,0.246708154678345,-0.045427232980728,-0.205304682254791,0.003402533242479,-0.097081109881401,0.089845947921276) * MODEL3_texOff(vec2(1,0));
res += mat4(0.024191984906793,0.030556483194232,-0.167431265115738,0.024374278262258,0.039322275668383,-0.147063538432121,0.042887251824141,-0.160393208265305,-0.007105869241059,0.037858348339796,0.119180768728256,0.005589945241809,-0.006156347692013,-0.013247500173748,-0.171603485941887,0.022157732397318) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.015505890361965,4.299075603485107,-0.001824724371545,0.148794844746590) * min(res, vec4(0.0));
#elif (SHARP == 1)
vec4 res = vec4(-0.003918476402760,0.103826679289341,0.128230467438698,-0.000924595282413);
res += mat4(0.058151878416538,0.042279552668333,-0.018053699284792,-0.073896177113056,0.046593163162470,-0.194144859910011,0.002090463414788,0.105834715068340,-0.059932164847851,0.001179525163025,-0.020321251824498,0.152548953890800,-0.240933835506439,0.027237636968493,0.030426410958171,-0.205116257071495) * MODEL1_texOff(vec2(-1,-1));
res += mat4(0.063097119331360,0.204659804701805,-0.267014294862747,0.169508099555969,0.006469513755292,-0.128191217780113,0.205758288502693,-0.252005726099014,-0.032070007175207,0.056717753410339,-0.329051673412323,-0.127635329961777,0.052335824817419,-0.034304942935705,-0.197113916277885,-0.202818706631660) * MODEL1_texOff(vec2(-1,0));
res += mat4(0.126980692148209,-0.002889206167310,-0.120520934462547,-0.133177235722542,-0.005421789363027,-0.015942241996527,-0.010845581069589,0.038405444473028,-0.025557262822986,0.038489054888487,-0.084987483918667,0.013432677835226,-0.036579851061106,0.032036986202002,-0.126693204045296,0.022883625701070) * MODEL1_texOff(vec2(-1,1));
res += mat4(-0.267588824033737,-0.309689670801163,0.116534814238548,-0.197824209928513,0.239587843418121,-0.008094298653305,0.062673680484295,0.074732653796673,-0.672775030136108,0.024028005078435,-0.217718303203583,0.436041951179504,-1.250207066535950,-0.041058335453272,-0.033391550183296,-0.406772255897522) * MODEL1_texOff(vec2(0,-1));
res += mat4(-0.179512903094292,0.068148896098137,0.467957288026810,0.344234824180603,-0.362939476966858,-0.014109428040683,0.352024704217911,-0.162768572568893,0.070647642016411,-0.609525680541992,-0.173782229423523,-0.336775273084641,-0.073729418218136,-0.304296106100082,-0.410557985305786,-0.531384289264679) * MODEL1_texOff(vec2(0,0));
res += mat4(0.194757938385010,-0.061108801513910,0.083574093878269,-0.181352019309998,0.089165128767490,0.024257866665721,0.094073094427586,-0.072461798787117,-0.061305448412895,-0.092076912522316,-0.169675886631012,0.076645344495773,0.068176932632923,-0.018925979733467,-0.521398007869720,-0.053478691726923) * MODEL1_texOff(vec2(0,1));
res += mat4(0.046612229198217,0.181308567523956,-0.100537836551666,-0.158929616212845,0.100072786211967,0.241123855113983,0.070377342402935,0.108717150986195,-0.040476761758327,-0.153139829635620,0.053840365260839,-0.011839184910059,-0.474748879671097,0.031016563996673,-0.031141934916377,-0.015973363071680) * MODEL1_texOff(vec2(1,-1));
res += mat4(-0.340561747550964,0.181932687759399,-0.239306315779686,0.018730571493506,-0.237989202141762,0.278240084648132,-0.387874752283096,0.061834882944822,-0.079471491277218,-0.206851080060005,-0.100241847336292,-0.062095671892166,-0.025953151285648,-0.572777092456818,0.101172745227814,-0.138171523809433) * MODEL1_texOff(vec2(1,0));
res += mat4(0.065192520618439,-0.155159935355186,-0.041424199938774,-0.009390475228429,0.136296465992928,-0.021283674985170,-0.192197874188423,0.012214100919664,0.013714605011046,-0.049572493880987,-0.070914849638939,-0.026686808094382,0.038704421371222,-0.106144867837429,0.052364494651556,-0.077873259782791) * MODEL1_texOff(vec2(1,1));
res += mat4(0.046898115426302,-0.175090163946152,0.064390324056149,0.146770671010017,-0.191308647394180,-0.030154667794704,0.132049217820168,-0.111995309591293,0.053452879190445,0.031429603695869,-0.116596378386021,0.114036038517952,-0.017467418685555,-0.012231745757163,0.004209974315017,0.016941413283348) * MODEL2_texOff(vec2(-1,-1));
res += mat4(0.114173345267773,0.013209651224315,0.109718590974808,-0.209864273667336,-0.042242784053087,-0.157945632934570,0.540358185768127,-0.154973000288010,0.026450673118234,0.026499874889851,-0.129491031169891,0.252995640039444,0.045163996517658,0.239232197403908,-0.446003437042236,-0.082137688994408) * MODEL2_texOff(vec2(-1,0));
res += mat4(-0.031464919447899,-0.027892021462321,-0.105982348322868,0.092194080352783,-0.029184076935053,-0.004543029237539,0.368520826101303,0.003396847518161,0.037715166807175,0.041162226349115,-0.115271404385567,0.050346251577139,0.000238848617300,-0.025658514350653,-0.102635875344276,0.032144036144018) * MODEL2_texOff(vec2(-1,1));
res += mat4(0.415673464536667,0.386196374893188,-0.215129405260086,0.193313777446747,-0.293922066688538,0.020333407446742,0.176774144172668,-0.402646958827972,0.004414633847773,0.063838019967079,-0.052474241703749,0.792967855930328,-0.320592194795609,-0.263799369335175,-0.015707837417722,-0.181303456425667) * MODEL2_texOff(vec2(0,-1));
res += mat4(-0.038773342967033,0.061262048780918,-0.351305335760117,0.123923689126968,-0.006548510398716,0.518215298652649,0.088908262550831,-0.322143286466599,0.188576921820641,-0.355959504842758,0.827029526233673,0.152894318103790,0.354598373174667,-0.677243590354919,-0.409567385911942,-0.445294976234436) * MODEL2_texOff(vec2(0,0));
res += mat4(-0.207035452127457,0.132545843720436,0.027976160869002,0.024333104491234,0.022338548675179,0.038516927510500,0.107239782810211,0.112381175160408,0.111510694026947,-0.060040030628443,0.296738773584366,-0.062256239354610,-0.277866333723068,0.011721178889275,-0.075613491237164,0.220491692423820) * MODEL2_texOff(vec2(0,1));
res += mat4(0.085583776235580,-0.256858348846436,-0.058675523847342,-0.027052521705627,-0.275883972644806,0.338607192039490,0.001374152139761,0.100726202130318,0.407756924629211,0.354018986225128,-0.008774324320257,0.120456114411354,-0.390208303928375,-0.061396591365337,-0.015424223616719,0.092184282839298) * MODEL2_texOff(vec2(1,-1));
res += mat4(0.071207121014595,0.096685819327831,0.172661170363426,0.073430761694908,-0.045719843357801,0.171733453869820,-0.129918366670609,-0.032252397388220,0.038771331310272,0.460289388895035,-0.365577489137650,0.105835922062397,0.056088153272867,-0.115962542593479,0.186616763472557,-0.132956162095070) * MODEL2_texOff(vec2(1,0));
res += mat4(-0.035112977027893,0.048423554748297,0.051835291087627,0.080583781003952,0.061027031391859,0.013763571158051,-0.000034097502066,-0.044735774397850,0.003302516182885,0.131804630160332,-0.015316074714065,0.059216745197773,-0.086977772414684,0.080024458467960,0.033234175294638,-0.023657677695155) * MODEL2_texOff(vec2(1,1));
res += mat4(0.087235391139984,0.141587525606155,0.065405480563641,0.053369492292404,-0.059794746339321,-0.152678444981575,0.028962660580873,0.024634046480060,-0.174876108765602,-0.072917342185974,-0.085982270538807,-0.009571606293321,0.192325547337532,0.105466872453690,-0.094334498047829,-0.234128341078758) * MODEL3_texOff(vec2(-1,-1));
res += mat4(0.072645433247089,0.371328860521317,-0.373352408409119,-0.050300385802984,0.040457390248775,-0.232530415058136,0.367852598428726,-0.048507064580917,-0.000268508447334,-0.192433923482895,-0.010251185856760,-0.344406247138977,0.149117901921272,0.053629186004400,-0.241139844059944,0.319825649261475) * MODEL3_texOff(vec2(-1,0));
res += mat4(-0.011564652435482,0.030603049322963,0.098742283880711,-0.050995644181967,-0.019735900685191,-0.021564776077867,-0.005732630379498,0.003903682343662,-0.085055172443390,-0.018053106963634,0.005943478085101,0.123641483485699,0.029002467170358,0.063752762973309,-0.150114029645920,0.094112709164619) * MODEL3_texOff(vec2(-1,1));
res += mat4(0.526864528656006,-0.268174052238464,0.073775686323643,-0.100352764129639,0.056369207799435,0.357542097568512,0.030734851956367,-0.244541957974434,0.107762858271599,0.073305234313011,-0.083733655512333,0.169005900621414,-0.388769686222076,-0.335348367691040,-0.005146900191903,-0.462918788194656) * MODEL3_texOff(vec2(0,-1));
res += mat4(0.361201226711273,-0.001770720467903,0.090822681784630,-0.145476415753365,-0.102277860045433,0.220557078719139,-0.209374383091927,0.390527755022049,0.017500961199403,-0.024187501519918,-0.267329782247543,-0.308043539524078,0.129307612776756,0.090786904096603,-0.245961830019951,0.621169924736023) * MODEL3_texOff(vec2(0,0));
res += mat4(-0.200074046850204,0.072717219591141,0.052516795694828,0.217230275273323,0.033886551856995,0.006529870908707,0.131917208433151,-0.129527732729912,-0.186602145433426,0.000595582823735,-0.243354171514511,0.064181663095951,0.198172137141228,-0.236623898148537,0.093110501766205,-0.428365260362625) * MODEL3_texOff(vec2(0,1));
res += mat4(0.195518895983696,-0.346360474824905,0.056290961802006,-0.027355490252376,-0.157517910003662,0.124176986515522,0.052764069288969,-0.008114429190755,-0.094684153795242,-0.064125746488571,0.082625851035118,0.020187387242913,-0.285690277814865,-0.029513597488403,0.036216467618942,-0.058593053370714) * MODEL3_texOff(vec2(1,-1));
res += mat4(0.058647654950619,-0.153026908636093,0.294931590557098,-0.064328320324421,0.066586315631866,0.155268386006355,0.132612988352776,0.094850726425648,0.033211492002010,-0.265427350997925,0.163785398006439,-0.196928858757019,0.244731411337852,0.046394258737564,0.194230437278748,0.197439491748810) * MODEL3_texOff(vec2(1,0));
res += mat4(-0.152058959007263,-0.000259342690697,0.107128962874413,0.021706258878112,0.042748551815748,0.022927265614271,0.002904792781919,0.040269784629345,0.067327789962292,-0.031642727553844,-0.036023166030645,-0.078601986169815,0.131670355796814,-0.142693638801575,0.092514812946320,-0.048523798584938) * MODEL3_texOff(vec2(1,1));
res = max(res, vec4(0.0)) + vec4(-0.070033900439739,-0.088223539292812,-0.046171627938747,-0.135323747992516) * min(res, vec4(0.0));
#endif

return res;
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL4
//!BIND MODEL5
//!BIND MODEL6
//!SAVE SUBCONV1
//!DESC [AiUpscale_Fast_3x_LineArt_RT] sub-pixel convolution 1

vec4 hook()
{

#if (SHARP == 0)
vec3 res = vec3(-0.003444822737947,0.002423050813377,0.000511416408699);
res += mat4x3(0.003464739304036,-0.001328610931523,-0.002803469542414,0.006142321974039,0.005209590774029,0.000721947173588,0.000617503246758,0.000174655258888,0.000843252404593,0.006883623078465,0.004021178465337,0.000038205980673) * MODEL4_texOff(vec2(-1,-1));
res += mat4x3(-0.004363718442619,0.006644892040640,0.010301698930562,-0.001948490156792,0.007233568001539,0.004105477128178,-0.006198009010404,-0.001754421973601,-0.000602242944296,-0.000972516601905,-0.001087868702598,0.004479996394366) * MODEL4_texOff(vec2(-1,0));
res += mat4x3(-0.003088036319241,-0.001137398183346,-0.005986080039293,0.008632313460112,0.011433875188231,0.003476701676846,0.002783004194498,0.002019894542173,-0.006147674750537,0.000631198869087,0.001572852255777,0.002070715650916) * MODEL4_texOff(vec2(-1,1));
res += mat4x3(0.041137523949146,0.015532799065113,-0.004776515532285,-0.004352107644081,0.008994008414447,0.008272589184344,-0.009195690043271,0.000449448183645,0.003207997186109,-0.033663813024759,-0.004008736927062,0.003303759731352) * MODEL4_texOff(vec2(0,-1));
res += mat4x3(0.037136465311050,-0.061655964702368,-0.040517419576645,-0.039652727544308,-0.035050839185715,-0.031148642301559,0.038538012653589,0.015549689531326,-0.006205189507455,-0.047707103192806,-0.075225114822388,-0.069965615868568) * MODEL4_texOff(vec2(0,0));
res += mat4x3(-0.008412556722760,-0.005933510139585,0.027969585731626,0.006689796689898,0.010257467627525,-0.009378356859088,0.004717887844890,0.025386562570930,0.036770604550838,-0.001606797566637,-0.000901718507521,-0.011776052415371) * MODEL4_texOff(vec2(0,1));
res += mat4x3(-0.001746348454617,-0.001395278493874,-0.005924057681113,0.005226863548160,0.008306739851832,0.006754683796316,0.001153137534857,-0.001900690840557,0.000365306390449,-0.000967147236224,0.000127173960209,0.000512613449246) * MODEL4_texOff(vec2(1,-1));
res += mat4x3(0.010581127367914,0.012208172120154,-0.005642468575388,0.017205029726028,0.015375569462776,0.007349536754191,-0.006620310712606,0.000469599064672,0.000545568473171,-0.002196404850110,-0.007438224274665,-0.002558547770604) * MODEL4_texOff(vec2(1,0));
res += mat4x3(-0.003850196953863,-0.003870816202834,-0.001763465115800,-0.002361820777878,0.004498229362071,0.013017132878304,-0.001990522723645,-0.004700348246843,-0.007770631927997,0.001294908695854,0.005076535046101,0.001036853063852) * MODEL4_texOff(vec2(1,1));
res += mat4x3(-0.007425431627780,-0.000063003615651,0.003522672690451,-0.004362526815385,-0.001654810854234,-0.001760726096109,0.016190532594919,0.004059422295541,-0.002719465177506,0.025454306975007,0.007123798131943,-0.000577540253289) * MODEL5_texOff(vec2(-1,-1));
res += mat4x3(0.011262537911534,-0.014302609488368,-0.015280526131392,-0.009319750592113,0.033935889601707,0.016212029382586,0.033060621470213,0.015390142798424,-0.000617445039097,0.025189252570271,0.042967341840267,0.044393584132195) * MODEL5_texOff(vec2(-1,0));
res += mat4x3(-0.004300883505493,-0.005428344476968,0.016638364642859,0.007643944118172,-0.002683005994186,-0.033084910362959,0.004953202791512,-0.004631198011339,-0.003375722095370,-0.001735671539791,-0.001455506309867,0.006844160147011) * MODEL5_texOff(vec2(-1,1));
res += mat4x3(0.007428259588778,-0.023595439270139,-0.012079203501344,-0.009705722332001,-0.004823497496545,-0.006170650012791,0.019024293869734,-0.002278151921928,-0.012529080733657,-0.011838813312352,-0.002459874842316,0.000261472043348) * MODEL5_texOff(vec2(0,-1));
res += mat4x3(-0.035383597016335,0.002580152824521,0.061414327472448,0.037894509732723,-0.018002426251769,-0.026822304353118,-0.015619876794517,-0.022142261266708,-0.009618243202567,-0.020017350092530,-0.025721661746502,-0.021732555702329) * MODEL5_texOff(vec2(0,0));
res += mat4x3(0.003111742204055,0.003764491062611,-0.001976175699383,-0.015769988298416,0.000520616478752,0.046305045485497,0.003835459938273,-0.010129574686289,-0.027456477284431,0.003830195870250,0.002535116393119,-0.005887683015317) * MODEL5_texOff(vec2(0,1));
res += mat4x3(0.000812208279967,0.005475616548210,0.004519869107753,-0.001357903121971,0.006008084397763,0.007408948149532,0.001862771692686,-0.001518458477221,-0.001240840065293,0.002968824468553,0.000203999792575,-0.002219021553174) * MODEL5_texOff(vec2(1,-1));
res += mat4x3(0.000802535796538,-0.012672776356339,-0.005929275881499,-0.003427471499890,-0.002647771500051,-0.002948423381895,0.008820970542729,0.002361854072660,-0.001113607082516,0.004199953284115,0.007518727798015,0.007910229265690) * MODEL5_texOff(vec2(1,0));
res += mat4x3(-0.000070296722697,0.001613875734620,0.007217592094094,-0.000968667794950,-0.001698456238955,-0.000784217903856,-0.000416323018726,0.000066936700023,0.002209388883784,-0.000273693294730,0.000601447129156,0.001565078506246) * MODEL5_texOff(vec2(1,1));
res += mat4x3(-0.002885833382607,0.002794626867399,0.001871036249213,-0.000028211368772,0.002899120561779,0.000622267136350,0.033130075782537,-0.007499270606786,-0.007931903004646,-0.014204813167453,0.008898635394871,0.004846519324929) * MODEL6_texOff(vec2(-1,-1));
res += mat4x3(-0.005414517596364,-0.006108101923019,-0.005266473162919,0.020333407446742,-0.002809430472553,-0.015604760497808,-0.043325513601303,-0.043532699346542,0.034483950585127,0.039320923388004,0.031382858753204,-0.040479101240635) * MODEL6_texOff(vec2(-1,0));
res += mat4x3(-0.000721698685084,0.000141958065797,0.000278175226413,-0.002452086424455,-0.006186329759657,0.005169274751097,-0.005179494619370,0.007992872036994,0.010429878719151,0.008453662507236,-0.006492925807834,-0.015625728294253) * MODEL6_texOff(vec2(-1,1));
res += mat4x3(-0.000029008548154,-0.002146849175915,0.001535112503916,0.003721883986145,0.000370291440049,-0.000092023437901,-0.008441904559731,0.004796229302883,-0.000336814875482,-0.011594464071095,0.008366481401026,0.011812465265393) * MODEL6_texOff(vec2(0,-1));
res += mat4x3(0.013523134402931,0.013633478432894,0.001569859217852,0.002301762811840,-0.006427918095142,0.000340897822753,0.015659416094422,0.033801279962063,-0.002628805814311,-0.004589164629579,0.004812628030777,-0.013938910327852) * MODEL6_texOff(vec2(0,0));
res += mat4x3(0.000141491342220,0.002217921195552,0.008026854135096,-0.001739912317134,-0.004374775104225,0.001608587917872,0.000538287102245,-0.011408900842071,-0.021562581881881,-0.000365114508895,-0.002192824846134,-0.011362547986209) * MODEL6_texOff(vec2(0,1));
res += mat4x3(0.004854952916503,-0.000315583019983,-0.003002093173563,-0.000569060619455,-0.000452264968771,0.000146354752360,-0.007202594541013,-0.003457991871983,0.001756787649356,0.001844016020186,-0.002520738635212,-0.001510477392003) * MODEL6_texOff(vec2(1,-1));
res += mat4x3(0.030215410515666,0.030040696263313,0.017360655590892,0.000481230177684,-0.000217772234464,-0.001013393513858,-0.002870724303648,-0.004160122945905,-0.004666993394494,0.001154285972007,0.001909127691761,0.003623961005360) * MODEL6_texOff(vec2(1,0));
res += mat4x3(-0.003793540410697,0.002844016300514,0.013765127398074,-0.000227605240070,0.000864816829562,0.000520534347743,0.003610081505030,0.004586977418512,0.000794283754658,-0.001186889945529,0.001659120898694,0.000340815138770) * MODEL6_texOff(vec2(1,1));
#elif (SHARP == 1)
vec3 res = vec3(0.000283692992525,0.001448180060834,-0.000285545655061);
res += mat4x3(0.000557077582926,-0.003008011030033,-0.003873048350215,-0.001372502534650,0.005185146816075,0.003705475479364,0.034495066851377,0.013499284163117,-0.001087470911443,-0.007617142051458,-0.011905705556273,-0.003717820160091) * MODEL4_texOff(vec2(-1,-1));
res += mat4x3(-0.017652133479714,-0.011441306211054,-0.001993368612602,-0.020538646727800,-0.025949819013476,-0.013636640273035,0.011255804449320,0.035921923816204,0.047214414924383,-0.009445745497942,0.023633297532797,0.026412839069963) * MODEL4_texOff(vec2(-1,0));
res += mat4x3(0.001893525011837,-0.000670326815452,-0.009198963642120,0.004056625068188,0.004646771121770,-0.002049403032288,0.003942584153265,0.002346291672438,-0.003071101149544,-0.002545596100390,0.008517546579242,0.000845423957799) * MODEL4_texOff(vec2(-1,1));
res += mat4x3(0.028844924643636,-0.002504933392629,-0.008118696510792,0.004735494963825,0.012270510196686,0.006115237250924,-0.018498675897717,-0.010509788058698,-0.002862601773813,-0.012401366606355,0.011018758639693,-0.001248889020644) * MODEL4_texOff(vec2(0,-1));
res += mat4x3(-0.000960045086686,0.029761631041765,0.050384763628244,-0.005546214524657,-0.018320508301258,-0.010559702292085,-0.013485533185303,-0.024297237396240,-0.026129376143217,0.058366563171148,-0.007700275629759,-0.062518499791622) * MODEL4_texOff(vec2(0,0));
res += mat4x3(0.006131762638688,0.002238500397652,-0.007307819556445,0.011327748186886,0.016316115856171,0.013001485727727,0.002547069452703,0.004453126806766,-0.001125626382418,-0.003354220418260,-0.009288924746215,0.019495097920299) * MODEL4_texOff(vec2(0,1));
res += mat4x3(-0.005029121413827,-0.003964683972299,-0.001286325044930,0.001456420985050,-0.001445662579499,-0.002463982207701,0.004721203353256,0.000480053742649,-0.000397529511247,0.000529361364897,0.004207533318549,0.007846405729651) * MODEL4_texOff(vec2(1,-1));
res += mat4x3(-0.007710841018707,-0.008643559180200,-0.009286154061556,0.001437691389583,0.000797001353931,0.003146154340357,0.005898875184357,0.007998256944120,0.007688328158110,-0.008006635122001,-0.008870512247086,-0.002267862902954) * MODEL4_texOff(vec2(1,0));
res += mat4x3(-0.002103057689965,-0.004083800129592,-0.006561187095940,0.001149191404693,0.002165725454688,0.002380487974733,-0.001587897539139,-0.000148851293488,0.001679457142018,0.002838495187461,0.002169057028368,-0.001487770816311) * MODEL4_texOff(vec2(1,1));
res += mat4x3(-0.012406405992806,0.006000135559589,0.004170069936663,0.037920117378235,0.012120020575821,-0.004987128078938,-0.007687232922763,-0.003506374312565,-0.001593897351995,-0.000074131683505,-0.001327984617092,-0.001437098835595) * MODEL5_texOff(vec2(-1,-1));
res += mat4x3(0.019704937934875,0.021075155586004,-0.029210587963462,-0.024346383288503,-0.044484622776508,-0.000328142341459,-0.006018755026162,0.006219865288585,0.002834263723344,0.004180181305856,0.003853633534163,0.001894804066978) * MODEL5_texOff(vec2(-1,0));
res += mat4x3(-0.001950089004822,-0.006757267750800,0.001922147115692,-0.001850169268437,-0.001407639472745,-0.000103321326606,0.005114160478115,0.002779884729534,-0.006912626326084,-0.000376628857339,0.000554985716008,0.001475071650930) * MODEL5_texOff(vec2(-1,1));
res += mat4x3(0.023636944591999,0.013122901320457,-0.008293964900076,-0.021434528753161,-0.005850032903254,0.008089923299849,0.009895171970129,-0.005082586780190,0.002867324743420,0.002286385046318,0.001848101499490,0.000504429452121) * MODEL5_texOff(vec2(0,-1));
res += mat4x3(0.021696515381336,-0.010768373496830,-0.032417956739664,0.009817910380661,0.050224751234055,0.022741897031665,-0.059474013745785,-0.060394741594791,0.023106966167688,-0.021563472226262,-0.015953831374645,-0.004858288913965) * MODEL5_texOff(vec2(0,0));
res += mat4x3(-0.006197446025908,-0.007844802923501,0.004800445400178,-0.004031225107610,-0.005940122995526,-0.009597801603377,0.001736445003189,0.004070452880114,0.011982665397227,-0.000735376495868,-0.004412365145981,-0.013501422479749) * MODEL5_texOff(vec2(0,1));
res += mat4x3(-0.003677104832605,0.001348440186121,0.002181462245062,-0.002285966649652,-0.005257296841592,-0.000984195386991,0.004168096464127,0.007022882346064,0.001969607546926,-0.000940797210205,-0.001267308718525,0.000113104426418) * MODEL5_texOff(vec2(1,-1));
res += mat4x3(0.002327900612727,0.002268271986395,-0.004536938387901,-0.003875696100295,-0.005965023767203,-0.001936956658028,-0.004410027991980,-0.014204389415681,-0.012914158403873,0.012326308526099,0.005982480943203,0.001363756018691) * MODEL5_texOff(vec2(1,0));
res += mat4x3(0.000458528607851,0.001383693539537,0.001136999926530,0.001358611509204,0.001956330146641,0.000515649153385,-0.001460134284571,-0.004871743265539,-0.004355474840850,-0.000769599806517,0.003589522559196,0.009611776098609) * MODEL5_texOff(vec2(1,1));
res += mat4x3(-0.001128137228079,0.004030791111290,0.002281122840941,0.001728727947921,-0.004345394670963,-0.001570273539983,0.009290951304138,0.001450788811781,-0.001711343415082,-0.000484257354401,-0.001422076718882,-0.000678189913742) * MODEL6_texOff(vec2(-1,-1));
res += mat4x3(0.031880002468824,-0.008242070674896,-0.012489007785916,0.010746809653938,0.014070590026677,0.014374268241227,-0.006944776047021,-0.009310598485172,0.002397287404165,-0.003485607448965,0.004750013817102,0.004795936401933) * MODEL6_texOff(vec2(-1,0));
res += mat4x3(0.011984509415925,-0.042432304471731,0.012926940806210,0.001903007621877,0.009384891949594,0.021398402750492,0.000574953854084,0.002189703285694,-0.000517777050845,-0.007134388200939,-0.003054328728467,0.010254576802254) * MODEL6_texOff(vec2(-1,1));
res += mat4x3(0.000857271719724,0.005300577264279,0.003728255163878,0.000701513956301,-0.000134328816785,0.001949065248482,-0.028546124696732,0.012163444422185,-0.000140082003782,-0.005111929494888,-0.011637431569397,-0.006943686399609) * MODEL6_texOff(vec2(0,-1));
res += mat4x3(0.006431669462472,-0.015181653201580,-0.007826603949070,0.037021804600954,0.021936355158687,0.007728100288659,-0.002263537142426,-0.044101484119892,-0.097625076770782,-0.049114033579826,0.029866073280573,0.028767172247171) * MODEL6_texOff(vec2(0,0));
res += mat4x3(-0.003376582870260,-0.002874700818211,0.024456016719341,-0.001488708425313,0.000725844583940,0.023501165211201,-0.005412840284407,-0.002639992162585,-0.004395947325975,0.006417884025723,0.022970443591475,-0.026702204719186) * MODEL6_texOff(vec2(0,1));
res += mat4x3(0.000042782456148,-0.000377008167561,-0.001428743475117,-0.001966357231140,0.000774665502831,0.001193602685817,-0.008250196464360,-0.004649776034057,0.001629113801755,-0.000533748301677,-0.000509052712005,0.000582570268307) * MODEL6_texOff(vec2(1,-1));
res += mat4x3(-0.001360102789477,0.001722445944324,0.001100976951420,-0.002819055924192,-0.000136862989166,0.000298233266221,0.009891911409795,0.019411887973547,0.011225811205804,-0.004794268868864,-0.001979758497328,0.003241724567488) * MODEL6_texOff(vec2(1,0));
res += mat4x3(-0.002382870065048,-0.002345860004425,-0.001181206898764,0.001412938232534,-0.001322215073742,-0.004015037789941,0.000002869556738,0.001569124753587,0.000214808896999,-0.001545223407447,0.004140877630562,0.006689164321870) * MODEL6_texOff(vec2(1,1));
#endif

return vec4(res, 0);
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL4
//!BIND MODEL5
//!BIND MODEL6
//!SAVE SUBCONV2
//!DESC [AiUpscale_Fast_3x_LineArt_RT] sub-pixel convolution 2

vec4 hook()
{

#if (SHARP == 0)
vec3 res = vec3(-0.003399457549676,0.002785282675177,0.000413521484006);
res += mat4x3(0.003143137786537,0.001620060997084,-0.000664090097416,0.003226079279557,0.002022859640419,-0.001422284403816,0.000434986839537,-0.001387920812704,0.000284458626993,-0.000732180080377,0.000894706638064,0.000280646054307) * MODEL4_texOff(vec2(-1,-1));
res += mat4x3(-0.005888801533729,-0.006367054767907,0.000586602953263,0.001396257430315,0.009236524812877,0.005269209388644,0.005362159572542,0.006264789495617,0.003021795768291,-0.006752351298928,-0.009403130039573,-0.005104169715196) * MODEL4_texOff(vec2(-1,0));
res += mat4x3(0.000262668792857,0.003235866082832,-0.000450507126516,0.004192057996988,0.004378714598715,0.001385055133142,0.004429981112480,0.006595585960895,0.005359425675124,0.003192475298420,0.002848963951692,-0.001102652633563) * MODEL4_texOff(vec2(-1,1));
res += mat4x3(0.011893782764673,0.010293186642230,-0.000032269937947,-0.006971153430641,0.008598460815847,0.004797503817827,0.000833650236018,0.002417893148959,0.000236605934333,-0.003542811376974,-0.002073434880003,0.001246087020263) * MODEL4_texOff(vec2(0,-1));
res += mat4x3(0.063013777136803,-0.028566388413310,-0.055217593908310,-0.036873068660498,-0.036595538258553,-0.037375159561634,-0.024288473650813,-0.009814734570682,-0.002072194358334,0.006365989334881,0.009383000433445,0.002713700523600) * MODEL4_texOff(vec2(0,0));
res += mat4x3(-0.010778860189021,-0.018080158159137,0.019795518368483,0.005441667046398,0.005740649998188,-0.009571795351803,-0.006552282720804,-0.014665944501758,-0.030830148607492,-0.002968599088490,-0.002997516188771,0.002757300622761) * MODEL4_texOff(vec2(0,1));
res += mat4x3(0.002114310394973,-0.002067155437544,-0.004873438738286,0.004594974219799,0.009502653032541,0.008712711744010,0.006043388042599,-0.001532245310955,-0.003548144362867,0.013608155772090,-0.001248712535016,-0.007043335586786) * MODEL4_texOff(vec2(1,-1));
res += mat4x3(0.004877501167357,0.006901766173542,-0.004105719737709,0.014264615252614,0.014286003075540,0.003233982482925,-0.044638071209192,-0.017961569130421,0.002944800769910,0.015100685879588,0.024367960169911,0.029153928160667) * MODEL4_texOff(vec2(1,0));
res += mat4x3(-0.000320695078699,-0.002031330717728,-0.005669571924955,0.000908135261852,0.009595191106200,0.014062423259020,-0.003667489625514,-0.025035088881850,-0.045947290956974,-0.000518689979799,0.000682963524014,0.003801841521636) * MODEL4_texOff(vec2(1,1));
res += mat4x3(-0.004308015573770,-0.001436652848497,-0.000903476204257,-0.003370729973540,0.002538157394156,0.001741252839565,0.003987468313426,-0.000136987204314,-0.003487273352221,-0.006999568082392,0.001390811987221,0.006293926388025) * MODEL5_texOff(vec2(-1,-1));
res += mat4x3(-0.002288336865604,0.012435755692422,0.006610605400056,0.009986778721213,0.005669842008501,-0.009975420311093,0.006034917663783,-0.006638564169407,-0.013396918773651,-0.016784684732556,-0.027968535199761,-0.028355326503515) * MODEL5_texOff(vec2(-1,0));
res += mat4x3(-0.002533748513088,-0.001793847768568,-0.002552229911089,0.009915743023157,-0.001694592996500,-0.006995056290179,0.000975267845206,-0.004197495523840,-0.008383939974010,0.001904827426188,0.005418670829386,0.000624901498668) * MODEL5_texOff(vec2(-1,1));
res += mat4x3(0.037103023380041,-0.020275805145502,-0.015233692713082,0.015789428725839,-0.001316997921094,-0.004610590636730,0.032576791942120,0.003869503038004,-0.008313908241689,-0.014387047849596,-0.000467686040793,0.002008737530559) * MODEL5_texOff(vec2(0,-1));
res += mat4x3(-0.048025898635387,-0.042597711086273,0.070794232189655,-0.036377396434546,-0.035481709986925,0.014932500198483,0.013893202878535,0.008277205750346,0.014911230653524,-0.010600409470499,-0.022689770907164,-0.022314338013530) * MODEL5_texOff(vec2(0,0));
res += mat4x3(-0.000650872359984,0.011349324136972,0.021492516621947,-0.006178769748658,0.020034424960613,0.020617149770260,0.007474033161998,-0.005841609090567,-0.016128253191710,0.000710135791451,0.001532536931336,-0.001567505765706) * MODEL5_texOff(vec2(0,1));
res += mat4x3(-0.001294589019381,0.006762560922652,0.002971149981022,0.000184395830729,0.004489677492529,0.002448791405186,-0.000637891294900,-0.003767113201320,-0.003655092325062,0.003394896863028,0.000808190845419,-0.001719267107546) * MODEL5_texOff(vec2(1,-1));
res += mat4x3(0.001518451608717,-0.013035695068538,-0.008561839349568,-0.003710718592629,0.000816717685666,-0.001076243468560,0.002233558567241,-0.009098943322897,-0.011603423394263,0.003983581904322,0.008752198889852,0.009165972471237) * MODEL5_texOff(vec2(1,0));
res += mat4x3(-0.002096760785207,-0.000776467786636,0.008128124289215,-0.002303115325049,-0.002664138562977,-0.004038054961711,-0.001246520318091,-0.003857156028971,-0.003874589921907,-0.001592987333424,-0.000851588207297,-0.000689381093252) * MODEL5_texOff(vec2(1,1));
res += mat4x3(-0.001328071812168,-0.000662728445604,-0.000028330141504,0.002182658063248,0.001056911307387,-0.000176993198693,-0.002843668684363,-0.013749675825238,-0.002525954740122,-0.002498314715922,0.002994262147695,0.003579431213439) * MODEL6_texOff(vec2(-1,-1));
res += mat4x3(-0.004068202804774,-0.001538296579383,-0.000704632548150,0.005074363667518,-0.001670281402767,-0.003467934671789,-0.017760775983334,0.018673650920391,0.033841691911221,0.000191205661395,0.011507803574204,-0.007041099015623) * MODEL6_texOff(vec2(-1,0));
res += mat4x3(-0.000860688451212,-0.001191812916659,-0.002098721917719,-0.000852118595503,-0.001843930338509,0.000094685456133,-0.003668522695079,0.001618132460862,-0.006515996530652,0.005845962557942,-0.000693454698194,-0.013868643902242) * MODEL6_texOff(vec2(-1,1));
res += mat4x3(0.003032956039533,0.000164442142705,0.000189246202353,0.007863029837608,0.001977341482416,-0.000749828875996,-0.008164663799107,0.010816144756973,0.000517353124451,-0.010263821110129,0.015373600646853,0.008022421970963) * MODEL6_texOff(vec2(0,-1));
res += mat4x3(0.043823964893818,0.037752266973257,0.017794732004404,0.011084416881204,-0.012618713080883,-0.005091872531921,0.059980977326632,0.007119866088033,-0.044247850775719,0.028209473937750,0.015138950198889,-0.037867195904255) * MODEL6_texOff(vec2(0,0));
res += mat4x3(-0.003509176662192,0.006258081644773,0.028036613017321,-0.003419593675062,-0.005657629109919,0.008329626172781,-0.007484323810786,-0.017142606899142,0.012719187885523,-0.004097254015505,-0.007495998404920,-0.005909550469369) * MODEL6_texOff(vec2(0,1));
res += mat4x3(0.004774406552315,-0.000062360384618,-0.002202918520197,-0.001461057690904,0.000399401236791,0.000306099536829,-0.006142322905362,0.001159832812846,0.004712325520813,-0.001707021496259,-0.002311144256964,0.000827627489343) * MODEL6_texOff(vec2(1,-1));
res += mat4x3(0.007009616587311,0.012464057654142,0.009503883309662,0.001405688235536,0.000011940849618,-0.002302929991856,-0.004684392828494,-0.002622401341796,-0.001263596699573,0.000283487723209,0.003375658532605,0.004235565662384) * MODEL6_texOff(vec2(1,0));
res += mat4x3(0.001240700599737,0.004303954541683,0.002792170038447,-0.000967495725490,0.000073169903771,0.000591506599449,0.003969062119722,0.004556257743388,-0.000316351215588,0.000017399957869,0.001233500428498,-0.001184373861179) * MODEL6_texOff(vec2(1,1));
#elif (SHARP == 1)
vec3 res = vec3(-0.002438154770061,-0.000705416488927,-0.002736138645560);
res += mat4x3(-0.002770964754745,-0.002940954640508,-0.001252201385796,0.002568593947217,0.005549924913794,0.003443454392254,-0.018069582059979,-0.005465434398502,0.000459190574475,-0.010935661382973,-0.000060987549659,0.001460966654122) * MODEL4_texOff(vec2(-1,-1));
res += mat4x3(-0.005075397901237,-0.004072336480021,-0.002621905878186,0.008462919853628,0.000546474708244,-0.000111276371172,-0.016290981322527,-0.030900882557034,-0.035163704305887,-0.002124670660123,0.000420329743065,-0.009194992482662) * MODEL4_texOff(vec2(-1,0));
res += mat4x3(0.000936433149036,0.000771296501625,-0.002126146340743,-0.001164201414213,0.002493472071365,0.009521792642772,0.003642885480076,0.005225135479122,-0.002016021404415,0.005211823154241,0.010236529633403,0.001762256841175) * MODEL4_texOff(vec2(-1,1));
res += mat4x3(0.030880739912391,0.000592198863160,-0.006678026635200,-0.001950204255991,0.009883995167911,0.005538375582546,-0.021186903119087,-0.011375744827092,-0.003019906114787,0.033224895596504,0.009275972843170,-0.007407098542899) * MODEL4_texOff(vec2(0,-1));
res += mat4x3(-0.009187157265842,0.023305280134082,0.047257810831070,-0.034218240529299,-0.046460356563330,-0.027636000886559,-0.008529927581549,-0.019185950979590,-0.024441568180919,-0.016571182757616,-0.066400207579136,-0.017944851890206) * MODEL4_texOff(vec2(0,0));
res += mat4x3(0.007459071930498,0.001405444811098,-0.012389764189720,0.011032537557185,0.011525821872056,-0.002014812314883,-0.000075500844105,-0.000019318187697,-0.004627508576959,-0.003468450391665,0.003085493808612,0.017608255147934) * MODEL4_texOff(vec2(0,1));
res += mat4x3(-0.005744826514274,-0.007919976487756,-0.005806157831103,0.004848741926253,-0.000377356423996,-0.001598644070327,0.007052124012262,0.002434729598463,0.001982053974643,0.007230407092720,0.007147556636482,0.005350071936846) * MODEL4_texOff(vec2(1,-1));
res += mat4x3(-0.013392396271229,-0.010130480863154,-0.007889555767179,0.006861553061754,0.007229822687805,0.010066787712276,0.007540089543909,0.010747412219644,0.011088992469013,-0.015842733904719,0.002952100476250,0.009490780532360) * MODEL4_texOff(vec2(1,0));
res += mat4x3(-0.001660263747908,-0.005340257659554,-0.011349358595908,0.004984169267118,0.007499594241381,0.008362432010472,-0.000811988429632,0.000373672024580,0.001455199904740,0.001114261453040,-0.001110597397201,-0.012780566699803) * MODEL4_texOff(vec2(1,1));
res += mat4x3(0.003716664621606,0.000182556235814,-0.000213926847209,0.012197686359286,-0.012722940184176,-0.010073289275169,-0.003497281810269,0.000390218570828,0.002366665983573,-0.000616061384790,-0.000152766398969,0.000063677260187) * MODEL5_texOff(vec2(-1,-1));
res += mat4x3(0.000194131265744,0.004849695134908,-0.001850073458627,-0.007424343377352,0.014243944548070,0.033722124993801,-0.002522373106331,0.000126213373733,0.000074252449849,-0.003387117758393,-0.002963201142848,-0.002032517222688) * MODEL5_texOff(vec2(-1,0));
res += mat4x3(-0.000469738908578,-0.003011871827766,-0.002449562074617,-0.003640685696155,-0.000517698354088,-0.002297829138115,0.001358429668471,0.004475540947169,0.000202645489480,-0.000023164739105,-0.000771623512264,-0.002705586375669) * MODEL5_texOff(vec2(-1,1));
res += mat4x3(0.023565663024783,0.031657312065363,-0.004959145095199,-0.037596456706524,0.012427848763764,0.013359814882278,0.002853223821148,-0.007080012466758,-0.000647931534331,0.000578043458518,-0.000572290795390,-0.000222596310778) * MODEL5_texOff(vec2(0,-1));
res += mat4x3(0.042955324053764,-0.005557178054005,-0.063090555369854,0.050246104598045,0.032790742814541,-0.043345805257559,-0.024532105773687,-0.027009434998035,0.020865701138973,0.007592740468681,0.006256686057895,0.003823338774964) * MODEL5_texOff(vec2(0,0));
res += mat4x3(-0.006579327862710,-0.010167202912271,0.007416686508805,-0.007597954943776,-0.009267247281969,0.009185293689370,-0.002813543425873,-0.008367897011340,0.007885728962719,0.001780548715033,0.004546192009002,0.006555237807333) * MODEL5_texOff(vec2(0,1));
res += mat4x3(-0.004927069880068,0.002626744564623,0.002126103732735,-0.002478220267221,-0.003896845271811,0.003623218508437,-0.005609293933958,-0.000254088517977,0.000570035248529,-0.000818896456622,-0.002384069375694,-0.000928818772081) * MODEL5_texOff(vec2(1,-1));
res += mat4x3(-0.001274448120967,0.002822987502441,-0.004173146560788,-0.004864939022809,-0.005969441495836,0.000602753716521,0.015368984080851,0.010367108508945,-0.001395292580128,0.012903700582683,0.009832351468503,0.005715432576835) * MODEL5_texOff(vec2(1,0));
res += mat4x3(0.000604829983786,0.000874667253811,0.000710171298124,0.002481986070052,0.001403797767125,-0.000741320662200,-0.000027635034712,-0.003859660588205,0.004833939485252,0.000715329020750,0.005144674796611,0.009653262794018) * MODEL5_texOff(vec2(1,1));
res += mat4x3(0.000048367644922,0.002966095227748,0.001335204229690,-0.001840595621616,-0.000124212630908,0.002644700696692,-0.001184409833513,-0.001577911665663,-0.001803094637580,-0.001224667532369,0.000414315523813,0.000651361711789) * MODEL6_texOff(vec2(-1,-1));
res += mat4x3(0.004572839941829,-0.004074950702488,-0.003813527524471,0.029704827815294,0.017070947214961,0.004478339105844,-0.004576831590384,-0.009688780643046,-0.007211813703179,-0.003907389938831,0.001040736213326,-0.000511851394549) * MODEL6_texOff(vec2(-1,0));
res += mat4x3(0.000889313814696,-0.014788972213864,0.000439236231614,-0.003650020575151,0.003554540453479,0.024457819759846,0.002062947722152,0.001488675945438,-0.000797297747340,0.000666301697493,-0.005103977862746,-0.005899883806705) * MODEL6_texOff(vec2(-1,1));
res += mat4x3(-0.003490155329928,0.004800275899470,0.004218917340040,-0.001091322395951,-0.001596405869350,-0.000771413731854,0.011278876103461,0.005992943421006,-0.005137247499079,-0.000548450567294,-0.009889566339552,-0.007607052568346) * MODEL6_texOff(vec2(0,-1));
res += mat4x3(0.032242272049189,-0.025325613096356,-0.015769071877003,0.004216124769300,0.008665216155350,0.006600660271943,0.025287050753832,0.042208366096020,0.006826133932918,-0.068208754062653,0.007580398116261,0.030978824943304) * MODEL6_texOff(vec2(0,0));
res += mat4x3(-0.008596614003181,-0.038052693009377,0.041727863252163,0.002519472036511,-0.002426839433610,0.005523599684238,-0.001512626069598,0.000339005899150,-0.002665205625817,-0.000591754331253,0.034207180142403,-0.007229384034872) * MODEL6_texOff(vec2(0,1));
res += mat4x3(0.000517948996276,0.000042228308303,-0.001136636245064,-0.003437012434006,0.001470910967328,0.001176721998490,0.020969858393073,0.003060658462346,-0.002947728848085,0.000591930525843,-0.002047504996881,0.000025690544135) * MODEL6_texOff(vec2(1,-1));
res += mat4x3(-0.001667350647040,0.001090067438781,0.000704112986568,-0.005326616112143,-0.007931747473776,-0.005613769870251,0.010781092569232,0.029841039329767,0.035687927156687,-0.007744471542537,0.002536609536037,0.006940945517272) * MODEL6_texOff(vec2(1,0));
res += mat4x3(-0.001655802247114,-0.000804825802334,-0.002147474093363,-0.001805042731576,-0.002696580253541,-0.005039261188358,-0.000542266236152,-0.000453269982245,-0.000166298661497,0.001003769342788,0.006464798469096,0.002982258796692) * MODEL6_texOff(vec2(1,1));
#endif

return vec4(res, 0);
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!COMPONENTS 4
//!BIND MODEL4
//!BIND MODEL5
//!BIND MODEL6
//!SAVE SUBCONV3
//!DESC [AiUpscale_Fast_3x_LineArt_RT] sub-pixel convolution 3

vec4 hook()
{

#if (SHARP == 0)
vec3 res = vec3(-0.003339778864756,0.002293043769896,-0.000208678291528);
res += mat4x3(0.000490299076773,0.002657230710611,0.002619905397296,0.003122739028186,0.002056214259937,-0.000045883352868,0.000443504599389,-0.002057656180114,-0.001311980187893,-0.004394678398967,-0.001659924047999,-0.000397083786083) * MODEL4_texOff(vec2(-1,-1));
res += mat4x3(-0.000441504234914,-0.004983547609299,-0.005024951882660,0.003721731016412,0.007801254279912,0.005092219915241,0.004846125841141,0.006055099889636,0.003471322124824,-0.004898623563349,-0.006555032916367,-0.005532516166568) * MODEL4_texOff(vec2(-1,0));
res += mat4x3(0.003264362923801,0.004062748979777,0.000567817362025,0.001724704517983,0.001774560660124,0.001581290271133,0.000931154761929,0.002645322354510,0.002660714322701,0.002272212877870,0.002182929776609,-0.002149127889425) * MODEL4_texOff(vec2(-1,1));
res += mat4x3(-0.003384902607650,-0.000950610905420,0.000650004076306,0.003449054667726,0.010928470641375,0.005090652499348,0.003160697175190,0.003673761617392,0.000623624539003,0.017882186919451,0.003590682055801,-0.001548059983179) * MODEL4_texOff(vec2(0,-1));
res += mat4x3(0.034083273261786,0.013909574598074,-0.016671804711223,-0.012158386409283,-0.007420924026519,-0.010320702567697,-0.018628256395459,-0.008442970924079,-0.000389837659895,0.034324262291193,0.048101510852575,0.043199218809605) * MODEL4_texOff(vec2(0,0));
res += mat4x3(-0.006045379210263,-0.014213560149074,-0.004989976994693,0.011015564203262,0.013564144261181,0.003399999579415,-0.002699855482206,-0.007507952395827,-0.019453501328826,-0.002534141996875,-0.000061358085077,0.014924818649888) * MODEL4_texOff(vec2(0,1));
res += mat4x3(0.029534125700593,0.004252782557160,-0.005281235557050,-0.000697322248016,0.006512638647109,0.007222131825984,-0.002935026772320,0.001186019624583,0.001994255231693,0.010762365534902,0.004593356512487,-0.002322906628251) * MODEL4_texOff(vec2(1,-1));
res += mat4x3(-0.000558256986551,-0.030985420569777,-0.005488210357726,-0.014700626954436,-0.008365513756871,-0.010608331300318,0.039071492850780,0.017645785585046,0.001121333567426,0.010869719088078,0.010733091272414,0.012501109391451) * MODEL4_texOff(vec2(1,0));
res += mat4x3(0.000654434552416,0.001428877818398,0.004194098990411,0.005619962234050,0.012122467160225,0.001898097223602,0.011101981624961,0.028721703216434,0.040860146284103,-0.002916227327660,0.000231926751439,0.007086442783475) * MODEL4_texOff(vec2(1,1));
res += mat4x3(0.002389424946159,-0.000447620084742,-0.004115426912904,-0.002579781692475,0.000951768946834,0.001250887522474,-0.001169997616671,-0.000419400457758,-0.002791234292090,-0.015198553912342,-0.006620720028877,0.000970901979599) * MODEL5_texOff(vec2(-1,-1));
res += mat4x3(-0.007045467384160,0.005843451712281,0.011118741706014,0.001620173105039,-0.004487861879170,-0.007644389290363,-0.007112439721823,-0.013695662841201,-0.016192806884646,-0.013610497117043,-0.025293396785855,-0.031570598483086) * MODEL5_texOff(vec2(-1,0));
res += mat4x3(-0.003978643566370,-0.000546737050172,-0.000966148043517,0.011477694846690,0.003623548196629,-0.001337095513009,-0.001245831255801,-0.004097203724086,-0.010062029585242,-0.003713776590303,-0.000614486634731,-0.003445782465860) * MODEL5_texOff(vec2(-1,1));
res += mat4x3(0.022257704287767,-0.003464459208772,-0.003593333996832,0.012083193287253,-0.005390854086727,-0.003224632004276,0.029787288978696,0.004761649761349,-0.005688949953765,0.012215777300298,0.005511361174285,-0.001994475023821) * MODEL5_texOff(vec2(0,-1));
res += mat4x3(-0.007336906623095,-0.058990605175495,0.011713921092451,-0.066544018685818,0.015814738348126,0.053029350936413,0.040220875293016,0.024780679494143,0.015673823654652,0.026567459106445,0.033504001796246,0.031384255737066) * MODEL5_texOff(vec2(0,0));
res += mat4x3(-0.009337561205029,0.001285542268306,0.040428917855024,0.008044452406466,0.012634852901101,-0.040184129029512,0.006244323216379,-0.004679414909333,-0.003090334823355,-0.006685455329716,-0.004093460272998,0.006495011039078) * MODEL5_texOff(vec2(0,1));
res += mat4x3(-0.008592777885497,-0.004052720032632,-0.001404500333592,-0.008816433139145,-0.004942525178194,-0.006660385522991,0.003965267445892,-0.003183733206242,-0.005979808047414,-0.002509460318834,0.000376554293325,0.000115413000458) * MODEL5_texOff(vec2(1,-1));
res += mat4x3(0.001327553880401,0.005938156042248,0.007336274720728,0.024859296157956,0.010906003415585,-0.008255159482360,-0.010712509043515,-0.022375872358680,-0.018470384180546,-0.006628772709519,-0.005795511417091,-0.004442638717592) * MODEL5_texOff(vec2(1,0));
res += mat4x3(-0.004945368040353,-0.003452076576650,0.004738035146147,-0.005254833027720,-0.005534036085010,0.010479302145541,-0.003030953230336,-0.010453636758029,-0.015866627916694,-0.000148288672790,0.000683306832798,-0.002804526826367) * MODEL5_texOff(vec2(1,1));
res += mat4x3(0.000654373841826,-0.000592499272898,-0.001178379869089,0.002632289193571,0.000836897059344,-0.000216580825509,-0.010871539823711,-0.004990631248802,0.000108443717181,0.005209218710661,0.002837936626747,0.002033041557297) * MODEL6_texOff(vec2(-1,-1));
res += mat4x3(-0.001194593845867,-0.000051086004532,0.002066474873573,-0.001470271847211,-0.003704183967784,0.000611974915955,0.010455260984600,0.014066766947508,-0.001037744688801,-0.007864092476666,-0.005241173785180,0.003269455628470) * MODEL6_texOff(vec2(-1,0));
res += mat4x3(-0.000043131254643,-0.000578426348511,-0.000443425786216,-0.001684864866547,-0.001326500670984,-0.000055790675106,-0.002642313018441,0.002006077673286,0.006348113995045,-0.001725681358948,-0.001246378757060,-0.001402384019457) * MODEL6_texOff(vec2(-1,1));
res += mat4x3(0.001215409603901,0.005968198645860,0.002633262658492,0.003761719912291,0.003750123316422,0.000259242486209,0.024758268147707,0.008483123034239,-0.005791290197521,-0.017742060124874,0.015215123072267,0.005371449049562) * MODEL6_texOff(vec2(0,-1));
res += mat4x3(-0.010354191064835,-0.010656617581844,-0.004423462785780,0.025061093270779,-0.010157790966332,-0.016985183581710,0.016687348484993,-0.069175966084003,-0.035882655531168,0.056260120123625,0.029325818642974,-0.059455078095198) * MODEL6_texOff(vec2(0,0));
res += mat4x3(0.000077192438766,-0.000413435685914,-0.004358704667538,-0.005578641779721,-0.007404678966850,0.012732334434986,-0.011166254989803,-0.000419140647864,0.042845696210861,-0.001454701996408,-0.011849919334054,-0.007429167162627) * MODEL6_texOff(vec2(0,1));
res += mat4x3(-0.008719186298549,-0.001091600395739,-0.000409626576584,-0.001443362561986,0.000592816912103,0.000964375736658,-0.001460938830860,0.006034769583493,0.004358856938779,-0.006910146214068,0.000289146497380,0.004765601363033) * MODEL6_texOff(vec2(1,-1));
res += mat4x3(-0.075060702860355,-0.066889129579067,-0.038570359349251,0.000795137370005,-0.001005785539746,-0.002362200990319,-0.007334659341723,0.010025843046606,0.008069184608757,-0.007329451851547,0.002108813263476,-0.001506683416665) * MODEL6_texOff(vec2(1,0));
res += mat4x3(0.005164730362594,-0.008276372216642,-0.044219020754099,-0.001846154569648,-0.002364935586229,-0.000545396702364,0.000225434792810,-0.001384815201163,-0.009636304341257,0.000858804676682,0.000120486525702,-0.006974712479860) * MODEL6_texOff(vec2(1,1));
#elif (SHARP == 1)
vec3 res = vec3(0.001349324244075,0.001381907262839,-0.000102407393570);
res += mat4x3(-0.001377312699333,-0.001976032508537,-0.000323047075653,0.003905107732862,0.004576073493809,0.002088437089697,-0.012410219758749,-0.006555291358382,-0.003530174493790,-0.004029548726976,0.000952449045144,0.002361562335864) * MODEL4_texOff(vec2(-1,-1));
res += mat4x3(0.003066540928558,0.002318192040548,0.000418844225351,0.012059767730534,0.007492644246668,0.005926587618887,-0.009131005965173,-0.022943308576941,-0.027366645634174,-0.004170245025307,-0.005381845869124,-0.006519379559904) * MODEL4_texOff(vec2(-1,0));
res += mat4x3(0.000559125677682,0.001938449102454,0.002603086875752,-0.001948366407305,0.002375137060881,0.010246121324599,0.001075779553503,0.004111932590604,0.001880478695966,0.006606130395085,0.005573625210673,-0.003605904988945) * MODEL4_texOff(vec2(-1,1));
res += mat4x3(0.014323812909424,-0.003103316528723,-0.007539467420429,-0.003206635359675,0.007844746112823,0.005441416520625,0.029363051056862,0.008818277157843,-0.004749303683639,0.029144288972020,-0.014857239089906,-0.010259330272675) * MODEL4_texOff(vec2(0,-1));
res += mat4x3(-0.021433442831039,-0.001656389445998,0.016875801607966,-0.044756658375263,-0.049743492156267,-0.025816291570663,0.007440339308232,0.029145404696465,0.043184816837311,-0.044218756258488,-0.010196233168244,0.059678930789232) * MODEL4_texOff(vec2(0,0));
res += mat4x3(0.004623987711966,-0.000878035323694,-0.015166406519711,0.009084246121347,0.008500426076353,-0.009606554172933,0.001369134406559,-0.000664741150104,-0.006132245063782,-0.002292077988386,0.007086947560310,-0.002073900075629) * MODEL4_texOff(vec2(0,1));
res += mat4x3(0.008947811089456,-0.008190146647394,-0.008914116770029,0.005528155714273,0.005695038940758,0.002638797275722,0.000709488522261,0.000760535709560,0.000178670597961,-0.009282455779612,0.001968853874132,-0.001734856283292) * MODEL4_texOff(vec2(1,-1));
res += mat4x3(-0.006549027748406,0.008249711245298,0.018194552510977,0.008853700011969,0.005365142133087,0.006522511132061,-0.003941632807255,-0.004903375636786,-0.001603026175871,0.030850803479552,0.038100969046354,-0.006884656380862) * MODEL4_texOff(vec2(1,0));
res += mat4x3(0.001800550380722,-0.001565236365423,-0.008546622470021,0.008708846755326,0.014138399623334,0.014575884677470,0.001514331088401,0.003839357756078,0.000407603540225,-0.000970510649495,-0.011164084076881,-0.009397187270224) * MODEL4_texOff(vec2(1,1));
res += mat4x3(0.004914110526443,-0.000357160839485,0.000218053261051,-0.005830907728523,-0.008698191493750,-0.006906967610121,0.000739746494219,0.002633687807247,0.003089612117037,-0.000537642044947,0.000156048175995,0.000719948555343) * MODEL5_texOff(vec2(-1,-1));
res += mat4x3(-0.000964056293014,-0.006866817828268,-0.003669790225103,0.005049201194197,0.013517565093935,0.006275556515902,0.004931167699397,0.002238137414679,0.002392252441496,-0.004160184878856,-0.003605933161452,-0.002351919887587) * MODEL5_texOff(vec2(-1,0));
res += mat4x3(0.000348002737155,0.000224647985306,-0.000422530021751,-0.002309920964763,0.005503586027771,0.005959859117866,0.001049732905813,0.002259196015075,0.003680026391521,0.000877615064383,0.000227695403737,-0.002079949015751) * MODEL5_texOff(vec2(-1,1));
res += mat4x3(-0.004370603244752,0.030497577041388,0.008511284366250,0.002425929531455,0.033477179706097,0.008781191892922,-0.006200205069035,-0.007344781886786,-0.002196816494688,-0.000336192169925,-0.002484966767952,-0.001727167749777) * MODEL5_texOff(vec2(0,-1));
res += mat4x3(0.043847881257534,0.013784375041723,-0.069827601313591,0.018113847821951,-0.056919734925032,-0.078969173133373,0.017227366566658,0.026718409731984,0.021974245086312,0.013565549626946,0.011680036783218,0.006279644556344) * MODEL5_texOff(vec2(0,0));
res += mat4x3(-0.005880474112928,-0.012414863333106,0.004467958118767,-0.004738987423480,-0.000880664738361,0.021342294290662,0.002218344481662,-0.003481391351670,0.006542298477143,0.001345762517303,0.004619229584932,0.008657254278660) * MODEL5_texOff(vec2(0,1));
res += mat4x3(0.003571053734049,0.003445253940299,0.000030555082049,-0.003922292497009,-0.002797967521474,0.007651603780687,-0.001614766893908,-0.009011222980917,0.002770471386611,0.000859525927808,-0.000743699725717,-0.001282199053094) * MODEL5_texOff(vec2(1,-1));
res += mat4x3(0.003280622651801,-0.000591614749283,-0.009455954656005,-0.011343945749104,0.004551282152534,0.013951318338513,0.017794430255890,0.022148629650474,0.034930989146233,-0.021330323070288,-0.013393926434219,-0.001449871575460) * MODEL5_texOff(vec2(1,0));
res += mat4x3(-0.002101225545630,-0.002471358980983,0.001570619526319,0.000569410796743,-0.001198979560286,-0.005769954994321,0.003565074875951,0.008479906246066,0.030265035107732,-0.001150612719357,-0.006062922999263,-0.015158164314926) * MODEL5_texOff(vec2(1,1));
res += mat4x3(0.001941159716807,0.002437225310132,-0.000066909698944,0.002143484773114,0.004581699147820,0.002936993259937,-0.003447954542935,-0.002927960827947,-0.001209151931107,-0.001128155621700,0.000349449721398,0.000951996131334) * MODEL6_texOff(vec2(-1,-1));
res += mat4x3(-0.003665639320388,-0.004941315855831,-0.002868374111131,-0.006277760956436,-0.006612628698349,-0.003477455815300,-0.005355240777135,-0.006096985191107,-0.006844173185527,-0.004706960637122,-0.000216457861825,-0.000538765394595) * MODEL6_texOff(vec2(-1,0));
res += mat4x3(-0.008692396804690,0.002105270512402,0.007061155978590,-0.001691279816441,-0.006025110837072,-0.007664262782782,0.001669837278314,0.001442231587134,-0.001017520320602,0.002296880120412,0.000462208874524,-0.005074379500002) * MODEL6_texOff(vec2(-1,1));
res += mat4x3(-0.003895735135302,0.003729080781341,0.003163995919749,0.000031595216569,-0.001109453733079,-0.003425685456023,0.020049881190062,-0.001337589812465,-0.005461243446916,0.000969636777882,-0.005381838884205,-0.004426872823387) * MODEL6_texOff(vec2(0,-1));
res += mat4x3(0.050304975360632,-0.021116416901350,-0.022090710699558,-0.073217652738094,-0.046411935240030,-0.008070145733654,0.006126579828560,0.025487633422017,0.029872056096792,-0.028686968609691,-0.000033510103094,0.014894026331604) * MODEL6_texOff(vec2(0,0));
res += mat4x3(-0.002105986000970,-0.067057013511658,0.033227548003197,0.002361361170188,-0.013649296015501,-0.037453945726156,0.000685030827299,0.004186976701021,-0.000960060977377,-0.008241567760706,0.026697738096118,0.028039941564202) * MODEL6_texOff(vec2(0,1));
res += mat4x3(0.001417363760993,0.002737920498475,0.001538803800941,-0.003438877873123,0.004417551681399,0.004324048757553,0.002822571899742,0.016913607716560,-0.000483452255139,-0.001516281976365,-0.005000649485737,-0.002147882478312) * MODEL6_texOff(vec2(1,-1));
res += mat4x3(-0.004765650257468,-0.005045999307185,-0.003225381486118,0.000523650669493,-0.009044241160154,-0.008607065305114,-0.004237337037921,-0.029600089415908,-0.046303946524858,-0.020966015756130,0.013860714621842,0.010430858470500) * MODEL6_texOff(vec2(1,0));
res += mat4x3(0.001601160387509,0.004558016546071,0.003690516343340,-0.002131033921614,-0.001289550098591,0.000580092892051,-0.003248081542552,-0.000314434204483,0.000222673159442,0.003296982031316,0.009721175767481,-0.011472408659756) * MODEL6_texOff(vec2(1,1));
#endif

return vec4(res, 0);
}

//!HOOK LUMA
//!WHEN OUTPUT.w LUMA.w 2.200 * > OUTPUT.h LUMA.h 2.200 * > *
//!WIDTH LUMA.w 3 *
//!HEIGHT LUMA.h 3 *
//!BIND SUBCONV1
//!BIND SUBCONV2
//!BIND SUBCONV3
//!BIND LANCZOS3
//!DESC [AiUpscale_Fast_3x_LineArt_RT] depth to space

vec4 hook()
{
vec2 fcoord = fract(SUBCONV1_pos * SUBCONV1_size);
vec2 base = SUBCONV1_pos + (vec2(0.5) - fcoord) * SUBCONV1_pt;
ivec2 index = ivec2(fcoord * vec2(3));
mat3 res = mat3(SUBCONV1_tex(base).rgb,SUBCONV2_tex(base).rgb,SUBCONV3_tex(base).rgb);
return vec4(res[index.x][index.y] + float(LANCZOS3_texOff(0)), 0, 0, 1);
}
